<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">

<head>
<meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
<link href="coqdoc.css" rel="stylesheet" type="text/css" />
<link href="coqdocjs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="config.js"></script>
<script type="text/javascript" src="coqdocjs.js"></script>
</head>

<body onload="document.getElementById('content').focus()">
  <div id="header">
    <span class="left">
      <span class="modulename"> <script> document.write(document.title) </script> </span>
    </span>

    <span class="button" id="toggle-proofs"></span>

    <span class="right">
      <a href="../">Project Page</a>
      <a href="./indexpage.html"> Index </a>
      <a href="./toc.html"> Table of Contents </a>
    </span>
</div>
    <div id="content" tabindex="-1" onblur="document.getElementById('content').focus()">
    <div id="main">
<h1 class="libtitle">cap_machine.region</h1>

<div class="code">
<span class="id" title="keyword">From</span> <span class="id" title="var">cap_machine</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Export</span> <a class="idref" href="cap_machine.stdpp_extra.html#"><span class="id" title="library">stdpp_extra</span></a> <a class="idref" href="cap_machine.cap_lang.html#"><span class="id" title="library">cap_lang</span></a> <a class="idref" href="cap_machine.rules.rules_base.html#"><span class="id" title="library">rules_base</span></a>.<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">cap_machine</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="cap_machine.rules_binary.rules_binary_base.html#"><span class="id" title="library">rules_binary_base</span></a>.<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">iris.proofmode</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <span class="id" title="library">tactics</span>.<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">cap_machine</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="cap_machine.addr_reg.html#"><span class="id" title="library">addr_reg</span></a>. <span class="comment">(*&nbsp;Required&nbsp;because&nbsp;of&nbsp;a&nbsp;weird&nbsp;Coq&nbsp;bug&nbsp;related&nbsp;to&nbsp;imports&nbsp;*)</span><br/>

<br/>
<span class="id" title="keyword">Section</span> <a id="region" class="idref" href="#region"><span class="id" title="section">region</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> `{<a id="H:1" class="idref" href="#H:1"><span class="id" title="binder">MachineParameters</span></a>, <a id="H0:3" class="idref" href="#H0:3"><span class="id" title="binder">memG</span></a> <a id="H0:3" class="idref" href="#H0:3"><span class="id" title="binder">Σ</span></a>, <a id="H1:4" class="idref" href="#H1:4"><span class="id" title="binder">regG</span></a> <a id="H1:4" class="idref" href="#H1:4"><span class="id" title="binder">Σ</span></a>, <a id="cfg:5" class="idref" href="#cfg:5"><span class="id" title="binder">cfg</span></a>: <a class="idref" href="cap_machine.rules_binary.rules_binary_base.html#cfgSG"><span class="id" title="class">cfgSG</span></a> <a class="idref" href="cap_machine.region.html#ebf069dbc779b42a15c441a6d39d5f83"><span class="id" title="variable">Σ</span></a>}.<br/>

<br/>
&nbsp;&nbsp;<span class="comment">(*-------------------------&nbsp;region_size&nbsp;------------------------------------*)</span><br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="region_size" class="idref" href="#region_size"><span class="id" title="definition">region_size</span></a> : <a class="idref" href="cap_machine.addr_reg.html#Addr"><span class="id" title="inductive">Addr</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="cap_machine.addr_reg.html#Addr"><span class="id" title="inductive">Addr</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="b:6" class="idref" href="#b:6"><span class="id" title="binder">b</span></a> <a id="e:7" class="idref" href="#e:7"><span class="id" title="binder">e</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.ZArith.BinInt.html#Z.to_nat"><span class="id" title="definition">Z.to_nat</span></a> (<a class="idref" href="cap_machine.region.html#e:7"><span class="id" title="variable">e</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.ZArith.BinInt.html#::Z_scope:x_'-'_x"><span class="id" title="notation">-</span></a> <a class="idref" href="cap_machine.region.html#b:6"><span class="id" title="variable">b</span></a>).<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="region_size_S" class="idref" href="#region_size_S"><span class="id" title="lemma">region_size_S</span></a> <a id="a:8" class="idref" href="#a:8"><span class="id" title="binder">a</span></a> <a id="b:9" class="idref" href="#b:9"><span class="id" title="binder">b</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="cap_machine.region.html#a:8"><span class="id" title="variable">a</span></a> <a class="idref" href="cap_machine.addr_reg.html#::Addr_scope:x_'&lt;'_x"><span class="id" title="notation">&lt;</span></a> <a class="idref" href="cap_machine.region.html#b:9"><span class="id" title="variable">b</span></a>)%<span class="id" title="var">a</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="cap_machine.region.html#region_size"><span class="id" title="definition">region_size</span></a> <a class="idref" href="cap_machine.region.html#a:8"><span class="id" title="variable">a</span></a> <a class="idref" href="cap_machine.region.html#b:9"><span class="id" title="variable">b</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> (<a class="idref" href="cap_machine.region.html#region_size"><span class="id" title="definition">region_size</span></a> (<a class="idref" href="cap_machine.addr_reg.html#1d48f14c43e86dff2b7280147a285103"><span class="id" title="notation">^(</span></a><a class="idref" href="cap_machine.region.html#a:8"><span class="id" title="variable">a</span></a><a class="idref" href="cap_machine.addr_reg.html#83f9bcf2054d3d441d475f25e3e951c6"><span class="id" title="notation">+</span></a>1<a class="idref" href="cap_machine.addr_reg.html#1d48f14c43e86dff2b7280147a285103"><span class="id" title="notation">)</span></a>)%<span class="id" title="var">a</span> <a class="idref" href="cap_machine.region.html#b:9"><span class="id" title="variable">b</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">rewrite</span> /<a class="idref" href="cap_machine.region.html#region_size"><span class="id" title="definition">region_size</span></a>. <span class="id" title="var">solve_addr</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="region_size_0" class="idref" href="#region_size_0"><span class="id" title="lemma">region_size_0</span></a> <a id="a:10" class="idref" href="#a:10"><span class="id" title="binder">a</span></a> <a id="b:11" class="idref" href="#b:11"><span class="id" title="binder">b</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="cap_machine.region.html#b:11"><span class="id" title="variable">b</span></a> <a class="idref" href="cap_machine.addr_reg.html#8ccc7a9bb9ba1c27ed0dba9945a4cbb0"><span class="id" title="notation">&lt;=</span></a> <a class="idref" href="cap_machine.region.html#a:10"><span class="id" title="variable">a</span></a>)%<span class="id" title="var">a</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="cap_machine.region.html#region_size"><span class="id" title="definition">region_size</span></a> <a class="idref" href="cap_machine.region.html#a:10"><span class="id" title="variable">a</span></a> <a class="idref" href="cap_machine.region.html#b:11"><span class="id" title="variable">b</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> 0.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">rewrite</span> /<a class="idref" href="cap_machine.region.html#region_size"><span class="id" title="definition">region_size</span></a>. <span class="id" title="var">solve_addr</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="region_size_split" class="idref" href="#region_size_split"><span class="id" title="lemma">region_size_split</span></a> (<a id="a:12" class="idref" href="#a:12"><span class="id" title="binder">a</span></a> <a id="b:13" class="idref" href="#b:13"><span class="id" title="binder">b</span></a> <a id="e:14" class="idref" href="#e:14"><span class="id" title="binder">e</span></a> : <a class="idref" href="cap_machine.addr_reg.html#Addr"><span class="id" title="inductive">Addr</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="cap_machine.region.html#b:13"><span class="id" title="variable">b</span></a> <span class="id" title="notation">≤</span> <a class="idref" href="cap_machine.region.html#a:12"><span class="id" title="variable">a</span></a> <span class="id" title="notation">≤</span> <a class="idref" href="cap_machine.region.html#e:14"><span class="id" title="variable">e</span></a>)%<span class="id" title="var">Z</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="cap_machine.region.html#region_size"><span class="id" title="definition">region_size</span></a> <a class="idref" href="cap_machine.region.html#b:13"><span class="id" title="variable">b</span></a> <a class="idref" href="cap_machine.region.html#e:14"><span class="id" title="variable">e</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="cap_machine.region.html#region_size"><span class="id" title="definition">region_size</span></a> <a class="idref" href="cap_machine.region.html#b:13"><span class="id" title="variable">b</span></a> <a class="idref" href="cap_machine.region.html#a:12"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> <a class="idref" href="cap_machine.region.html#region_size"><span class="id" title="definition">region_size</span></a> <a class="idref" href="cap_machine.region.html#a:12"><span class="id" title="variable">a</span></a> <a class="idref" href="cap_machine.region.html#e:14"><span class="id" title="variable">e</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">intros</span> [? ?]. <span class="id" title="tactic">rewrite</span> /<a class="idref" href="cap_machine.region.html#region_size"><span class="id" title="definition">region_size</span></a>. <span class="id" title="var">solve_addr</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="get_addr_from_option_addr_region_size" class="idref" href="#get_addr_from_option_addr_region_size"><span class="id" title="lemma">get_addr_from_option_addr_region_size</span></a> (<a id="a:15" class="idref" href="#a:15"><span class="id" title="binder">a</span></a> <a id="b:16" class="idref" href="#b:16"><span class="id" title="binder">b</span></a> : <a class="idref" href="cap_machine.addr_reg.html#Addr"><span class="id" title="inductive">Addr</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="cap_machine.region.html#b:16"><span class="id" title="variable">b</span></a> <span class="id" title="notation">≤</span> <a class="idref" href="cap_machine.region.html#a:15"><span class="id" title="variable">a</span></a>)%<span class="id" title="var">Z</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="cap_machine.addr_reg.html#1d48f14c43e86dff2b7280147a285103"><span class="id" title="notation">^(</span></a><a class="idref" href="cap_machine.region.html#b:16"><span class="id" title="variable">b</span></a> <a class="idref" href="cap_machine.addr_reg.html#83f9bcf2054d3d441d475f25e3e951c6"><span class="id" title="notation">+</span></a> <a class="idref" href="cap_machine.region.html#region_size"><span class="id" title="definition">region_size</span></a> <a class="idref" href="cap_machine.region.html#b:16"><span class="id" title="variable">b</span></a> <a class="idref" href="cap_machine.region.html#a:15"><span class="id" title="variable">a</span></a><a class="idref" href="cap_machine.addr_reg.html#1d48f14c43e86dff2b7280147a285103"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="cap_machine.region.html#a:15"><span class="id" title="variable">a</span></a>)%<span class="id" title="var">a</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">intros</span> <span class="id" title="var">Hle</span>. <span class="id" title="tactic">rewrite</span> /<a class="idref" href="cap_machine.region.html#region_size"><span class="id" title="definition">region_size</span></a>. <span class="id" title="var">solve_addr</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="incr_addr_region_size" class="idref" href="#incr_addr_region_size"><span class="id" title="lemma">incr_addr_region_size</span></a> (<a id="a:17" class="idref" href="#a:17"><span class="id" title="binder">a</span></a> <a id="b:18" class="idref" href="#b:18"><span class="id" title="binder">b</span></a> : <a class="idref" href="cap_machine.addr_reg.html#Addr"><span class="id" title="inductive">Addr</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="cap_machine.region.html#b:18"><span class="id" title="variable">b</span></a> <a class="idref" href="cap_machine.addr_reg.html#8ccc7a9bb9ba1c27ed0dba9945a4cbb0"><span class="id" title="notation">&lt;=</span></a> <a class="idref" href="cap_machine.region.html#a:17"><span class="id" title="variable">a</span></a>)%<span class="id" title="var">a</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="cap_machine.region.html#b:18"><span class="id" title="variable">b</span></a> <a class="idref" href="cap_machine.addr_reg.html#83f9bcf2054d3d441d475f25e3e951c6"><span class="id" title="notation">+</span></a> <a class="idref" href="cap_machine.region.html#region_size"><span class="id" title="definition">region_size</span></a> <a class="idref" href="cap_machine.region.html#b:18"><span class="id" title="variable">b</span></a> <a class="idref" href="cap_machine.region.html#a:17"><span class="id" title="variable">a</span></a>)%<span class="id" title="var">a</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="cap_machine.region.html#a:17"><span class="id" title="variable">a</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">intros</span>. <span class="id" title="tactic">unfold</span> <a class="idref" href="cap_machine.region.html#region_size"><span class="id" title="definition">region_size</span></a>. <span class="id" title="var">solve_addr</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="incr_addr_region_size_iff" class="idref" href="#incr_addr_region_size_iff"><span class="id" title="lemma">incr_addr_region_size_iff</span></a> (<a id="a:19" class="idref" href="#a:19"><span class="id" title="binder">a</span></a> <a id="b:20" class="idref" href="#b:20"><span class="id" title="binder">b</span></a> : <a class="idref" href="cap_machine.addr_reg.html#Addr"><span class="id" title="inductive">Addr</span></a>) (<a id="i:21" class="idref" href="#i:21"><span class="id" title="binder">i</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="cap_machine.region.html#a:19"><span class="id" title="variable">a</span></a> <a class="idref" href="cap_machine.addr_reg.html#83f9bcf2054d3d441d475f25e3e951c6"><span class="id" title="notation">+</span></a> <a class="idref" href="cap_machine.region.html#i:21"><span class="id" title="variable">i</span></a>)%<span class="id" title="var">a</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="cap_machine.region.html#b:20"><span class="id" title="variable">b</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Unicode.Utf8_core.html#d9d5c539a07c7350478e89358d1fe520"><span class="id" title="notation">↔</span></a> (<a class="idref" href="cap_machine.region.html#a:19"><span class="id" title="variable">a</span></a> <a class="idref" href="cap_machine.addr_reg.html#8ccc7a9bb9ba1c27ed0dba9945a4cbb0"><span class="id" title="notation">&lt;=</span></a> <a class="idref" href="cap_machine.region.html#b:20"><span class="id" title="variable">b</span></a>)%<span class="id" title="var">a</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Unicode.Utf8_core.html#3668992ecc3e95973d304a75a28051a2"><span class="id" title="notation">∧</span></a> <a class="idref" href="cap_machine.region.html#region_size"><span class="id" title="definition">region_size</span></a> <a class="idref" href="cap_machine.region.html#a:19"><span class="id" title="variable">a</span></a> <a class="idref" href="cap_machine.region.html#b:20"><span class="id" title="variable">b</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="cap_machine.region.html#i:21"><span class="id" title="variable">i</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="cap_machine.region.html#region_size"><span class="id" title="definition">region_size</span></a>. <span class="id" title="tactic">split</span>; [ <span class="id" title="tactic">intros</span> | <span class="id" title="tactic">intros</span> [? ?] ]; <span class="id" title="var">solve_addr</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="comment">(*--------------------------&nbsp;region_addrs_aux&nbsp;------------------------------*)</span><br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Fixpoint</span> <a id="region_addrs_aux" class="idref" href="#region_addrs_aux"><span class="id" title="definition">region_addrs_aux</span></a> (<a id="b:22" class="idref" href="#b:22"><span class="id" title="binder">b</span></a>: <a class="idref" href="cap_machine.addr_reg.html#Addr"><span class="id" title="inductive">Addr</span></a>) (<a id="n:23" class="idref" href="#n:23"><span class="id" title="binder">n</span></a>: <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>): <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="cap_machine.addr_reg.html#Addr"><span class="id" title="inductive">Addr</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="cap_machine.region.html#n:23"><span class="id" title="variable">n</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| 0 =&gt; <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Datatypes.html#nil"><span class="id" title="constructor">nil</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <span class="id" title="var">n</span> =&gt; <a class="idref" href="cap_machine.region.html#b:22"><span class="id" title="variable">b</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">(</span></a><a class="idref" href="cap_machine.region.html#region_addrs_aux:24"><span class="id" title="definition">region_addrs_aux</span></a> (<a class="idref" href="cap_machine.addr_reg.html#1d48f14c43e86dff2b7280147a285103"><span class="id" title="notation">^(</span></a><a class="idref" href="cap_machine.region.html#b:22"><span class="id" title="variable">b</span></a> <a class="idref" href="cap_machine.addr_reg.html#83f9bcf2054d3d441d475f25e3e951c6"><span class="id" title="notation">+</span></a> 1<a class="idref" href="cap_machine.addr_reg.html#1d48f14c43e86dff2b7280147a285103"><span class="id" title="notation">)</span></a>%<span class="id" title="var">a</span>) <a class="idref" href="cap_machine.region.html#n:23"><span class="id" title="variable">n</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="region_addrs_aux_length" class="idref" href="#region_addrs_aux_length"><span class="id" title="lemma">region_addrs_aux_length</span></a>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">forall</span> <a id="n:26" class="idref" href="#n:26"><span class="id" title="binder">n</span></a> <a id="b:27" class="idref" href="#b:27"><span class="id" title="binder">b</span></a><span class="id" title="notation">,</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="abbreviation">length</span> (<a class="idref" href="cap_machine.region.html#region_addrs_aux"><span class="id" title="definition">region_addrs_aux</span></a> <a class="idref" href="cap_machine.region.html#b:27"><span class="id" title="variable">b</span></a> <a class="idref" href="cap_machine.region.html#n:26"><span class="id" title="variable">n</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="cap_machine.region.html#n:26"><span class="id" title="variable">n</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">induction</span> <span class="id" title="var">n</span>; <span class="id" title="tactic">intros</span>; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">auto</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="region_addrs_aux_singleton" class="idref" href="#region_addrs_aux_singleton"><span class="id" title="definition">region_addrs_aux_singleton</span></a> (<a id="a:28" class="idref" href="#a:28"><span class="id" title="binder">a</span></a> : <a class="idref" href="cap_machine.addr_reg.html#Addr"><span class="id" title="inductive">Addr</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">[</span></a><a class="idref" href="cap_machine.region.html#a:28"><span class="id" title="variable">a</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">]</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="cap_machine.region.html#region_addrs_aux"><span class="id" title="definition">region_addrs_aux</span></a> <a class="idref" href="cap_machine.region.html#a:28"><span class="id" title="variable">a</span></a> 1. <span class="id" title="keyword">Proof</span>. <span class="id" title="var">done</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="region_addrs_aux_decomposition" class="idref" href="#region_addrs_aux_decomposition"><span class="id" title="lemma">region_addrs_aux_decomposition</span></a> <a id="n:29" class="idref" href="#n:29"><span class="id" title="binder">n</span></a> <a id="b:30" class="idref" href="#b:30"><span class="id" title="binder">b</span></a> <a id="k:31" class="idref" href="#k:31"><span class="id" title="binder">k</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="cap_machine.region.html#k:31"><span class="id" title="variable">k</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Peano.html#cb53cf0ee22c036a03b4a9281c68b5a3"><span class="id" title="notation">&lt;=</span></a> <a class="idref" href="cap_machine.region.html#n:29"><span class="id" title="variable">n</span></a>)%<span class="id" title="var">nat</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="cap_machine.region.html#region_addrs_aux"><span class="id" title="definition">region_addrs_aux</span></a> <a class="idref" href="cap_machine.region.html#b:30"><span class="id" title="variable">b</span></a> <a class="idref" href="cap_machine.region.html#n:29"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="cap_machine.region.html#region_addrs_aux"><span class="id" title="definition">region_addrs_aux</span></a> <a class="idref" href="cap_machine.region.html#b:30"><span class="id" title="variable">b</span></a> <a class="idref" href="cap_machine.region.html#k:31"><span class="id" title="variable">k</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">(</span></a><a class="idref" href="cap_machine.region.html#region_addrs_aux"><span class="id" title="definition">region_addrs_aux</span></a> (<a class="idref" href="cap_machine.addr_reg.html#1d48f14c43e86dff2b7280147a285103"><span class="id" title="notation">^(</span></a><a class="idref" href="cap_machine.region.html#b:30"><span class="id" title="variable">b</span></a> <a class="idref" href="cap_machine.addr_reg.html#83f9bcf2054d3d441d475f25e3e951c6"><span class="id" title="notation">+</span></a> <a class="idref" href="cap_machine.region.html#k:31"><span class="id" title="variable">k</span></a><a class="idref" href="cap_machine.addr_reg.html#1d48f14c43e86dff2b7280147a285103"><span class="id" title="notation">)</span></a>%<span class="id" title="var">a</span>) (<a class="idref" href="cap_machine.region.html#n:29"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Peano.html#::nat_scope:x_'-'_x"><span class="id" title="notation">-</span></a> <a class="idref" href="cap_machine.region.html#k:31"><span class="id" title="variable">k</span></a>)<a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">)</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">revert</span> <span class="id" title="var">b</span> <span class="id" title="var">k</span>. <span class="id" title="tactic">induction</span> <span class="id" title="var">n</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">intros</span>. <span class="id" title="tactic">assert</span> ((<span class="id" title="var">k</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> 0)%<span class="id" title="var">nat</span>) <span class="id" title="tactic">by</span> <span class="id" title="var">lia</span>; <span class="id" title="tactic">subst</span> <span class="id" title="var">k</span>. <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> * <span class="id" title="var">HH</span>. <span class="id" title="var">inv</span> <span class="id" title="var">HH</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Numbers.Natural.Peano.NPeano.html#Nat.sub_diag"><span class="id" title="lemma">Nat.sub_diag</span></a>. <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Lists.List.html#app_nil_r"><span class="id" title="lemma">app_nil_r</span></a> //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">k</span>; <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="cap_machine.solve_addr.html#addr_add_0"><span class="id" title="lemma">addr_add_0</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<span class="id" title="var">IHn</span> (<a class="idref" href="cap_machine.addr_reg.html#1d48f14c43e86dff2b7280147a285103"><span class="id" title="notation">^(</span></a><span class="id" title="var">b</span><a class="idref" href="cap_machine.addr_reg.html#83f9bcf2054d3d441d475f25e3e951c6"><span class="id" title="notation">+</span></a>1<a class="idref" href="cap_machine.addr_reg.html#1d48f14c43e86dff2b7280147a285103"><span class="id" title="notation">)</span></a>)%<span class="id" title="var">a</span> <span class="id" title="var">k</span>); [|<span class="id" title="var">lia</span>]. <span class="id" title="tactic">do</span> 3 <span class="id" title="tactic">f_equal</span>. <span class="id" title="var">solve_addr</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="region_addrs_aux_spec" class="idref" href="#region_addrs_aux_spec"><span class="id" title="lemma">region_addrs_aux_spec</span></a> <a id="n:32" class="idref" href="#n:32"><span class="id" title="binder">n</span></a> <a id="b:33" class="idref" href="#b:33"><span class="id" title="binder">b</span></a> <a id="k:34" class="idref" href="#k:34"><span class="id" title="binder">k</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="cap_machine.region.html#k:34"><span class="id" title="variable">k</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Peano.html#::nat_scope:x_'&lt;'_x"><span class="id" title="notation">&lt;</span></a> <a class="idref" href="cap_machine.region.html#n:32"><span class="id" title="variable">n</span></a>)%<span class="id" title="var">nat</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Lists.List.html#nth_error"><span class="id" title="definition">nth_error</span></a> (<a class="idref" href="cap_machine.region.html#region_addrs_aux"><span class="id" title="definition">region_addrs_aux</span></a> <a class="idref" href="cap_machine.region.html#b:33"><span class="id" title="variable">b</span></a> <a class="idref" href="cap_machine.region.html#n:32"><span class="id" title="variable">n</span></a>) <a class="idref" href="cap_machine.region.html#k:34"><span class="id" title="variable">k</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> (<a class="idref" href="cap_machine.addr_reg.html#1d48f14c43e86dff2b7280147a285103"><span class="id" title="notation">^(</span></a><a class="idref" href="cap_machine.region.html#b:33"><span class="id" title="variable">b</span></a> <a class="idref" href="cap_machine.addr_reg.html#83f9bcf2054d3d441d475f25e3e951c6"><span class="id" title="notation">+</span></a> <a class="idref" href="cap_machine.region.html#k:34"><span class="id" title="variable">k</span></a><a class="idref" href="cap_machine.addr_reg.html#1d48f14c43e86dff2b7280147a285103"><span class="id" title="notation">)</span></a>%<span class="id" title="var">a</span>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">revert</span> <span class="id" title="var">b</span> <span class="id" title="var">k</span>. <span class="id" title="tactic">induction</span> <span class="id" title="var">n</span>; <span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">assert</span> (<span class="id" title="var">X</span>: <span class="id" title="var">k</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">n</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">\/</span></a> <span class="id" title="var">k</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Peano.html#::nat_scope:x_'&lt;'_x"><span class="id" title="notation">&lt;</span></a> <span class="id" title="var">n</span>) <span class="id" title="tactic">by</span> <span class="id" title="var">lia</span>; <span class="id" title="tactic">destruct</span> <span class="id" title="var">X</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">X</span> | <span class="id" title="var">X</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">subst</span> <span class="id" title="var">k</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">n</span>; <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">f_equal</span>. <span class="id" title="var">solve_addr</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">rewrite</span> <span class="id" title="var">IHn</span>; [| <span class="id" title="var">lia</span>]. <span class="id" title="tactic">f_equal</span>. <span class="id" title="var">solve_addr</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">IHn</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="cap_machine.region.html#region_addrs_aux_decomposition"><span class="id" title="lemma">region_addrs_aux_decomposition</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <span class="id" title="var">n</span>) <span class="id" title="var">b</span> <span class="id" title="var">n</span>); [| <span class="id" title="var">lia</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Lists.List.html#nth_error_app1"><span class="id" title="lemma">nth_error_app1</span></a>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="cap_machine.region.html#region_addrs_aux_length"><span class="id" title="lemma">region_addrs_aux_length</span></a>. <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="not_elem_of_region_addrs_aux" class="idref" href="#not_elem_of_region_addrs_aux"><span class="id" title="lemma">not_elem_of_region_addrs_aux</span></a> <a id="a:35" class="idref" href="#a:35"><span class="id" title="binder">a</span></a> <a id="n:36" class="idref" href="#n:36"><span class="id" title="binder">n</span></a> (<a id="i:37" class="idref" href="#i:37"><span class="id" title="binder">i</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Numbers.BinNums.html#Z"><span class="id" title="inductive">Z</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="cap_machine.region.html#i:37"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.ZArith.BinInt.html#::Z_scope:x_'&gt;'_x"><span class="id" title="notation">&gt;</span></a> 0)%<span class="id" title="var">Z</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="cap_machine.region.html#a:35"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Unicode.Utf8_core.html#eac9b9307401b34847f15ea69bb5957f"><span class="id" title="notation">≠</span></a> <a class="idref" href="cap_machine.addr_reg.html#top"><span class="id" title="definition">addr_reg.top</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="cap_machine.region.html#a:35"><span class="id" title="variable">a</span></a> <span class="id" title="notation">∉</span> <a class="idref" href="cap_machine.region.html#region_addrs_aux"><span class="id" title="definition">region_addrs_aux</span></a> (<a class="idref" href="cap_machine.addr_reg.html#1d48f14c43e86dff2b7280147a285103"><span class="id" title="notation">^(</span></a><a class="idref" href="cap_machine.region.html#a:35"><span class="id" title="variable">a</span></a> <a class="idref" href="cap_machine.addr_reg.html#83f9bcf2054d3d441d475f25e3e951c6"><span class="id" title="notation">+</span></a> <a class="idref" href="cap_machine.region.html#i:37"><span class="id" title="variable">i</span></a><a class="idref" href="cap_machine.addr_reg.html#1d48f14c43e86dff2b7280147a285103"><span class="id" title="notation">)</span></a>%<span class="id" title="var">a</span>) <a class="idref" href="cap_machine.region.html#n:36"><span class="id" title="variable">n</span></a>.<br/>
&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Hi</span> <span class="id" title="var">Hne</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">revert</span> <span class="id" title="var">i</span> <span class="id" title="var">Hi</span>; <span class="id" title="tactic">induction</span> <span class="id" title="var">n</span>; <span class="id" title="tactic">intros</span> <span class="id" title="var">i</span> <span class="id" title="var">Hi</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <span class="id" title="lemma">not_elem_of_nil</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">apply</span> <span class="id" title="lemma">not_elem_of_cons</span>; <span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">intro</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">Hne</span>. <span class="id" title="var">solve_addr</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">rewrite</span> <a class="idref" href="cap_machine.solve_addr.html#get_addrs_from_option_addr_comm"><span class="id" title="lemma">get_addrs_from_option_addr_comm</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">IHn</span>; <span class="id" title="var">lia</span>. <span class="id" title="var">lia</span>. <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="region_addrs_not_elem_of" class="idref" href="#region_addrs_not_elem_of"><span class="id" title="lemma">region_addrs_not_elem_of</span></a> <a id="a:38" class="idref" href="#a:38"><span class="id" title="binder">a</span></a> <a id="n:39" class="idref" href="#n:39"><span class="id" title="binder">n</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">forall</span> <a id="a':40" class="idref" href="#a':40"><span class="id" title="binder">a'</span></a><span class="id" title="notation">,</span> (<a class="idref" href="cap_machine.region.html#a:38"><span class="id" title="variable">a</span></a> <a class="idref" href="cap_machine.addr_reg.html#::Addr_scope:x_'&lt;'_x"><span class="id" title="notation">&lt;</span></a> <a class="idref" href="cap_machine.region.html#a':40"><span class="id" title="variable">a'</span></a>)%<span class="id" title="var">a</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="cap_machine.region.html#a:38"><span class="id" title="variable">a</span></a> <span class="id" title="notation">∉</span> <span class="id" title="notation">(</span><a class="idref" href="cap_machine.region.html#region_addrs_aux"><span class="id" title="definition">region_addrs_aux</span></a> <a class="idref" href="cap_machine.region.html#a':40"><span class="id" title="variable">a'</span></a> <a class="idref" href="cap_machine.region.html#n:39"><span class="id" title="variable">n</span></a><span class="id" title="notation">)</span>.<br/>
&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">n</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> <span class="id" title="var">a'</span> <span class="id" title="var">Ha'</span>. <span class="id" title="tactic">apply</span> <span class="id" title="lemma">not_elem_of_nil</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> <span class="id" title="var">a'</span> <span class="id" title="var">Ha'</span>. <span class="id" title="tactic">apply</span> <span class="id" title="lemma">not_elem_of_cons</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">intros</span> <span class="id" title="var">Hcontr</span>; <span class="id" title="tactic">subst</span>. <span class="id" title="tactic">rewrite</span> /<a class="idref" href="cap_machine.addr_reg.html#lt_addr"><span class="id" title="definition">lt_addr</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Ha'</span>. <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> <span class="id" title="var">IHn</span>. <span class="id" title="tactic">rewrite</span> /<a class="idref" href="cap_machine.addr_reg.html#lt_addr"><span class="id" title="definition">lt_addr</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Ha'</span>. <span class="id" title="tactic">rewrite</span> /<a class="idref" href="cap_machine.addr_reg.html#lt_addr"><span class="id" title="definition">lt_addr</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="var">a'</span> <a class="idref" href="cap_machine.addr_reg.html#83f9bcf2054d3d441d475f25e3e951c6"><span class="id" title="notation">+</span></a> 1)%<span class="id" title="var">a</span> <span class="id" title="var">eqn</span>:<span class="id" title="var">Hsome</span>; <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;++ <span class="id" title="tactic">apply</span> <a class="idref" href="cap_machine.solve_addr.html#next_lt"><span class="id" title="lemma">next_lt</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hsome</span>. <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;++ <span class="id" title="tactic">destruct</span> <span class="id" title="var">a</span>,<span class="id" title="var">a'</span>. <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> *. <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.ZArith.BinInt.html#Z.leb_le"><span class="id" title="lemma">Z.leb_le</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">fin0</span> <span class="id" title="keyword">as</span> <span class="id" title="var">Hle</span>. <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="region_addrs_aux_next_head" class="idref" href="#region_addrs_aux_next_head"><span class="id" title="lemma">region_addrs_aux_next_head</span></a> <a id="a:41" class="idref" href="#a:41"><span class="id" title="binder">a</span></a> (<a id="a0:42" class="idref" href="#a0:42"><span class="id" title="binder">a0</span></a> <a id="a1:43" class="idref" href="#a1:43"><span class="id" title="binder">a1</span></a> : <a class="idref" href="cap_machine.addr_reg.html#Addr"><span class="id" title="inductive">Addr</span></a>) <a id="n:44" class="idref" href="#n:44"><span class="id" title="binder">n</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">(</span></a><span class="id" title="notation">(</span><a class="idref" href="cap_machine.region.html#region_addrs_aux"><span class="id" title="definition">region_addrs_aux</span></a> (<a class="idref" href="cap_machine.addr_reg.html#1d48f14c43e86dff2b7280147a285103"><span class="id" title="notation">^</span></a><a class="idref" href="cap_machine.region.html#a:41"><span class="id" title="variable">a</span></a>)%<span class="id" title="var">a</span> <a class="idref" href="cap_machine.region.html#n:44"><span class="id" title="variable">n</span></a><span class="id" title="notation">)</span> <span class="id" title="notation">!!</span> 0<a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="cap_machine.region.html#a0:42"><span class="id" title="variable">a0</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">(</span></a><span class="id" title="notation">(</span><a class="idref" href="cap_machine.region.html#region_addrs_aux"><span class="id" title="definition">region_addrs_aux</span></a> (<a class="idref" href="cap_machine.addr_reg.html#1d48f14c43e86dff2b7280147a285103"><span class="id" title="notation">^</span></a><a class="idref" href="cap_machine.region.html#a:41"><span class="id" title="variable">a</span></a>)%<span class="id" title="var">a</span> <a class="idref" href="cap_machine.region.html#n:44"><span class="id" title="variable">n</span></a><span class="id" title="notation">)</span> <span class="id" title="notation">!!</span> (1)<a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="cap_machine.region.html#a1:43"><span class="id" title="variable">a1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">(</span></a><a class="idref" href="cap_machine.addr_reg.html#1d48f14c43e86dff2b7280147a285103"><span class="id" title="notation">^(</span></a><a class="idref" href="cap_machine.region.html#a0:42"><span class="id" title="variable">a0</span></a> <a class="idref" href="cap_machine.addr_reg.html#83f9bcf2054d3d441d475f25e3e951c6"><span class="id" title="notation">+</span></a> 1<a class="idref" href="cap_machine.addr_reg.html#1d48f14c43e86dff2b7280147a285103"><span class="id" title="notation">)</span></a>%<span class="id" title="var">a</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="cap_machine.region.html#a1:43"><span class="id" title="variable">a1</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">)</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Ha0</span> <span class="id" title="var">Ha1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">n</span> <span class="id" title="keyword">as</span> [| <span class="id" title="var">n</span>]; <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> *; [ <span class="id" title="tactic">by</span> <span class="id" title="tactic">inversion</span> <span class="id" title="var">Ha0</span> |].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">n</span> <span class="id" title="keyword">as</span> [| <span class="id" title="var">n</span>]; <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> *; [ <span class="id" title="tactic">by</span> <span class="id" title="tactic">inversion</span> <span class="id" title="var">Ha1</span> |].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">solve_addr</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="region_addrs_aux_next" class="idref" href="#region_addrs_aux_next"><span class="id" title="lemma">region_addrs_aux_next</span></a> <a id="a:45" class="idref" href="#a:45"><span class="id" title="binder">a</span></a> <a id="n:46" class="idref" href="#n:46"><span class="id" title="binder">n</span></a> <a id="i:47" class="idref" href="#i:47"><span class="id" title="binder">i</span></a> <a id="ai:48" class="idref" href="#ai:48"><span class="id" title="binder">ai</span></a> <a id="aj:49" class="idref" href="#aj:49"><span class="id" title="binder">aj</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">(</span></a><span class="id" title="notation">(</span><a class="idref" href="cap_machine.region.html#region_addrs_aux"><span class="id" title="definition">region_addrs_aux</span></a> <a class="idref" href="cap_machine.region.html#a:45"><span class="id" title="variable">a</span></a> <a class="idref" href="cap_machine.region.html#n:46"><span class="id" title="variable">n</span></a><span class="id" title="notation">)</span> <span class="id" title="notation">!!</span> <a class="idref" href="cap_machine.region.html#i:47"><span class="id" title="variable">i</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="cap_machine.region.html#ai:48"><span class="id" title="variable">ai</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">(</span></a><span class="id" title="notation">(</span><a class="idref" href="cap_machine.region.html#region_addrs_aux"><span class="id" title="definition">region_addrs_aux</span></a> <a class="idref" href="cap_machine.region.html#a:45"><span class="id" title="variable">a</span></a> <a class="idref" href="cap_machine.region.html#n:46"><span class="id" title="variable">n</span></a><span class="id" title="notation">)</span> <span class="id" title="notation">!!</span> <span class="id" title="notation">(</span><a class="idref" href="cap_machine.region.html#i:47"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> 1<span class="id" title="notation">)</span><a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="cap_machine.region.html#aj:49"><span class="id" title="variable">aj</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="cap_machine.addr_reg.html#1d48f14c43e86dff2b7280147a285103"><span class="id" title="notation">^(</span></a><a class="idref" href="cap_machine.region.html#ai:48"><span class="id" title="variable">ai</span></a> <a class="idref" href="cap_machine.addr_reg.html#83f9bcf2054d3d441d475f25e3e951c6"><span class="id" title="notation">+</span></a> 1<a class="idref" href="cap_machine.addr_reg.html#1d48f14c43e86dff2b7280147a285103"><span class="id" title="notation">)</span></a>%<span class="id" title="var">a</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="cap_machine.region.html#aj:49"><span class="id" title="variable">aj</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Hai</span> <span class="id" title="var">Haj</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">i</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> 1 <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Peano.html#::nat_scope:x_'&lt;'_x"><span class="id" title="notation">&lt;</span></a> <span class="id" title="var">n</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">rewrite</span> -(<a class="idref" href="cap_machine.region.html#region_addrs_aux_length"><span class="id" title="lemma">region_addrs_aux_length</span></a> <span class="id" title="var">n</span> <span class="id" title="var">a</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="lemma">lookup_lt_is_Some_1</span>. <span class="id" title="tactic">eauto</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">i</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Peano.html#::nat_scope:x_'&lt;'_x"><span class="id" title="notation">&lt;</span></a> <span class="id" title="var">n</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">rewrite</span> -(<a class="idref" href="cap_machine.region.html#region_addrs_aux_length"><span class="id" title="lemma">region_addrs_aux_length</span></a> <span class="id" title="var">n</span> <span class="id" title="var">a</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="lemma">lookup_lt_is_Some_1</span>. <span class="id" title="tactic">eauto</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="cap_machine.region.html#region_addrs_aux_decomposition"><span class="id" title="lemma">region_addrs_aux_decomposition</span></a> <span class="id" title="var">n</span> <span class="id" title="var">a</span> <span class="id" title="var">i</span>) <span class="id" title="tactic">in</span> <span class="id" title="var">Hai</span>; <span class="id" title="var">last</span> <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">lookup_app_r</span> <a class="idref" href="cap_machine.region.html#region_addrs_aux_length"><span class="id" title="lemma">region_addrs_aux_length</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hai</span> |- *; <span class="id" title="var">last</span> <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="cap_machine.region.html#region_addrs_aux_decomposition"><span class="id" title="lemma">region_addrs_aux_decomposition</span></a> <span class="id" title="var">n</span> <span class="id" title="var">a</span> <span class="id" title="var">i</span>) <span class="id" title="tactic">in</span> <span class="id" title="var">Haj</span>; <span class="id" title="var">last</span> <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">lookup_app_r</span> <a class="idref" href="cap_machine.region.html#region_addrs_aux_length"><span class="id" title="lemma">region_addrs_aux_length</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Haj</span> |- *; <span class="id" title="var">last</span> <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Arith.Minus.html#minus_plus"><span class="id" title="lemma">minus_plus</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Haj</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Numbers.Natural.Peano.NPeano.html#Nat.sub_diag"><span class="id" title="lemma">Nat.sub_diag</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hai</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="cap_machine.region.html#region_addrs_aux_next_head"><span class="id" title="lemma">region_addrs_aux_next_head</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="region_addrs_lt_top" class="idref" href="#region_addrs_lt_top"><span class="id" title="lemma">region_addrs_lt_top</span></a> (<a id="a:50" class="idref" href="#a:50"><span class="id" title="binder">a</span></a>: <a class="idref" href="cap_machine.addr_reg.html#Addr"><span class="id" title="inductive">Addr</span></a>) <a id="n:51" class="idref" href="#n:51"><span class="id" title="binder">n</span></a> <a id="i:52" class="idref" href="#i:52"><span class="id" title="binder">i</span></a> (<a id="ai:53" class="idref" href="#ai:53"><span class="id" title="binder">ai</span></a> : <a class="idref" href="cap_machine.addr_reg.html#Addr"><span class="id" title="inductive">Addr</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="cap_machine.region.html#a:50"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.ZArith.BinInt.html#46584eddd5fdb16176a10a2843177d3a"><span class="id" title="notation">+</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.ZArith.BinInt.html#46584eddd5fdb16176a10a2843177d3a"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.ZArith.BinInt.html#Z.of_nat"><span class="id" title="definition">Z.of_nat</span></a> <a class="idref" href="cap_machine.region.html#i:52"><span class="id" title="variable">i</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.ZArith.BinInt.html#46584eddd5fdb16176a10a2843177d3a"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.ZArith.BinInt.html#::Z_scope:x_'&lt;'_x"><span class="id" title="notation">&lt;</span></a> <a class="idref" href="cap_machine.addr_reg.html#MemNum"><span class="id" title="definition">MemNum</span></a>)%<span class="id" title="var">Z</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="cap_machine.region.html#region_addrs_aux"><span class="id" title="definition">region_addrs_aux</span></a> <a class="idref" href="cap_machine.region.html#a:50"><span class="id" title="variable">a</span></a> <a class="idref" href="cap_machine.region.html#n:51"><span class="id" title="variable">n</span></a> <span class="id" title="notation">!!</span> <a class="idref" href="cap_machine.region.html#i:52"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="cap_machine.region.html#ai:53"><span class="id" title="variable">ai</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="cap_machine.region.html#ai:53"><span class="id" title="variable">ai</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Unicode.Utf8_core.html#eac9b9307401b34847f15ea69bb5957f"><span class="id" title="notation">≠</span></a> <a class="idref" href="cap_machine.addr_reg.html#top"><span class="id" title="definition">addr_reg.top</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Ha</span> <span class="id" title="var">Hai</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="abbreviation">length</span> (<a class="idref" href="cap_machine.region.html#region_addrs_aux"><span class="id" title="definition">region_addrs_aux</span></a> <span class="id" title="var">a</span> <span class="id" title="var">n</span>) <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">n</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">Hlen</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">apply</span> <a class="idref" href="cap_machine.region.html#region_addrs_aux_length"><span class="id" title="lemma">region_addrs_aux_length</span></a>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="abbreviation">length</span> (<a class="idref" href="cap_machine.region.html#region_addrs_aux"><span class="id" title="definition">region_addrs_aux</span></a> <span class="id" title="var">a</span> <span class="id" title="var">i</span>) <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">i</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">Hleni</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">apply</span> <a class="idref" href="cap_machine.region.html#region_addrs_aux_length"><span class="id" title="lemma">region_addrs_aux_length</span></a>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">i</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Peano.html#::nat_scope:x_'&lt;'_x"><span class="id" title="notation">&lt;</span></a> <span class="id" title="var">n</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">Hi</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">rewrite</span> -<span class="id" title="var">Hlen</span>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <span class="id" title="lemma">lookup_lt_Some</span> <span class="id" title="keyword">with</span> <span class="id" title="var">ai</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="cap_machine.region.html#region_addrs_aux_decomposition"><span class="id" title="lemma">region_addrs_aux_decomposition</span></a> <span class="id" title="var">n</span> <span class="id" title="var">a</span> <span class="id" title="var">i</span>) <span class="id" title="tactic">in</span> <span class="id" title="var">Hai</span>; <span class="id" title="var">last</span> <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">lookup_app_r</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hai</span>; <span class="id" title="var">last</span> <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hleni</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Numbers.Natural.Peano.NPeano.html#Nat.sub_diag"><span class="id" title="lemma">Nat.sub_diag</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hai</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="var">n</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Peano.html#::nat_scope:x_'-'_x"><span class="id" title="notation">-</span></a> <span class="id" title="var">i</span>) <span class="id" title="var">eqn</span>:<span class="id" title="var">Hni</span>; <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hai</span>; [ <span class="id" title="tactic">congruence</span> |].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">Hai</span>; <span class="id" title="tactic">subst</span> <span class="id" title="var">ai</span>. <span class="id" title="tactic">intro</span>. <span class="id" title="var">solve_addr</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="region_addrs_aux_NoDup" class="idref" href="#region_addrs_aux_NoDup"><span class="id" title="lemma">region_addrs_aux_NoDup</span></a> (<a id="a:54" class="idref" href="#a:54"><span class="id" title="binder">a</span></a>: <a class="idref" href="cap_machine.addr_reg.html#Addr"><span class="id" title="inductive">Addr</span></a>) (<a id="n:55" class="idref" href="#n:55"><span class="id" title="binder">n</span></a>: <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="definition">is_Some</span> (<a class="idref" href="cap_machine.region.html#a:54"><span class="id" title="variable">a</span></a> <a class="idref" href="cap_machine.addr_reg.html#83f9bcf2054d3d441d475f25e3e951c6"><span class="id" title="notation">+</span></a> <a class="idref" href="cap_machine.region.html#n:55"><span class="id" title="variable">n</span></a>)%<span class="id" title="var">a</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="inductive">NoDup</span> (<a class="idref" href="cap_machine.region.html#region_addrs_aux"><span class="id" title="definition">region_addrs_aux</span></a> <a class="idref" href="cap_machine.region.html#a:54"><span class="id" title="variable">a</span></a> <a class="idref" href="cap_machine.region.html#n:55"><span class="id" title="variable">n</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">generalize</span> <span class="id" title="var">a</span>. <span class="id" title="tactic">clear</span> <span class="id" title="var">a</span>. <span class="id" title="tactic">induction</span> <span class="id" title="var">n</span>; <span class="id" title="tactic">intros</span> <span class="id" title="var">a</span> <span class="id" title="var">Hsome</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <span class="id" title="lemma">NoDup_nil</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="var">cbn</span>. <span class="id" title="tactic">apply</span> <span class="id" title="lemma">NoDup_cons</span>; <span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">eapply</span> <a class="idref" href="cap_machine.region.html#not_elem_of_region_addrs_aux"><span class="id" title="lemma">not_elem_of_region_addrs_aux</span></a>; <span class="id" title="tactic">first</span> <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hsome</span> <span class="id" title="keyword">as</span> [? ?]. <span class="id" title="tactic">intros</span> -&gt;. <span class="id" title="var">solve_addr</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">eapply</span> <span class="id" title="var">IHn</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">Hsome</span> <span class="id" title="keyword">as</span> [? ?]. <span class="id" title="tactic">unfold</span> <span class="id" title="definition">is_Some</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">zify_addr</span>; <span class="id" title="tactic">first</span> [ <span class="id" title="tactic">by</span> <span class="id" title="tactic">eauto</span> | <span class="id" title="var">lia</span> ].<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="region_addrs_aux_lookup_middle" class="idref" href="#region_addrs_aux_lookup_middle"><span class="id" title="lemma">region_addrs_aux_lookup_middle</span></a> <a id="a0:56" class="idref" href="#a0:56"><span class="id" title="binder">a0</span></a> <a id="ai:57" class="idref" href="#ai:57"><span class="id" title="binder">ai</span></a> (<a id="i:58" class="idref" href="#i:58"><span class="id" title="binder">i</span></a> <a id="n:59" class="idref" href="#n:59"><span class="id" title="binder">n</span></a>: <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="cap_machine.region.html#i:58"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Peano.html#::nat_scope:x_'&lt;'_x"><span class="id" title="notation">&lt;</span></a> <a class="idref" href="cap_machine.region.html#n:59"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="cap_machine.region.html#a0:56"><span class="id" title="variable">a0</span></a> <a class="idref" href="cap_machine.addr_reg.html#83f9bcf2054d3d441d475f25e3e951c6"><span class="id" title="notation">+</span></a> <a class="idref" href="cap_machine.region.html#i:58"><span class="id" title="variable">i</span></a>)%<span class="id" title="var">a</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="cap_machine.region.html#ai:57"><span class="id" title="variable">ai</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="cap_machine.region.html#region_addrs_aux"><span class="id" title="definition">region_addrs_aux</span></a> <a class="idref" href="cap_machine.region.html#a0:56"><span class="id" title="variable">a0</span></a> <a class="idref" href="cap_machine.region.html#n:59"><span class="id" title="variable">n</span></a> <span class="id" title="notation">!!</span> <a class="idref" href="cap_machine.region.html#i:58"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="cap_machine.region.html#ai:57"><span class="id" title="variable">ai</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">revert</span> <span class="id" title="var">i</span> <span class="id" title="var">ai</span> <span class="id" title="var">a0</span>. <span class="id" title="tactic">induction</span> <span class="id" title="var">n</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">intros</span>. <span class="id" title="var">lia</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">intros</span> <span class="id" title="var">i</span> <span class="id" title="var">ai</span> <span class="id" title="var">a0</span> <span class="id" title="var">Hi</span> <span class="id" title="var">Hai</span>. <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">i</span> <span class="id" title="keyword">as</span> [|<span class="id" title="var">i</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="var">cbn</span>. <span class="id" title="var">solve_addr</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="var">cbn</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">IHn</span>. <span class="id" title="var">lia</span>. <span class="id" title="var">solve_addr</span>. } }<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="comment">(*----------------------------&nbsp;region_addrs&nbsp;--------------------------------*)</span><br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="region_addrs" class="idref" href="#region_addrs"><span class="id" title="definition">region_addrs</span></a> (<a id="b:60" class="idref" href="#b:60"><span class="id" title="binder">b</span></a> <a id="e:61" class="idref" href="#e:61"><span class="id" title="binder">e</span></a>: <a class="idref" href="cap_machine.addr_reg.html#Addr"><span class="id" title="inductive">Addr</span></a>): <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="cap_machine.addr_reg.html#Addr"><span class="id" title="inductive">Addr</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="cap_machine.region.html#region_addrs_aux"><span class="id" title="definition">region_addrs_aux</span></a> <a class="idref" href="cap_machine.region.html#b:60"><span class="id" title="variable">b</span></a> (<a class="idref" href="cap_machine.region.html#region_size"><span class="id" title="definition">region_size</span></a> <a class="idref" href="cap_machine.region.html#b:60"><span class="id" title="variable">b</span></a> <a class="idref" href="cap_machine.region.html#e:61"><span class="id" title="variable">e</span></a>).<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="region_addrs_length" class="idref" href="#region_addrs_length"><span class="id" title="lemma">region_addrs_length</span></a>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">forall</span> <a id="b:62" class="idref" href="#b:62"><span class="id" title="binder">b</span></a> <a id="e:63" class="idref" href="#e:63"><span class="id" title="binder">e</span></a><span class="id" title="notation">,</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="abbreviation">length</span> (<a class="idref" href="cap_machine.region.html#region_addrs"><span class="id" title="definition">region_addrs</span></a> <a class="idref" href="cap_machine.region.html#b:62"><span class="id" title="variable">b</span></a> <a class="idref" href="cap_machine.region.html#e:63"><span class="id" title="variable">e</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="cap_machine.region.html#region_size"><span class="id" title="definition">region_size</span></a> <a class="idref" href="cap_machine.region.html#b:62"><span class="id" title="variable">b</span></a> <a class="idref" href="cap_machine.region.html#e:63"><span class="id" title="variable">e</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>; <span class="id" title="tactic">unfold</span> <a class="idref" href="cap_machine.region.html#region_addrs"><span class="id" title="definition">region_addrs</span></a>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="cap_machine.region.html#region_addrs_aux_length"><span class="id" title="lemma">region_addrs_aux_length</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="region_addrs_spec" class="idref" href="#region_addrs_spec"><span class="id" title="lemma">region_addrs_spec</span></a>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">forall</span> <a id="b:64" class="idref" href="#b:64"><span class="id" title="binder">b</span></a> <a id="e:65" class="idref" href="#e:65"><span class="id" title="binder">e</span></a> <a id="k:66" class="idref" href="#k:66"><span class="id" title="binder">k</span></a><span class="id" title="notation">,</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="cap_machine.region.html#b:64"><span class="id" title="variable">b</span></a> <a class="idref" href="cap_machine.addr_reg.html#8ccc7a9bb9ba1c27ed0dba9945a4cbb0"><span class="id" title="notation">&lt;=</span></a> <a class="idref" href="cap_machine.region.html#e:65"><span class="id" title="variable">e</span></a>)%<span class="id" title="var">a</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="cap_machine.region.html#k:66"><span class="id" title="variable">k</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Peano.html#::nat_scope:x_'&lt;'_x"><span class="id" title="notation">&lt;</span></a> <a class="idref" href="cap_machine.region.html#region_size"><span class="id" title="definition">region_size</span></a> <a class="idref" href="cap_machine.region.html#b:64"><span class="id" title="variable">b</span></a> <a class="idref" href="cap_machine.region.html#e:65"><span class="id" title="variable">e</span></a>)%<span class="id" title="var">nat</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Lists.List.html#nth_error"><span class="id" title="definition">nth_error</span></a> (<a class="idref" href="cap_machine.region.html#region_addrs"><span class="id" title="definition">region_addrs</span></a> <a class="idref" href="cap_machine.region.html#b:64"><span class="id" title="variable">b</span></a> <a class="idref" href="cap_machine.region.html#e:65"><span class="id" title="variable">e</span></a>) <a class="idref" href="cap_machine.region.html#k:66"><span class="id" title="variable">k</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> (<a class="idref" href="cap_machine.addr_reg.html#1d48f14c43e86dff2b7280147a285103"><span class="id" title="notation">^(</span></a><a class="idref" href="cap_machine.region.html#b:64"><span class="id" title="variable">b</span></a> <a class="idref" href="cap_machine.addr_reg.html#83f9bcf2054d3d441d475f25e3e951c6"><span class="id" title="notation">+</span></a> <a class="idref" href="cap_machine.region.html#k:66"><span class="id" title="variable">k</span></a><a class="idref" href="cap_machine.addr_reg.html#1d48f14c43e86dff2b7280147a285103"><span class="id" title="notation">)</span></a>%<span class="id" title="var">a</span>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>; <span class="id" title="tactic">unfold</span> <a class="idref" href="cap_machine.region.html#region_addrs"><span class="id" title="definition">region_addrs</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="instance">Z_le_dec</span> <span class="id" title="var">b</span> <span class="id" title="var">e</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <a class="idref" href="cap_machine.region.html#region_addrs_aux_spec"><span class="id" title="lemma">region_addrs_aux_spec</span></a>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">elim</span> <span class="id" title="var">n</span>. <span class="id" title="var">solve_addr</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="region_addrs_empty" class="idref" href="#region_addrs_empty"><span class="id" title="lemma">region_addrs_empty</span></a> <a id="b:67" class="idref" href="#b:67"><span class="id" title="binder">b</span></a> <a id="e:68" class="idref" href="#e:68"><span class="id" title="binder">e</span></a>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="cap_machine.region.html#e:68"><span class="id" title="variable">e</span></a> <a class="idref" href="cap_machine.addr_reg.html#8ccc7a9bb9ba1c27ed0dba9945a4cbb0"><span class="id" title="notation">&lt;=</span></a> <a class="idref" href="cap_machine.region.html#b:67"><span class="id" title="variable">b</span></a>)%<span class="id" title="var">a</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="cap_machine.region.html#region_addrs"><span class="id" title="definition">region_addrs</span></a> <a class="idref" href="cap_machine.region.html#b:67"><span class="id" title="variable">b</span></a> <a class="idref" href="cap_machine.region.html#e:68"><span class="id" title="variable">e</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Datatypes.html#nil"><span class="id" title="constructor">nil</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="tactic">rewrite</span> /<a class="idref" href="cap_machine.region.html#region_addrs"><span class="id" title="definition">region_addrs</span></a> /<a class="idref" href="cap_machine.region.html#region_size"><span class="id" title="definition">region_size</span></a> /=.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">replace</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.ZArith.BinInt.html#Z.to_nat"><span class="id" title="definition">Z.to_nat</span></a> (<span class="id" title="var">e</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.ZArith.BinInt.html#::Z_scope:x_'-'_x"><span class="id" title="notation">-</span></a> <span class="id" title="var">b</span>)) <span class="id" title="keyword">with</span> 0 <span class="id" title="tactic">by</span> <span class="id" title="var">solve_addr</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="region_addrs_decomposition" class="idref" href="#region_addrs_decomposition"><span class="id" title="lemma">region_addrs_decomposition</span></a> <a id="b:69" class="idref" href="#b:69"><span class="id" title="binder">b</span></a> <a id="a:70" class="idref" href="#a:70"><span class="id" title="binder">a</span></a> <a id="e:71" class="idref" href="#e:71"><span class="id" title="binder">e</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="cap_machine.region.html#b:69"><span class="id" title="variable">b</span></a> <a class="idref" href="cap_machine.addr_reg.html#8ccc7a9bb9ba1c27ed0dba9945a4cbb0"><span class="id" title="notation">&lt;=</span></a> <a class="idref" href="cap_machine.region.html#a:70"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a> <a class="idref" href="cap_machine.region.html#a:70"><span class="id" title="variable">a</span></a> <a class="idref" href="cap_machine.addr_reg.html#::Addr_scope:x_'&lt;'_x"><span class="id" title="notation">&lt;</span></a> <a class="idref" href="cap_machine.region.html#e:71"><span class="id" title="variable">e</span></a>)%<span class="id" title="var">a</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="cap_machine.region.html#region_addrs"><span class="id" title="definition">region_addrs</span></a> <a class="idref" href="cap_machine.region.html#b:69"><span class="id" title="variable">b</span></a> <a class="idref" href="cap_machine.region.html#e:71"><span class="id" title="variable">e</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="cap_machine.region.html#region_addrs"><span class="id" title="definition">region_addrs</span></a> <a class="idref" href="cap_machine.region.html#b:69"><span class="id" title="variable">b</span></a> <a class="idref" href="cap_machine.region.html#a:70"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">(</span></a><a class="idref" href="cap_machine.region.html#a:70"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <a class="idref" href="cap_machine.region.html#region_addrs"><span class="id" title="definition">region_addrs</span></a> <a class="idref" href="cap_machine.addr_reg.html#1d48f14c43e86dff2b7280147a285103"><span class="id" title="notation">^(</span></a><a class="idref" href="cap_machine.region.html#a:70"><span class="id" title="variable">a</span></a><a class="idref" href="cap_machine.addr_reg.html#83f9bcf2054d3d441d475f25e3e951c6"><span class="id" title="notation">+</span></a>1<a class="idref" href="cap_machine.addr_reg.html#1d48f14c43e86dff2b7280147a285103"><span class="id" title="notation">)</span></a>%<span class="id" title="var">a</span> <a class="idref" href="cap_machine.region.html#e:71"><span class="id" title="variable">e</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">)</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">with</span> <span class="id" title="tactic">try</span> (<span class="id" title="tactic">unfold</span> <a class="idref" href="cap_machine.region.html#region_size"><span class="id" title="definition">region_size</span></a>; <span class="id" title="var">solve_addr</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> [? ?]. <span class="id" title="tactic">unfold</span> <a class="idref" href="cap_machine.region.html#region_addrs"><span class="id" title="definition">region_addrs</span></a> <span class="id" title="tactic">at</span> 1.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="cap_machine.region.html#region_addrs_aux_decomposition"><span class="id" title="lemma">region_addrs_aux_decomposition</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> (<a class="idref" href="cap_machine.region.html#region_size"><span class="id" title="definition">region_size</span></a> <span class="id" title="var">b</span> <span class="id" title="var">a</span>))...<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<span class="id" title="var">_</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.ssr.ssreflect.html#::core_scope:x_':'_x"><span class="id" title="notation">:</span></a> <a class="idref" href="cap_machine.region.html#region_size"><span class="id" title="definition">region_size</span></a> <span class="id" title="var">b</span> <span class="id" title="var">e</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Peano.html#::nat_scope:x_'-'_x"><span class="id" title="notation">-</span></a> <a class="idref" href="cap_machine.region.html#region_size"><span class="id" title="definition">region_size</span></a> <span class="id" title="var">b</span> <span class="id" title="var">a</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="cap_machine.region.html#region_size"><span class="id" title="definition">region_size</span></a> <span class="id" title="var">a</span> <span class="id" title="var">e</span>)...<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -/(<a class="idref" href="cap_machine.region.html#region_addrs"><span class="id" title="definition">region_addrs</span></a> <span class="id" title="var">b</span> <span class="id" title="var">a</span>). <span class="id" title="tactic">f_equal</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<span class="id" title="var">_</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.ssr.ssreflect.html#::core_scope:x_':'_x"><span class="id" title="notation">:</span></a> <a class="idref" href="cap_machine.region.html#region_size"><span class="id" title="definition">region_size</span></a> <span class="id" title="var">a</span> <span class="id" title="var">e</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> (<a class="idref" href="cap_machine.region.html#region_size"><span class="id" title="definition">region_size</span></a> <a class="idref" href="cap_machine.addr_reg.html#1d48f14c43e86dff2b7280147a285103"><span class="id" title="notation">^(</span></a><span class="id" title="var">a</span><a class="idref" href="cap_machine.addr_reg.html#83f9bcf2054d3d441d475f25e3e951c6"><span class="id" title="notation">+</span></a>1<a class="idref" href="cap_machine.addr_reg.html#1d48f14c43e86dff2b7280147a285103"><span class="id" title="notation">)</span></a>%<span class="id" title="var">a</span> <span class="id" title="var">e</span>))...<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">cbn</span>. <span class="id" title="tactic">f_equal</span>... <span class="id" title="tactic">rewrite</span> /<a class="idref" href="cap_machine.region.html#region_addrs"><span class="id" title="definition">region_addrs</span></a>. <span class="id" title="tactic">f_equal</span>...<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="region_addrs_split" class="idref" href="#region_addrs_split"><span class="id" title="lemma">region_addrs_split</span></a> <a id="b:72" class="idref" href="#b:72"><span class="id" title="binder">b</span></a> <a id="a:73" class="idref" href="#a:73"><span class="id" title="binder">a</span></a> <a id="e:74" class="idref" href="#e:74"><span class="id" title="binder">e</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="cap_machine.region.html#b:72"><span class="id" title="variable">b</span></a> <a class="idref" href="cap_machine.addr_reg.html#8ccc7a9bb9ba1c27ed0dba9945a4cbb0"><span class="id" title="notation">&lt;=</span></a> <a class="idref" href="cap_machine.region.html#a:73"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Unicode.Utf8_core.html#3668992ecc3e95973d304a75a28051a2"><span class="id" title="notation">∧</span></a> <a class="idref" href="cap_machine.region.html#a:73"><span class="id" title="variable">a</span></a> <a class="idref" href="cap_machine.addr_reg.html#8ccc7a9bb9ba1c27ed0dba9945a4cbb0"><span class="id" title="notation">&lt;=</span></a> <a class="idref" href="cap_machine.region.html#e:74"><span class="id" title="variable">e</span></a>)%<span class="id" title="var">a</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="cap_machine.region.html#region_addrs"><span class="id" title="definition">region_addrs</span></a> <a class="idref" href="cap_machine.region.html#b:72"><span class="id" title="variable">b</span></a> <a class="idref" href="cap_machine.region.html#e:74"><span class="id" title="variable">e</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="cap_machine.region.html#region_addrs"><span class="id" title="definition">region_addrs</span></a> <a class="idref" href="cap_machine.region.html#b:72"><span class="id" title="variable">b</span></a> <a class="idref" href="cap_machine.region.html#a:73"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <a class="idref" href="cap_machine.region.html#region_addrs"><span class="id" title="definition">region_addrs</span></a> <a class="idref" href="cap_machine.region.html#a:73"><span class="id" title="variable">a</span></a> <a class="idref" href="cap_machine.region.html#e:74"><span class="id" title="variable">e</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">with</span> <span class="id" title="tactic">try</span> (<span class="id" title="tactic">unfold</span> <a class="idref" href="cap_machine.region.html#region_size"><span class="id" title="definition">region_size</span></a>; <span class="id" title="var">solve_addr</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> [? ?]. <span class="id" title="tactic">unfold</span> <a class="idref" href="cap_machine.region.html#region_addrs"><span class="id" title="definition">region_addrs</span></a> <span class="id" title="tactic">at</span> 1.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="cap_machine.region.html#region_addrs_aux_decomposition"><span class="id" title="lemma">region_addrs_aux_decomposition</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> (<a class="idref" href="cap_machine.region.html#region_size"><span class="id" title="definition">region_size</span></a> <span class="id" title="var">b</span> <span class="id" title="var">a</span>))...<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<span class="id" title="var">_</span><a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.ssr.ssreflect.html#::core_scope:x_':'_x"><span class="id" title="notation">:</span></a> <a class="idref" href="cap_machine.region.html#region_size"><span class="id" title="definition">region_size</span></a> <span class="id" title="var">b</span> <span class="id" title="var">e</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Peano.html#::nat_scope:x_'-'_x"><span class="id" title="notation">-</span></a> <a class="idref" href="cap_machine.region.html#region_size"><span class="id" title="definition">region_size</span></a> <span class="id" title="var">b</span> <span class="id" title="var">a</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="cap_machine.region.html#region_size"><span class="id" title="definition">region_size</span></a> <span class="id" title="var">a</span> <span class="id" title="var">e</span>)...<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<span class="id" title="var">_</span><a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.ssr.ssreflect.html#::core_scope:x_':'_x"><span class="id" title="notation">:</span></a> <a class="idref" href="cap_machine.addr_reg.html#1d48f14c43e86dff2b7280147a285103"><span class="id" title="notation">^(</span></a><span class="id" title="var">b</span> <a class="idref" href="cap_machine.addr_reg.html#83f9bcf2054d3d441d475f25e3e951c6"><span class="id" title="notation">+</span></a> <a class="idref" href="cap_machine.region.html#region_size"><span class="id" title="definition">region_size</span></a> <span class="id" title="var">b</span> <span class="id" title="var">a</span><a class="idref" href="cap_machine.addr_reg.html#1d48f14c43e86dff2b7280147a285103"><span class="id" title="notation">)</span></a>%<span class="id" title="var">a</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">a</span>)...<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -/(<a class="idref" href="cap_machine.region.html#region_addrs"><span class="id" title="definition">region_addrs</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span>) //.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="region_addrs_split2" class="idref" href="#region_addrs_split2"><span class="id" title="lemma">region_addrs_split2</span></a> <a id="b:75" class="idref" href="#b:75"><span class="id" title="binder">b</span></a> <a id="e:76" class="idref" href="#e:76"><span class="id" title="binder">e</span></a> <a id="a:77" class="idref" href="#a:77"><span class="id" title="binder">a</span></a>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="cap_machine.region.html#region_addrs"><span class="id" title="definition">region_addrs</span></a> <a class="idref" href="cap_machine.region.html#b:75"><span class="id" title="variable">b</span></a> <a class="idref" href="cap_machine.region.html#e:76"><span class="id" title="variable">e</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="cap_machine.region.html#region_addrs"><span class="id" title="definition">region_addrs</span></a> <a class="idref" href="cap_machine.region.html#b:75"><span class="id" title="variable">b</span></a> (<a class="idref" href="cap_machine.addr_reg.html#min"><span class="id" title="definition">min</span></a> <a class="idref" href="cap_machine.region.html#a:77"><span class="id" title="variable">a</span></a> <a class="idref" href="cap_machine.region.html#e:76"><span class="id" title="variable">e</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <a class="idref" href="cap_machine.region.html#region_addrs"><span class="id" title="definition">region_addrs</span></a> (<a class="idref" href="cap_machine.addr_reg.html#max"><span class="id" title="definition">max</span></a> <a class="idref" href="cap_machine.region.html#b:75"><span class="id" title="variable">b</span></a> <a class="idref" href="cap_machine.region.html#a:77"><span class="id" title="variable">a</span></a>) <a class="idref" href="cap_machine.region.html#e:76"><span class="id" title="variable">e</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="cap_machine.addr_reg.html#addr_eq_dec"><span class="id" title="instance">addr_eq_dec</span></a> (<a class="idref" href="cap_machine.addr_reg.html#min"><span class="id" title="definition">min</span></a> <span class="id" title="var">a</span> <span class="id" title="var">e</span>) (<a class="idref" href="cap_machine.addr_reg.html#max"><span class="id" title="definition">max</span></a> <span class="id" title="var">b</span> <span class="id" title="var">a</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> <span class="id" title="var">e0</span> -<a class="idref" href="cap_machine.region.html#region_addrs_split"><span class="id" title="lemma">region_addrs_split</span></a>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>; <span class="id" title="var">solve_addr</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">destruct</span> (<a class="idref" href="cap_machine.addr_reg.html#Addr_le_dec"><span class="id" title="instance">Addr_le_dec</span></a> (<a class="idref" href="cap_machine.addr_reg.html#min"><span class="id" title="definition">min</span></a> <span class="id" title="var">a</span> <span class="id" title="var">e</span>) <span class="id" title="var">b</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">rewrite</span> (<a class="idref" href="cap_machine.region.html#region_addrs_empty"><span class="id" title="lemma">region_addrs_empty</span></a> <span class="id" title="var">b</span> (<a class="idref" href="cap_machine.addr_reg.html#min"><span class="id" title="definition">min</span></a> <span class="id" title="var">a</span> <span class="id" title="var">e</span>)); <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="cap_machine.addr_reg.html#Addr_le_dec"><span class="id" title="instance">Addr_le_dec</span></a> <span class="id" title="var">a</span> <span class="id" title="var">b</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">replace</span> (<a class="idref" href="cap_machine.addr_reg.html#max"><span class="id" title="definition">max</span></a> <span class="id" title="var">b</span> <span class="id" title="var">a</span>) <span class="id" title="keyword">with</span> <span class="id" title="var">b</span> <span class="id" title="tactic">by</span> <span class="id" title="var">solve_addr</span>. <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">replace</span> (<a class="idref" href="cap_machine.addr_reg.html#max"><span class="id" title="definition">max</span></a> <span class="id" title="var">b</span> <span class="id" title="var">a</span>) <span class="id" title="keyword">with</span> <span class="id" title="var">a</span> <span class="id" title="tactic">in</span> <span class="id" title="var">n</span> <span class="id" title="tactic">by</span> <span class="id" title="var">solve_addr</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">e</span> <a class="idref" href="cap_machine.addr_reg.html#8ccc7a9bb9ba1c27ed0dba9945a4cbb0"><span class="id" title="notation">&lt;=</span></a> <span class="id" title="var">b</span>)%<span class="id" title="var">a</span> <span class="id" title="tactic">by</span> <span class="id" title="var">solve_addr</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="cap_machine.region.html#region_addrs_empty"><span class="id" title="lemma">region_addrs_empty</span></a> <span class="id" title="var">b</span> <span class="id" title="var">e</span>); <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="cap_machine.region.html#region_addrs_empty"><span class="id" title="lemma">region_addrs_empty</span></a>; <span class="id" title="tactic">auto</span>. <span class="id" title="var">solve_addr</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">replace</span> (<a class="idref" href="cap_machine.addr_reg.html#max"><span class="id" title="definition">max</span></a> <span class="id" title="var">b</span> <span class="id" title="var">a</span>) <span class="id" title="keyword">with</span> <span class="id" title="var">a</span> <span class="id" title="tactic">by</span> <span class="id" title="var">solve_addr</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="cap_machine.addr_reg.html#Addr_le_dec"><span class="id" title="instance">Addr_le_dec</span></a> <span class="id" title="var">e</span> <span class="id" title="var">a</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">rewrite</span> (<a class="idref" href="cap_machine.region.html#region_addrs_empty"><span class="id" title="lemma">region_addrs_empty</span></a> <span class="id" title="var">a</span> <span class="id" title="var">e</span>); <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">replace</span> (<a class="idref" href="cap_machine.addr_reg.html#min"><span class="id" title="definition">min</span></a> <span class="id" title="var">a</span> <span class="id" title="var">e</span>) <span class="id" title="keyword">with</span> <span class="id" title="var">e</span> <span class="id" title="tactic">by</span> <span class="id" title="var">solve_addr</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Lists.List.html#app_nil_r"><span class="id" title="lemma">app_nil_r</span></a>. <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">replace</span> (<a class="idref" href="cap_machine.addr_reg.html#min"><span class="id" title="definition">min</span></a> <span class="id" title="var">a</span> <span class="id" title="var">e</span>) <span class="id" title="keyword">with</span> <span class="id" title="var">a</span> <span class="id" title="tactic">by</span> <span class="id" title="var">solve_addr</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -<a class="idref" href="cap_machine.region.html#region_addrs_split"><span class="id" title="lemma">region_addrs_split</span></a>; <span class="id" title="tactic">auto</span>. <span class="id" title="var">solve_addr</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="region_addrs_split3" class="idref" href="#region_addrs_split3"><span class="id" title="lemma">region_addrs_split3</span></a> <a id="b:78" class="idref" href="#b:78"><span class="id" title="binder">b</span></a> <a id="e:79" class="idref" href="#e:79"><span class="id" title="binder">e</span></a> <a id="n:80" class="idref" href="#n:80"><span class="id" title="binder">n</span></a>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="cap_machine.region.html#region_size"><span class="id" title="definition">region_size</span></a> <a class="idref" href="cap_machine.region.html#b:78"><span class="id" title="variable">b</span></a> <a class="idref" href="cap_machine.region.html#e:79"><span class="id" title="variable">e</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Peano.html#::nat_scope:x_'&gt;'_x"><span class="id" title="notation">&gt;</span></a> <a class="idref" href="cap_machine.region.html#n:80"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">exists</span></a> <a id="a:81" class="idref" href="#a:81"><span class="id" title="binder">a</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">,</span></a> <a class="idref" href="cap_machine.region.html#region_addrs"><span class="id" title="definition">region_addrs</span></a> <a class="idref" href="cap_machine.region.html#b:78"><span class="id" title="variable">b</span></a> <a class="idref" href="cap_machine.region.html#e:79"><span class="id" title="variable">e</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="cap_machine.region.html#region_addrs"><span class="id" title="definition">region_addrs</span></a> <a class="idref" href="cap_machine.region.html#b:78"><span class="id" title="variable">b</span></a> <a class="idref" href="cap_machine.region.html#a:81"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <a class="idref" href="cap_machine.region.html#region_addrs"><span class="id" title="definition">region_addrs</span></a> <a class="idref" href="cap_machine.region.html#a:81"><span class="id" title="variable">a</span></a> <a class="idref" href="cap_machine.region.html#e:79"><span class="id" title="variable">e</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a> <a class="idref" href="cap_machine.region.html#region_size"><span class="id" title="definition">region_size</span></a> <a class="idref" href="cap_machine.region.html#b:78"><span class="id" title="variable">b</span></a> <a class="idref" href="cap_machine.region.html#a:81"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="cap_machine.region.html#n:80"><span class="id" title="variable">n</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Hsize</span>. <span class="id" title="tactic">rewrite</span> /<a class="idref" href="cap_machine.region.html#region_size"><span class="id" title="definition">region_size</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hsize</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">exists</span></a> <a id="a:83" class="idref" href="#a:83"><span class="id" title="binder">a</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">,</span></a> (<span class="id" title="var">b</span> <a class="idref" href="cap_machine.addr_reg.html#83f9bcf2054d3d441d475f25e3e951c6"><span class="id" title="notation">+</span></a> <span class="id" title="var">n</span>)%<span class="id" title="var">a</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="cap_machine.region.html#a:82"><span class="id" title="variable">a</span></a>) <span class="id" title="keyword">as</span> [<span class="id" title="var">a</span> <span class="id" title="var">Ha</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">rewrite</span> /<a class="idref" href="cap_machine.addr_reg.html#incr_addr"><span class="id" title="definition">incr_addr</span></a>. <span class="id" title="tactic">destruct</span> (<span class="id" title="instance">Z_le_dec</span> (<span class="id" title="var">b</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.ZArith.BinInt.html#46584eddd5fdb16176a10a2843177d3a"><span class="id" title="notation">+</span></a> <span class="id" title="var">n</span>)%<span class="id" title="var">Z</span> <a class="idref" href="cap_machine.addr_reg.html#MemNum"><span class="id" title="definition">MemNum</span></a>); [|<span class="id" title="var">solve_addr</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="instance">Z_le_dec</span> 0 (<span class="id" title="var">b</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.ZArith.BinInt.html#46584eddd5fdb16176a10a2843177d3a"><span class="id" title="notation">+</span></a> <span class="id" title="var">n</span>)%<span class="id" title="var">Z</span>); [<span class="id" title="tactic">eauto</span>|<span class="id" title="var">solve_addr</span>]. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exists</span> <span class="id" title="var">a</span>. <span class="id" title="tactic">split</span>; [|<span class="id" title="tactic">rewrite</span> /<a class="idref" href="cap_machine.region.html#region_size"><span class="id" title="definition">region_size</span></a>; <span class="id" title="var">solve_addr</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="cap_machine.region.html#region_addrs_split"><span class="id" title="lemma">region_addrs_split</span></a>. <span class="id" title="tactic">split</span>; <span class="id" title="var">solve_addr</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="isWithin_region_addrs_decomposition" class="idref" href="#isWithin_region_addrs_decomposition"><span class="id" title="lemma">isWithin_region_addrs_decomposition</span></a> <a id="a0:84" class="idref" href="#a0:84"><span class="id" title="binder">a0</span></a> <a id="a1:85" class="idref" href="#a1:85"><span class="id" title="binder">a1</span></a> <a id="b:86" class="idref" href="#b:86"><span class="id" title="binder">b</span></a> <a id="e:87" class="idref" href="#e:87"><span class="id" title="binder">e</span></a>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="cap_machine.region.html#b:86"><span class="id" title="variable">b</span></a> <a class="idref" href="cap_machine.addr_reg.html#8ccc7a9bb9ba1c27ed0dba9945a4cbb0"><span class="id" title="notation">&lt;=</span></a> <a class="idref" href="cap_machine.region.html#a0:84"><span class="id" title="variable">a0</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a> <a class="idref" href="cap_machine.region.html#a1:85"><span class="id" title="variable">a1</span></a> <a class="idref" href="cap_machine.addr_reg.html#8ccc7a9bb9ba1c27ed0dba9945a4cbb0"><span class="id" title="notation">&lt;=</span></a> <a class="idref" href="cap_machine.region.html#e:87"><span class="id" title="variable">e</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a> <a class="idref" href="cap_machine.region.html#a0:84"><span class="id" title="variable">a0</span></a> <a class="idref" href="cap_machine.addr_reg.html#8ccc7a9bb9ba1c27ed0dba9945a4cbb0"><span class="id" title="notation">&lt;=</span></a> <a class="idref" href="cap_machine.region.html#a1:85"><span class="id" title="variable">a1</span></a>)%<span class="id" title="var">a</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="cap_machine.region.html#region_addrs"><span class="id" title="definition">region_addrs</span></a> <a class="idref" href="cap_machine.region.html#b:86"><span class="id" title="variable">b</span></a> <a class="idref" href="cap_machine.region.html#e:87"><span class="id" title="variable">e</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="cap_machine.region.html#region_addrs"><span class="id" title="definition">region_addrs</span></a> <a class="idref" href="cap_machine.region.html#b:86"><span class="id" title="variable">b</span></a> <a class="idref" href="cap_machine.region.html#a0:84"><span class="id" title="variable">a0</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="cap_machine.region.html#region_addrs"><span class="id" title="definition">region_addrs</span></a> <a class="idref" href="cap_machine.region.html#a0:84"><span class="id" title="variable">a0</span></a> <a class="idref" href="cap_machine.region.html#a1:85"><span class="id" title="variable">a1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="cap_machine.region.html#region_addrs"><span class="id" title="definition">region_addrs</span></a> <a class="idref" href="cap_machine.region.html#a1:85"><span class="id" title="variable">a1</span></a> <a class="idref" href="cap_machine.region.html#e:87"><span class="id" title="variable">e</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">with</span> <span class="id" title="tactic">try</span> (<span class="id" title="tactic">unfold</span> <a class="idref" href="cap_machine.region.html#region_size"><span class="id" title="definition">region_size</span></a>; <span class="id" title="var">solve_addr</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> (<span class="id" title="var">Hba0</span> &amp; <span class="id" title="var">Ha1e</span> &amp; <span class="id" title="var">Ha0a1</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="cap_machine.region.html#region_addrs_split"><span class="id" title="lemma">region_addrs_split</span></a> <span class="id" title="var">b</span> <span class="id" title="var">a0</span> <span class="id" title="var">e</span>)... <span class="id" title="tactic">f_equal</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="cap_machine.region.html#region_addrs_split"><span class="id" title="lemma">region_addrs_split</span></a> <span class="id" title="var">a0</span> <span class="id" title="var">a1</span> <span class="id" title="var">e</span>)...<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="region_addrs_first" class="idref" href="#region_addrs_first"><span class="id" title="lemma">region_addrs_first</span></a> <a id="a:88" class="idref" href="#a:88"><span class="id" title="binder">a</span></a> <a id="b:89" class="idref" href="#b:89"><span class="id" title="binder">b</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="cap_machine.region.html#a:88"><span class="id" title="variable">a</span></a> <a class="idref" href="cap_machine.addr_reg.html#::Addr_scope:x_'&lt;'_x"><span class="id" title="notation">&lt;</span></a> <a class="idref" href="cap_machine.region.html#b:89"><span class="id" title="variable">b</span></a>)%<span class="id" title="var">a</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">(</span><a class="idref" href="cap_machine.region.html#region_addrs"><span class="id" title="definition">region_addrs</span></a> <a class="idref" href="cap_machine.region.html#a:88"><span class="id" title="variable">a</span></a> <a class="idref" href="cap_machine.region.html#b:89"><span class="id" title="variable">b</span></a><span class="id" title="notation">)</span> <span class="id" title="notation">!!</span> 0 <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="cap_machine.region.html#a:88"><span class="id" title="variable">a</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Hle</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="cap_machine.region.html#region_addrs"><span class="id" title="definition">region_addrs</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<span class="id" title="var">_</span><a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.ssr.ssreflect.html#::core_scope:x_':'_x"><span class="id" title="notation">:</span></a> <a class="idref" href="cap_machine.region.html#region_size"><span class="id" title="definition">region_size</span></a> <span class="id" title="var">a</span> <span class="id" title="var">b</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> (<a class="idref" href="cap_machine.region.html#region_size"><span class="id" title="definition">region_size</span></a> <span class="id" title="var">a</span> <span class="id" title="var">b</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Peano.html#::nat_scope:x_'-'_x"><span class="id" title="notation">-</span></a> 1)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;2: <span class="id" title="tactic">by</span> (<span class="id" title="tactic">unfold</span> <a class="idref" href="cap_machine.region.html#region_size"><span class="id" title="definition">region_size</span></a>; <span class="id" title="var">solve_addr</span>). <span class="id" title="var">done</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="region_addrs_NoDup" class="idref" href="#region_addrs_NoDup"><span class="id" title="lemma">region_addrs_NoDup</span></a> <a id="a:90" class="idref" href="#a:90"><span class="id" title="binder">a</span></a> <a id="b:91" class="idref" href="#b:91"><span class="id" title="binder">b</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="inductive">NoDup</span> (<a class="idref" href="cap_machine.region.html#region_addrs"><span class="id" title="definition">region_addrs</span></a> <a class="idref" href="cap_machine.region.html#a:90"><span class="id" title="variable">a</span></a> <a class="idref" href="cap_machine.region.html#b:91"><span class="id" title="variable">b</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="cap_machine.region.html#region_addrs"><span class="id" title="definition">region_addrs</span></a>. <span class="id" title="tactic">destruct</span> (<span class="id" title="instance">Z_le_dec</span> <span class="id" title="var">a</span> <span class="id" title="var">b</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <a class="idref" href="cap_machine.region.html#region_addrs_aux_NoDup"><span class="id" title="lemma">region_addrs_aux_NoDup</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="cap_machine.region.html#incr_addr_region_size"><span class="id" title="lemma">incr_addr_region_size</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> /<a class="idref" href="cap_machine.region.html#region_size"><span class="id" title="definition">region_size</span></a> <span class="id" title="lemma">Z_to_nat_nonpos</span>; [| <span class="id" title="var">lia</span>]. <span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <span class="id" title="lemma">NoDup_nil</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="region_addrs_cons" class="idref" href="#region_addrs_cons"><span class="id" title="lemma">region_addrs_cons</span></a> <a id="a:92" class="idref" href="#a:92"><span class="id" title="binder">a</span></a> <a id="e:93" class="idref" href="#e:93"><span class="id" title="binder">e</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="cap_machine.region.html#a:92"><span class="id" title="variable">a</span></a> <a class="idref" href="cap_machine.addr_reg.html#::Addr_scope:x_'&lt;'_x"><span class="id" title="notation">&lt;</span></a> <a class="idref" href="cap_machine.region.html#e:93"><span class="id" title="variable">e</span></a>)%<span class="id" title="var">a</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="cap_machine.region.html#region_addrs"><span class="id" title="definition">region_addrs</span></a> <a class="idref" href="cap_machine.region.html#a:92"><span class="id" title="variable">a</span></a> <a class="idref" href="cap_machine.region.html#e:93"><span class="id" title="variable">e</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="cap_machine.region.html#a:92"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <a class="idref" href="cap_machine.region.html#region_addrs"><span class="id" title="definition">region_addrs</span></a> (<a class="idref" href="cap_machine.addr_reg.html#1d48f14c43e86dff2b7280147a285103"><span class="id" title="notation">^(</span></a><a class="idref" href="cap_machine.region.html#a:92"><span class="id" title="variable">a</span></a><a class="idref" href="cap_machine.addr_reg.html#83f9bcf2054d3d441d475f25e3e951c6"><span class="id" title="notation">+</span></a>1<a class="idref" href="cap_machine.addr_reg.html#1d48f14c43e86dff2b7280147a285103"><span class="id" title="notation">)</span></a>)%<span class="id" title="var">a</span> <a class="idref" href="cap_machine.region.html#e:93"><span class="id" title="variable">e</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="tactic">rewrite</span> (<a class="idref" href="cap_machine.region.html#region_addrs_decomposition"><span class="id" title="lemma">region_addrs_decomposition</span></a> <span class="id" title="var">a</span> <span class="id" title="var">a</span>). 2: <span class="id" title="var">solve_addr</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="cap_machine.region.html#region_addrs"><span class="id" title="definition">region_addrs</span></a> <a class="idref" href="cap_machine.region.html#region_size_0"><span class="id" title="lemma">region_size_0</span></a> //. <span class="id" title="var">solve_addr</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="region_addrs_weak" class="idref" href="#region_addrs_weak"><span class="id" title="lemma">region_addrs_weak</span></a> <a id="n:94" class="idref" href="#n:94"><span class="id" title="binder">n</span></a> <a id="a:95" class="idref" href="#a:95"><span class="id" title="binder">a</span></a> <a id="b:96" class="idref" href="#b:96"><span class="id" title="binder">b</span></a> <a id="e:97" class="idref" href="#e:97"><span class="id" title="binder">e</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="cap_machine.region.html#a:95"><span class="id" title="variable">a</span></a> <span class="id" title="notation">∈</span> <a class="idref" href="cap_machine.region.html#region_addrs_aux"><span class="id" title="definition">region_addrs_aux</span></a> <a class="idref" href="cap_machine.region.html#b:96"><span class="id" title="variable">b</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <a class="idref" href="cap_machine.region.html#n:94"><span class="id" title="variable">n</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="cap_machine.region.html#b:96"><span class="id" title="variable">b</span></a> <a class="idref" href="cap_machine.addr_reg.html#83f9bcf2054d3d441d475f25e3e951c6"><span class="id" title="notation">+</span></a> <a class="idref" href="cap_machine.region.html#n:94"><span class="id" title="variable">n</span></a>)%<span class="id" title="var">a</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="cap_machine.region.html#e:97"><span class="id" title="variable">e</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="cap_machine.region.html#a:95"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Unicode.Utf8_core.html#eac9b9307401b34847f15ea69bb5957f"><span class="id" title="notation">≠</span></a> <a class="idref" href="cap_machine.region.html#e:97"><span class="id" title="variable">e</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="cap_machine.region.html#a:95"><span class="id" title="variable">a</span></a> <span class="id" title="notation">∈</span> <a class="idref" href="cap_machine.region.html#region_addrs_aux"><span class="id" title="definition">region_addrs_aux</span></a> <a class="idref" href="cap_machine.region.html#b:96"><span class="id" title="variable">b</span></a> <a class="idref" href="cap_machine.region.html#n:94"><span class="id" title="variable">n</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">revert</span> <span class="id" title="var">b</span>. <span class="id" title="tactic">induction</span> <span class="id" title="var">n</span>;<span class="id" title="tactic">intros</span> <span class="id" title="var">b</span> <span class="id" title="var">Hin</span> <span class="id" title="var">Hb</span> <span class="id" title="var">Hne</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hin</span>. <span class="id" title="tactic">apply</span> <span class="id" title="lemma">elem_of_list_singleton</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hin</span>. <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="cap_machine.solve_addr.html#addr_add_0"><span class="id" title="lemma">addr_add_0</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hb</span>. <span class="id" title="tactic">inversion</span> <span class="id" title="var">Hb</span>. <span class="id" title="var">contradiction</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">destruct</span> (<span class="id" title="definition">decide</span> (<span class="id" title="var">a</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">b</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">subst</span>. <span class="id" title="tactic">apply</span> <span class="id" title="lemma">elem_of_cons</span>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">left</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> <span class="id" title="lemma">elem_of_cons</span>. <span class="id" title="tactic">right</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hin</span>. <span class="id" title="tactic">apply</span> <span class="id" title="lemma">elem_of_cons</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hin</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hin</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">Hcontr</span> | <span class="id" title="var">Hin</span>];[<span class="id" title="var">contradiction</span>|].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">IHn</span>;<span class="id" title="tactic">auto</span>. <span class="id" title="var">solve_addr</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="region_addrs_elem_of_lt" class="idref" href="#region_addrs_elem_of_lt"><span class="id" title="lemma">region_addrs_elem_of_lt</span></a> (<a id="a:98" class="idref" href="#a:98"><span class="id" title="binder">a</span></a> <a id="b:99" class="idref" href="#b:99"><span class="id" title="binder">b</span></a> <a id="e:100" class="idref" href="#e:100"><span class="id" title="binder">e</span></a> : <a class="idref" href="cap_machine.addr_reg.html#Addr"><span class="id" title="inductive">Addr</span></a>) <a id="n:101" class="idref" href="#n:101"><span class="id" title="binder">n</span></a> :<br/>
&nbsp;&nbsp;&nbsp;<a class="idref" href="cap_machine.region.html#a:98"><span class="id" title="variable">a</span></a> <span class="id" title="notation">∈</span> <a class="idref" href="cap_machine.region.html#region_addrs_aux"><span class="id" title="definition">region_addrs_aux</span></a> <a class="idref" href="cap_machine.region.html#b:99"><span class="id" title="variable">b</span></a> <a class="idref" href="cap_machine.region.html#n:101"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> (<a class="idref" href="cap_machine.region.html#b:99"><span class="id" title="variable">b</span></a> <a class="idref" href="cap_machine.addr_reg.html#83f9bcf2054d3d441d475f25e3e951c6"><span class="id" title="notation">+</span></a> <a class="idref" href="cap_machine.region.html#n:101"><span class="id" title="variable">n</span></a>)%<span class="id" title="var">a</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="cap_machine.region.html#e:100"><span class="id" title="variable">e</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> (<a class="idref" href="cap_machine.region.html#a:98"><span class="id" title="variable">a</span></a> <a class="idref" href="cap_machine.addr_reg.html#::Addr_scope:x_'&lt;'_x"><span class="id" title="notation">&lt;</span></a> <a class="idref" href="cap_machine.region.html#e:100"><span class="id" title="variable">e</span></a>)%<span class="id" title="var">a</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="cap_machine.region.html#region_addrs"><span class="id" title="definition">region_addrs</span></a>. <span class="id" title="tactic">intros</span> <span class="id" title="var">Hin</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">revert</span> <span class="id" title="var">e</span>. <span class="id" title="tactic">induction</span> <span class="id" title="var">n</span>; <span class="id" title="tactic">intros</span> <span class="id" title="var">e</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">inversion</span> <span class="id" title="var">Hin</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> <span class="id" title="var">He</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">exists</span></a> <a id="e':103" class="idref" href="#e':103"><span class="id" title="binder">e'</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">,</span></a> (<span class="id" title="var">b</span> <a class="idref" href="cap_machine.addr_reg.html#83f9bcf2054d3d441d475f25e3e951c6"><span class="id" title="notation">+</span></a> <span class="id" title="var">n</span>)%<span class="id" title="var">a</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="cap_machine.region.html#e':102"><span class="id" title="variable">e'</span></a>) <span class="id" title="keyword">as</span> [<span class="id" title="var">e'</span> <span class="id" title="var">He'</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.ZArith.Znat.html#Nat2Z.inj_succ"><span class="id" title="lemma">Nat2Z.inj_succ</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">He</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.ZArith.BinInt.html#Z.succ"><span class="id" title="definition">Z.succ</span></a> <span class="id" title="var">n</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">n</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.ZArith.BinInt.html#46584eddd5fdb16176a10a2843177d3a"><span class="id" title="notation">+</span></a> 1)%<span class="id" title="var">Z</span> <span class="id" title="keyword">as</span> <span class="id" title="var">Heq</span>;[<span class="id" title="var">lia</span>|]. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Heq</span> <span class="id" title="tactic">in</span> <span class="id" title="var">He</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="var">b</span> <a class="idref" href="cap_machine.addr_reg.html#83f9bcf2054d3d441d475f25e3e951c6"><span class="id" title="notation">+</span></a> <span class="id" title="var">n</span>)%<span class="id" title="var">a</span> <span class="id" title="var">eqn</span>:<span class="id" title="var">Hsome</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">rewrite</span> (<a class="idref" href="cap_machine.solve_addr.html#addr_add_assoc"><span class="id" title="lemma">addr_add_assoc</span></a> <span class="id" title="var">_</span> <span class="id" title="var">a0</span>) <span class="id" title="tactic">in</span> <span class="id" title="var">He</span>;<span class="id" title="tactic">auto</span>. <span class="id" title="tactic">eauto</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">exfalso</span>. <span class="id" title="var">solve_addr</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">n</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">rewrite</span> <a class="idref" href="cap_machine.solve_addr.html#addr_add_0"><span class="id" title="lemma">addr_add_0</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">He'</span>. <span class="id" title="tactic">inversion</span> <span class="id" title="var">He'</span>. <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hin</span>. <span class="id" title="tactic">apply</span> <span class="id" title="lemma">elem_of_list_singleton</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hin</span>. <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">solve_addr</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">destruct</span> (<span class="id" title="definition">decide</span> (<span class="id" title="var">a</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">e'</span>));[<span class="id" title="tactic">subst</span>;<span class="id" title="var">solve_addr</span>|].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="cap_machine.addr_reg.html#lt_addr"><span class="id" title="definition">lt_addr</span></a>. <span class="id" title="var">trans</span> <span class="id" title="var">e'</span>;[|<span class="id" title="var">solve_addr</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">IHn</span>;<span class="id" title="tactic">auto</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="cap_machine.region.html#region_addrs_weak"><span class="id" title="lemma">region_addrs_weak</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">e</span>:=<span class="id" title="var">e'</span>);<span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="region_addrs_elem_of_ge" class="idref" href="#region_addrs_elem_of_ge"><span class="id" title="lemma">region_addrs_elem_of_ge</span></a> (<a id="a:104" class="idref" href="#a:104"><span class="id" title="binder">a</span></a> <a id="b:105" class="idref" href="#b:105"><span class="id" title="binder">b</span></a> : <a class="idref" href="cap_machine.addr_reg.html#Addr"><span class="id" title="inductive">Addr</span></a>) <a id="n:106" class="idref" href="#n:106"><span class="id" title="binder">n</span></a> :<br/>
&nbsp;&nbsp;&nbsp;<a class="idref" href="cap_machine.region.html#a:104"><span class="id" title="variable">a</span></a> <span class="id" title="notation">∈</span> <a class="idref" href="cap_machine.region.html#region_addrs_aux"><span class="id" title="definition">region_addrs_aux</span></a> <a class="idref" href="cap_machine.region.html#b:105"><span class="id" title="variable">b</span></a> <a class="idref" href="cap_machine.region.html#n:106"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> (<a class="idref" href="cap_machine.region.html#b:105"><span class="id" title="variable">b</span></a> <a class="idref" href="cap_machine.addr_reg.html#8ccc7a9bb9ba1c27ed0dba9945a4cbb0"><span class="id" title="notation">&lt;=</span></a> <a class="idref" href="cap_machine.region.html#a:104"><span class="id" title="variable">a</span></a>)%<span class="id" title="var">a</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="cap_machine.region.html#region_addrs"><span class="id" title="definition">region_addrs</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">revert</span> <span class="id" title="var">b</span>. <span class="id" title="tactic">induction</span> <span class="id" title="var">n</span>;<span class="id" title="tactic">intros</span> <span class="id" title="var">b</span> <span class="id" title="var">Hin</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">inversion</span> <span class="id" title="var">Hin</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hin</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="lemma">elem_of_cons</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hin</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">Heq</span> | <span class="id" title="var">Hin</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">subst</span>. <span class="id" title="var">solve_addr</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">rewrite</span> /<a class="idref" href="cap_machine.addr_reg.html#le_addr"><span class="id" title="definition">le_addr</span></a>. <span class="id" title="var">trans</span> <a class="idref" href="cap_machine.addr_reg.html#1d48f14c43e86dff2b7280147a285103"><span class="id" title="notation">^(</span></a><span class="id" title="var">b</span> <a class="idref" href="cap_machine.addr_reg.html#83f9bcf2054d3d441d475f25e3e951c6"><span class="id" title="notation">+</span></a> 1<a class="idref" href="cap_machine.addr_reg.html#1d48f14c43e86dff2b7280147a285103"><span class="id" title="notation">)</span></a>%<span class="id" title="var">a</span>;[<span class="id" title="var">solve_addr</span>|].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">IHn</span>;<span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="elem_of_region_addrs" class="idref" href="#elem_of_region_addrs"><span class="id" title="lemma">elem_of_region_addrs</span></a> (<a id="a:107" class="idref" href="#a:107"><span class="id" title="binder">a</span></a> <a id="b:108" class="idref" href="#b:108"><span class="id" title="binder">b</span></a> <a id="e:109" class="idref" href="#e:109"><span class="id" title="binder">e</span></a>: <a class="idref" href="cap_machine.addr_reg.html#Addr"><span class="id" title="inductive">Addr</span></a>):<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="cap_machine.region.html#a:107"><span class="id" title="variable">a</span></a> <span class="id" title="notation">∈</span> <a class="idref" href="cap_machine.region.html#region_addrs"><span class="id" title="definition">region_addrs</span></a> <a class="idref" href="cap_machine.region.html#b:108"><span class="id" title="variable">b</span></a> <a class="idref" href="cap_machine.region.html#e:109"><span class="id" title="variable">e</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Unicode.Utf8_core.html#d9d5c539a07c7350478e89358d1fe520"><span class="id" title="notation">↔</span></a> (<a class="idref" href="cap_machine.region.html#b:108"><span class="id" title="variable">b</span></a> <a class="idref" href="cap_machine.addr_reg.html#8ccc7a9bb9ba1c27ed0dba9945a4cbb0"><span class="id" title="notation">&lt;=</span></a> <a class="idref" href="cap_machine.region.html#a:107"><span class="id" title="variable">a</span></a>)%<span class="id" title="var">a</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Unicode.Utf8_core.html#3668992ecc3e95973d304a75a28051a2"><span class="id" title="notation">∧</span></a> (<a class="idref" href="cap_machine.region.html#a:107"><span class="id" title="variable">a</span></a> <a class="idref" href="cap_machine.addr_reg.html#::Addr_scope:x_'&lt;'_x"><span class="id" title="notation">&lt;</span></a> <a class="idref" href="cap_machine.region.html#e:109"><span class="id" title="variable">e</span></a>)%<span class="id" title="var">a</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="cap_machine.region.html#region_addrs"><span class="id" title="definition">region_addrs</span></a> /<a class="idref" href="cap_machine.region.html#region_size"><span class="id" title="definition">region_size</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">set</span> <span class="id" title="var">n</span> := <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.ZArith.BinInt.html#Z.to_nat"><span class="id" title="definition">Z.to_nat</span></a> (<span class="id" title="var">e</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.ZArith.BinInt.html#::Z_scope:x_'-'_x"><span class="id" title="notation">-</span></a> <span class="id" title="var">b</span>). <span class="id" title="var">have</span>: (<span class="id" title="var">n</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.ZArith.BinInt.html#Z.to_nat"><span class="id" title="definition">Z.to_nat</span></a> (<span class="id" title="var">e</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.ZArith.BinInt.html#::Z_scope:x_'-'_x"><span class="id" title="notation">-</span></a> <span class="id" title="var">b</span>)) <span class="id" title="tactic">by</span> <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">clearbody</span> <span class="id" title="var">n</span>. <span class="id" title="var">revert</span> <span class="id" title="var">n</span> <span class="id" title="var">a</span> <span class="id" title="var">b</span> <span class="id" title="var">e</span>. <span class="id" title="tactic">induction</span> <span class="id" title="var">n</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">intros</span>. <span class="id" title="var">cbn</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">elem_of_nil</span>. <span class="id" title="var">solve_addr</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">intros</span>. <span class="id" title="var">cbn</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">elem_of_cons</span> (<span class="id" title="var">IHn</span> <span class="id" title="var">a</span> <span class="id" title="var">_</span> <span class="id" title="var">e</span>). 2: <span class="id" title="var">solve_addr</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>. <span class="id" title="tactic">intros</span> [ -&gt; | ]; <span class="id" title="var">solve_addr</span>. <span class="id" title="tactic">intros</span> [<span class="id" title="var">Hba</span> ?].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.ZArith.Zorder.html#Zle_lt_or_eq"><span class="id" title="lemma">Zle_lt_or_eq</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hba</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">Hba</span>; [| <span class="id" title="tactic">subst</span>]. <span class="id" title="var">solve_addr</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">b</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">a</span>) <span class="id" title="tactic">by</span> <span class="id" title="var">solve_addr</span>. <span class="id" title="tactic">subst</span>. <span class="id" title="var">solve_addr</span>. }<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="not_elem_of_region_addrs" class="idref" href="#not_elem_of_region_addrs"><span class="id" title="lemma">not_elem_of_region_addrs</span></a> (<a id="a:110" class="idref" href="#a:110"><span class="id" title="binder">a</span></a> <a id="b:111" class="idref" href="#b:111"><span class="id" title="binder">b</span></a> <a id="e:112" class="idref" href="#e:112"><span class="id" title="binder">e</span></a>: <a class="idref" href="cap_machine.addr_reg.html#Addr"><span class="id" title="inductive">Addr</span></a>):<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="cap_machine.region.html#a:110"><span class="id" title="variable">a</span></a> <span class="id" title="notation">∉</span> <a class="idref" href="cap_machine.region.html#region_addrs"><span class="id" title="definition">region_addrs</span></a> <a class="idref" href="cap_machine.region.html#b:111"><span class="id" title="variable">b</span></a> <a class="idref" href="cap_machine.region.html#e:112"><span class="id" title="variable">e</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Unicode.Utf8_core.html#d9d5c539a07c7350478e89358d1fe520"><span class="id" title="notation">↔</span></a> (<a class="idref" href="cap_machine.region.html#a:110"><span class="id" title="variable">a</span></a> <a class="idref" href="cap_machine.addr_reg.html#::Addr_scope:x_'&lt;'_x"><span class="id" title="notation">&lt;</span></a> <a class="idref" href="cap_machine.region.html#b:111"><span class="id" title="variable">b</span></a>)%<span class="id" title="var">a</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Unicode.Utf8_core.html#9b27a55e56b4bfcc20e5b8cbd0156a3e"><span class="id" title="notation">∨</span></a> (<a class="idref" href="cap_machine.region.html#e:112"><span class="id" title="variable">e</span></a> <a class="idref" href="cap_machine.addr_reg.html#8ccc7a9bb9ba1c27ed0dba9945a4cbb0"><span class="id" title="notation">&lt;=</span></a> <a class="idref" href="cap_machine.region.html#a:110"><span class="id" title="variable">a</span></a>)%<span class="id" title="var">a</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="definition">decide</span> ((<span class="id" title="var">a</span> <a class="idref" href="cap_machine.addr_reg.html#::Addr_scope:x_'&lt;'_x"><span class="id" title="notation">&lt;</span></a> <span class="id" title="var">b</span>)%<span class="id" title="var">a</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Unicode.Utf8_core.html#9b27a55e56b4bfcc20e5b8cbd0156a3e"><span class="id" title="notation">∨</span></a> (<span class="id" title="var">e</span> <a class="idref" href="cap_machine.addr_reg.html#8ccc7a9bb9ba1c27ed0dba9945a4cbb0"><span class="id" title="notation">&lt;=</span></a> <span class="id" title="var">a</span>)%<span class="id" title="var">a</span>)) <span class="id" title="keyword">as</span> [<span class="id" title="var">X1</span>|<span class="id" title="var">X1</span>];<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="definition">decide</span> (<span class="id" title="var">a</span> <span class="id" title="notation">∈</span> <a class="idref" href="cap_machine.region.html#region_addrs"><span class="id" title="definition">region_addrs</span></a> <span class="id" title="var">b</span> <span class="id" title="var">e</span>)) <span class="id" title="keyword">as</span> [<span class="id" title="var">X2</span>|<span class="id" title="var">X2</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> -&gt; <a class="idref" href="cap_machine.region.html#elem_of_region_addrs"><span class="id" title="lemma">elem_of_region_addrs</span></a> <span class="id" title="tactic">in</span> *. <span class="id" title="var">solve_addr</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">split</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> -&gt; <a class="idref" href="cap_machine.region.html#elem_of_region_addrs"><span class="id" title="lemma">elem_of_region_addrs</span></a> <span class="id" title="tactic">in</span> *. <span class="id" title="var">solve_addr</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">split</span>; <span class="id" title="tactic">auto</span>. <span class="id" title="tactic">intros</span> <span class="id" title="var">_</span>. <span class="id" title="var">exfalso</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">X2</span>, <a class="idref" href="cap_machine.region.html#elem_of_region_addrs"><span class="id" title="lemma">elem_of_region_addrs</span></a>. <span class="id" title="var">solve_addr</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="region_addrs_not_elem_of_le" class="idref" href="#region_addrs_not_elem_of_le"><span class="id" title="lemma">region_addrs_not_elem_of_le</span></a> <a id="a:113" class="idref" href="#a:113"><span class="id" title="binder">a</span></a> (<a id="n:114" class="idref" href="#n:114"><span class="id" title="binder">n</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>) <a id="b:115" class="idref" href="#b:115"><span class="id" title="binder">b</span></a> <a id="a':116" class="idref" href="#a':116"><span class="id" title="binder">a'</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="cap_machine.region.html#b:115"><span class="id" title="variable">b</span></a> <a class="idref" href="cap_machine.addr_reg.html#83f9bcf2054d3d441d475f25e3e951c6"><span class="id" title="notation">+</span></a> <a class="idref" href="cap_machine.region.html#n:114"><span class="id" title="variable">n</span></a>)%<span class="id" title="var">a</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="cap_machine.region.html#a:113"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> (<a class="idref" href="cap_machine.region.html#a:113"><span class="id" title="variable">a</span></a> <a class="idref" href="cap_machine.addr_reg.html#8ccc7a9bb9ba1c27ed0dba9945a4cbb0"><span class="id" title="notation">&lt;=</span></a> <a class="idref" href="cap_machine.region.html#a':116"><span class="id" title="variable">a'</span></a>)%<span class="id" title="var">a</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="cap_machine.region.html#a':116"><span class="id" title="variable">a'</span></a> <span class="id" title="notation">∉</span> <span class="id" title="notation">(</span><a class="idref" href="cap_machine.region.html#region_addrs_aux"><span class="id" title="definition">region_addrs_aux</span></a> <a class="idref" href="cap_machine.region.html#b:115"><span class="id" title="variable">b</span></a> <a class="idref" href="cap_machine.region.html#n:114"><span class="id" title="variable">n</span></a><span class="id" title="notation">)</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">revert</span> <span class="id" title="var">b</span> <span class="id" title="var">a'</span>. <span class="id" title="tactic">induction</span> <span class="id" title="var">n</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> * <span class="id" title="var">Ha'</span> <span class="id" title="var">Hle</span>. <span class="id" title="tactic">apply</span> <span class="id" title="lemma">not_elem_of_nil</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> * <span class="id" title="var">Ha'</span> <span class="id" title="var">Hle</span>. <span class="id" title="tactic">apply</span> <span class="id" title="lemma">not_elem_of_cons</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">intros</span> <span class="id" title="var">Hcontr</span>;<span class="id" title="tactic">subst</span>. <span class="id" title="var">solve_addr</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> <span class="id" title="var">IHn</span>; <span class="id" title="var">solve_addr</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="region_addrs_xor_elem_of" class="idref" href="#region_addrs_xor_elem_of"><span class="id" title="lemma">region_addrs_xor_elem_of</span></a> (<a id="a:117" class="idref" href="#a:117"><span class="id" title="binder">a</span></a> <a id="b:118" class="idref" href="#b:118"><span class="id" title="binder">b</span></a> <a id="c:119" class="idref" href="#c:119"><span class="id" title="binder">c</span></a> <a id="e:120" class="idref" href="#e:120"><span class="id" title="binder">e</span></a> : <a class="idref" href="cap_machine.addr_reg.html#Addr"><span class="id" title="inductive">Addr</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="cap_machine.region.html#b:118"><span class="id" title="variable">b</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.ZArith.BinInt.html#bdb3edde5f841a282ce8fc1b00e3d211"><span class="id" title="notation">&lt;=</span></a> <a class="idref" href="cap_machine.region.html#c:119"><span class="id" title="variable">c</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.ZArith.BinInt.html#bdb3edde5f841a282ce8fc1b00e3d211"><span class="id" title="notation">&lt;</span></a> <a class="idref" href="cap_machine.region.html#e:120"><span class="id" title="variable">e</span></a>)%<span class="id" title="var">Z</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="cap_machine.region.html#a:117"><span class="id" title="variable">a</span></a> <span class="id" title="notation">∈</span> <a class="idref" href="cap_machine.region.html#region_addrs"><span class="id" title="definition">region_addrs</span></a> <a class="idref" href="cap_machine.region.html#b:118"><span class="id" title="variable">b</span></a> <a class="idref" href="cap_machine.region.html#e:120"><span class="id" title="variable">e</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Unicode.Utf8_core.html#9b27a55e56b4bfcc20e5b8cbd0156a3e"><span class="id" title="notation">(</span></a><a class="idref" href="cap_machine.region.html#a:117"><span class="id" title="variable">a</span></a> <span class="id" title="notation">∈</span> <a class="idref" href="cap_machine.region.html#region_addrs"><span class="id" title="definition">region_addrs</span></a> <a class="idref" href="cap_machine.region.html#b:118"><span class="id" title="variable">b</span></a> <a class="idref" href="cap_machine.region.html#c:119"><span class="id" title="variable">c</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Unicode.Utf8_core.html#3668992ecc3e95973d304a75a28051a2"><span class="id" title="notation">∧</span></a> <a class="idref" href="cap_machine.region.html#a:117"><span class="id" title="variable">a</span></a> <span class="id" title="notation">∉</span> <a class="idref" href="cap_machine.region.html#region_addrs"><span class="id" title="definition">region_addrs</span></a> <a class="idref" href="cap_machine.region.html#c:119"><span class="id" title="variable">c</span></a> <a class="idref" href="cap_machine.region.html#e:120"><span class="id" title="variable">e</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Unicode.Utf8_core.html#9b27a55e56b4bfcc20e5b8cbd0156a3e"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Unicode.Utf8_core.html#9b27a55e56b4bfcc20e5b8cbd0156a3e"><span class="id" title="notation">∨</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Unicode.Utf8_core.html#9b27a55e56b4bfcc20e5b8cbd0156a3e"><span class="id" title="notation">(</span></a><a class="idref" href="cap_machine.region.html#a:117"><span class="id" title="variable">a</span></a> <span class="id" title="notation">∉</span> <a class="idref" href="cap_machine.region.html#region_addrs"><span class="id" title="definition">region_addrs</span></a> <a class="idref" href="cap_machine.region.html#b:118"><span class="id" title="variable">b</span></a> <a class="idref" href="cap_machine.region.html#c:119"><span class="id" title="variable">c</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Unicode.Utf8_core.html#3668992ecc3e95973d304a75a28051a2"><span class="id" title="notation">∧</span></a> <a class="idref" href="cap_machine.region.html#a:117"><span class="id" title="variable">a</span></a> <span class="id" title="notation">∈</span> <a class="idref" href="cap_machine.region.html#region_addrs"><span class="id" title="definition">region_addrs</span></a> <a class="idref" href="cap_machine.region.html#c:119"><span class="id" title="variable">c</span></a> <a class="idref" href="cap_machine.region.html#e:120"><span class="id" title="variable">e</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Unicode.Utf8_core.html#9b27a55e56b4bfcc20e5b8cbd0156a3e"><span class="id" title="notation">)</span></a>.<br/>
&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Hbounds</span> <span class="id" title="var">Ha</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="cap_machine.region.html#region_addrs_split"><span class="id" title="lemma">region_addrs_split</span></a> <span class="id" title="var">_</span> <span class="id" title="var">c</span>) <span class="id" title="tactic">in</span> <span class="id" title="var">Ha</span>;<span class="id" title="tactic">auto</span>. 2: <span class="id" title="var">solve_addr</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="lemma">elem_of_app</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Ha</span>. <span class="id" title="tactic">rewrite</span> -&gt;!<a class="idref" href="cap_machine.region.html#elem_of_region_addrs"><span class="id" title="lemma">elem_of_region_addrs</span></a> <span class="id" title="tactic">in</span> *. <span class="id" title="var">solve_addr</span>.<br/>
&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="region_addrs_single" class="idref" href="#region_addrs_single"><span class="id" title="lemma">region_addrs_single</span></a> <a id="b:121" class="idref" href="#b:121"><span class="id" title="binder">b</span></a> <a id="e:122" class="idref" href="#e:122"><span class="id" title="binder">e</span></a>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="cap_machine.region.html#b:121"><span class="id" title="variable">b</span></a><a class="idref" href="cap_machine.addr_reg.html#83f9bcf2054d3d441d475f25e3e951c6"><span class="id" title="notation">+</span></a>1)%<span class="id" title="var">a</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="cap_machine.region.html#e:122"><span class="id" title="variable">e</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="cap_machine.region.html#region_addrs"><span class="id" title="definition">region_addrs</span></a> <a class="idref" href="cap_machine.region.html#b:121"><span class="id" title="variable">b</span></a> <a class="idref" href="cap_machine.region.html#e:122"><span class="id" title="variable">e</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">[</span></a><a class="idref" href="cap_machine.region.html#b:121"><span class="id" title="variable">b</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">]</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="tactic">rewrite</span> /<a class="idref" href="cap_machine.region.html#region_addrs"><span class="id" title="definition">region_addrs</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<span class="id" title="var">_</span><a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.ssr.ssreflect.html#::core_scope:x_':'_x"><span class="id" title="notation">:</span></a> <a class="idref" href="cap_machine.region.html#region_size"><span class="id" title="definition">region_size</span></a> <span class="id" title="var">b</span> <span class="id" title="var">e</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> 1) //= /<a class="idref" href="cap_machine.region.html#region_size"><span class="id" title="definition">region_size</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">solve_addr</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="region_addrs_submseteq" class="idref" href="#region_addrs_submseteq"><span class="id" title="lemma">region_addrs_submseteq</span></a> <a id="b:123" class="idref" href="#b:123"><span class="id" title="binder">b</span></a> <a id="b':124" class="idref" href="#b':124"><span class="id" title="binder">b'</span></a> <a id="e:125" class="idref" href="#e:125"><span class="id" title="binder">e</span></a> <a id="e':126" class="idref" href="#e':126"><span class="id" title="binder">e'</span></a>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="cap_machine.region.html#b':124"><span class="id" title="variable">b'</span></a> <a class="idref" href="cap_machine.addr_reg.html#8ccc7a9bb9ba1c27ed0dba9945a4cbb0"><span class="id" title="notation">&lt;=</span></a> <a class="idref" href="cap_machine.region.html#b:123"><span class="id" title="variable">b</span></a>)%<span class="id" title="var">a</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="cap_machine.region.html#e:125"><span class="id" title="variable">e</span></a> <a class="idref" href="cap_machine.addr_reg.html#8ccc7a9bb9ba1c27ed0dba9945a4cbb0"><span class="id" title="notation">&lt;=</span></a> <a class="idref" href="cap_machine.region.html#e':126"><span class="id" title="variable">e'</span></a>)%<span class="id" title="var">a</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="cap_machine.region.html#region_addrs"><span class="id" title="definition">region_addrs</span></a> <a class="idref" href="cap_machine.region.html#b:123"><span class="id" title="variable">b</span></a> <a class="idref" href="cap_machine.region.html#e:125"><span class="id" title="variable">e</span></a> <span class="id" title="notation">⊆+</span> <a class="idref" href="cap_machine.region.html#region_addrs"><span class="id" title="definition">region_addrs</span></a> <a class="idref" href="cap_machine.region.html#b':124"><span class="id" title="variable">b'</span></a> <a class="idref" href="cap_machine.region.html#e':126"><span class="id" title="variable">e'</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="tactic">destruct</span> (<a class="idref" href="cap_machine.addr_reg.html#Addr_le_dec"><span class="id" title="instance">Addr_le_dec</span></a> <span class="id" title="var">b</span> <span class="id" title="var">e</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> (<a class="idref" href="cap_machine.region.html#region_addrs_split"><span class="id" title="lemma">region_addrs_split</span></a> <span class="id" title="var">b'</span> <span class="id" title="var">b</span> <span class="id" title="var">e'</span>); [|<span class="id" title="var">solve_addr</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="cap_machine.region.html#region_addrs_split"><span class="id" title="lemma">region_addrs_split</span></a> <span class="id" title="var">b</span> <span class="id" title="var">e</span> <span class="id" title="var">e'</span>); [|<span class="id" title="var">solve_addr</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="lemma">submseteq_middle</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> <a class="idref" href="cap_machine.region.html#region_addrs_empty"><span class="id" title="lemma">region_addrs_empty</span></a>; [|<span class="id" title="var">solve_addr</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="lemma">submseteq_nil_l</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="region_addrs_lookup_middle" class="idref" href="#region_addrs_lookup_middle"><span class="id" title="lemma">region_addrs_lookup_middle</span></a> <a id="a0:127" class="idref" href="#a0:127"><span class="id" title="binder">a0</span></a> <a id="an:128" class="idref" href="#an:128"><span class="id" title="binder">an</span></a> (<a id="i:129" class="idref" href="#i:129"><span class="id" title="binder">i</span></a> <a id="n:130" class="idref" href="#n:130"><span class="id" title="binder">n</span></a>: <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="cap_machine.region.html#i:129"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Peano.html#::nat_scope:x_'&lt;'_x"><span class="id" title="notation">&lt;</span></a> <a class="idref" href="cap_machine.region.html#n:130"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="cap_machine.region.html#a0:127"><span class="id" title="variable">a0</span></a> <a class="idref" href="cap_machine.addr_reg.html#83f9bcf2054d3d441d475f25e3e951c6"><span class="id" title="notation">+</span></a> <a class="idref" href="cap_machine.region.html#n:130"><span class="id" title="variable">n</span></a>)%<span class="id" title="var">a</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="cap_machine.region.html#an:128"><span class="id" title="variable">an</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">(</span><a class="idref" href="cap_machine.region.html#region_addrs"><span class="id" title="definition">region_addrs</span></a> <a class="idref" href="cap_machine.region.html#a0:127"><span class="id" title="variable">a0</span></a> <a class="idref" href="cap_machine.region.html#an:128"><span class="id" title="variable">an</span></a><span class="id" title="notation">)</span> <span class="id" title="notation">!!</span> <a class="idref" href="cap_machine.region.html#i:129"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> (<a class="idref" href="cap_machine.region.html#a0:127"><span class="id" title="variable">a0</span></a> <a class="idref" href="cap_machine.addr_reg.html#58e53c8acf01fb8822eb5bae448055ec"><span class="id" title="notation">^+</span></a> <a class="idref" href="cap_machine.region.html#i:129"><span class="id" title="variable">i</span></a>)%<span class="id" title="var">a</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Hin</span> <span class="id" title="var">Han</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="cap_machine.region.html#region_addrs"><span class="id" title="definition">region_addrs</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<span class="id" title="var">_</span><a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.ssr.ssreflect.html#::core_scope:x_':'_x"><span class="id" title="notation">:</span></a> <a class="idref" href="cap_machine.region.html#region_size"><span class="id" title="definition">region_size</span></a> <span class="id" title="var">a0</span> <span class="id" title="var">an</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">n</span>); <span class="id" title="var">cycle</span> 1.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">rewrite</span> /<a class="idref" href="cap_machine.region.html#region_size"><span class="id" title="definition">region_size</span></a>. <span class="id" title="var">solve_addr</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="cap_machine.region.html#region_addrs_aux_lookup_middle"><span class="id" title="lemma">region_addrs_aux_lookup_middle</span></a>; <span class="id" title="tactic">eauto</span>. <span class="id" title="var">solve_addr</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="comment">(*--------------------------------------------------------------------------*)</span><br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="region_mapsto" class="idref" href="#region_mapsto"><span class="id" title="definition">region_mapsto</span></a> (<a id="b:131" class="idref" href="#b:131"><span class="id" title="binder">b</span></a> <a id="e:132" class="idref" href="#e:132"><span class="id" title="binder">e</span></a> : <a class="idref" href="cap_machine.addr_reg.html#Addr"><span class="id" title="inductive">Addr</span></a>) (<a id="ws:133" class="idref" href="#ws:133"><span class="id" title="binder">ws</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="cap_machine.machine_base.html#Word"><span class="id" title="inductive">Word</span></a>) : <span class="id" title="abbreviation">iProp</span> <a class="idref" href="cap_machine.region.html#fea29da80a1cf882bbf3bc516690a08f"><span class="id" title="variable">Σ</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="notation">[∗</span> <span class="id" title="notation">list</span><span class="id" title="notation">]</span> <a id="k:134" class="idref" href="#k:134"><span class="id" title="binder">k</span></a><span class="id" title="notation">↦</span><a id="y1:135" class="idref" href="#y1:135"><span class="id" title="binder">y1</span></a><span class="id" title="notation">;</span><a id="y2:136" class="idref" href="#y2:136"><span class="id" title="binder">y2</span></a> <span class="id" title="notation">∈</span> <span class="id" title="notation">(</span><a class="idref" href="cap_machine.region.html#region_addrs"><span class="id" title="definition">region_addrs</span></a> <a class="idref" href="cap_machine.region.html#b:131"><span class="id" title="variable">b</span></a> <a class="idref" href="cap_machine.region.html#e:132"><span class="id" title="variable">e</span></a><span class="id" title="notation">);</span><a class="idref" href="cap_machine.region.html#ws:133"><span class="id" title="variable">ws</span></a><span class="id" title="notation">,</span> <a class="idref" href="cap_machine.region.html#y1:135"><span class="id" title="variable">y1</span></a> <a class="idref" href="cap_machine.rules.rules_base.html#e389c97555835874498bb08a394266c6"><span class="id" title="notation">↦ₐ</span></a> <a class="idref" href="cap_machine.region.html#y2:136"><span class="id" title="variable">y2</span></a>)%<span class="id" title="var">I</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="included" class="idref" href="#included"><span class="id" title="definition">included</span></a> (<a id="b':137" class="idref" href="#b':137"><span class="id" title="binder">b'</span></a> <a id="e':138" class="idref" href="#e':138"><span class="id" title="binder">e'</span></a> : <a class="idref" href="cap_machine.addr_reg.html#Addr"><span class="id" title="inductive">Addr</span></a>) (<a id="b:139" class="idref" href="#b:139"><span class="id" title="binder">b</span></a> <a id="e:140" class="idref" href="#e:140"><span class="id" title="binder">e</span></a> : <a class="idref" href="cap_machine.addr_reg.html#Addr"><span class="id" title="inductive">Addr</span></a>) : <span class="id" title="abbreviation">iProp</span> <a class="idref" href="cap_machine.region.html#fea29da80a1cf882bbf3bc516690a08f"><span class="id" title="variable">Σ</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="notation">⌜</span>(<a class="idref" href="cap_machine.region.html#b:139"><span class="id" title="variable">b</span></a> <a class="idref" href="cap_machine.addr_reg.html#8ccc7a9bb9ba1c27ed0dba9945a4cbb0"><span class="id" title="notation">&lt;=</span></a> <a class="idref" href="cap_machine.region.html#b':137"><span class="id" title="variable">b'</span></a>)%<span class="id" title="var">a</span><span class="id" title="notation">⌝</span> <span class="id" title="notation">∧</span> (<span class="id" title="notation">⌜</span><a class="idref" href="cap_machine.region.html#e':138"><span class="id" title="variable">e'</span></a> <a class="idref" href="cap_machine.addr_reg.html#8ccc7a9bb9ba1c27ed0dba9945a4cbb0"><span class="id" title="notation">&lt;=</span></a> <a class="idref" href="cap_machine.region.html#e:140"><span class="id" title="variable">e</span></a><span class="id" title="notation">⌝</span>)%<span class="id" title="var">a</span>)%<span class="id" title="var">I</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="in_range" class="idref" href="#in_range"><span class="id" title="definition">in_range</span></a> (<a id="a:141" class="idref" href="#a:141"><span class="id" title="binder">a</span></a> <a id="b:142" class="idref" href="#b:142"><span class="id" title="binder">b</span></a> <a id="e:143" class="idref" href="#e:143"><span class="id" title="binder">e</span></a> : <a class="idref" href="cap_machine.addr_reg.html#Addr"><span class="id" title="inductive">Addr</span></a>) : <span class="id" title="keyword">Prop</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="cap_machine.region.html#b:142"><span class="id" title="variable">b</span></a> <a class="idref" href="cap_machine.addr_reg.html#8ccc7a9bb9ba1c27ed0dba9945a4cbb0"><span class="id" title="notation">&lt;=</span></a> <a class="idref" href="cap_machine.region.html#a:141"><span class="id" title="variable">a</span></a>)%<span class="id" title="var">a</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Unicode.Utf8_core.html#3668992ecc3e95973d304a75a28051a2"><span class="id" title="notation">∧</span></a> (<a class="idref" href="cap_machine.region.html#a:141"><span class="id" title="variable">a</span></a> <a class="idref" href="cap_machine.addr_reg.html#::Addr_scope:x_'&lt;'_x"><span class="id" title="notation">&lt;</span></a> <a class="idref" href="cap_machine.region.html#e:143"><span class="id" title="variable">e</span></a>)%<span class="id" title="var">a</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="mapsto_decomposition" class="idref" href="#mapsto_decomposition"><span class="id" title="lemma">mapsto_decomposition</span></a>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">forall</span> <a id="l1:144" class="idref" href="#l1:144"><span class="id" title="binder">l1</span></a> <a id="l2:145" class="idref" href="#l2:145"><span class="id" title="binder">l2</span></a> <a id="ws1:146" class="idref" href="#ws1:146"><span class="id" title="binder">ws1</span></a> <a id="ws2:147" class="idref" href="#ws2:147"><span class="id" title="binder">ws2</span></a><span class="id" title="notation">,</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="abbreviation">length</span> <a class="idref" href="cap_machine.region.html#l1:144"><span class="id" title="variable">l1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="abbreviation">length</span> <a class="idref" href="cap_machine.region.html#ws1:146"><span class="id" title="variable">ws1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="notation">[∗</span> <span class="id" title="notation">list</span><span class="id" title="notation">]</span> <a id="k:148" class="idref" href="#k:148"><span class="id" title="binder">k</span></a> <span class="id" title="notation">↦</span> <a id="y1:149" class="idref" href="#y1:149"><span class="id" title="binder">y1</span></a><span class="id" title="notation">;</span><a id="y2:150" class="idref" href="#y2:150"><span class="id" title="binder">y2</span></a> <span class="id" title="notation">∈</span> <span class="id" title="notation">(</span><a class="idref" href="cap_machine.region.html#l1:144"><span class="id" title="variable">l1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <a class="idref" href="cap_machine.region.html#l2:145"><span class="id" title="variable">l2</span></a><span class="id" title="notation">);(</span><a class="idref" href="cap_machine.region.html#ws1:146"><span class="id" title="variable">ws1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <a class="idref" href="cap_machine.region.html#ws2:147"><span class="id" title="variable">ws2</span></a><span class="id" title="notation">),</span> <a class="idref" href="cap_machine.region.html#y1:149"><span class="id" title="variable">y1</span></a> <a class="idref" href="cap_machine.rules.rules_base.html#e389c97555835874498bb08a394266c6"><span class="id" title="notation">↦ₐ</span></a> <a class="idref" href="cap_machine.region.html#y2:150"><span class="id" title="variable">y2</span></a>)%<span class="id" title="var">I</span> <span class="id" title="notation">⊣⊢</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="notation">[∗</span> <span class="id" title="notation">list</span><span class="id" title="notation">]</span> <a id="k:151" class="idref" href="#k:151"><span class="id" title="binder">k</span></a> <span class="id" title="notation">↦</span> <a id="y1:152" class="idref" href="#y1:152"><span class="id" title="binder">y1</span></a><span class="id" title="notation">;</span><a id="y2:153" class="idref" href="#y2:153"><span class="id" title="binder">y2</span></a> <span class="id" title="notation">∈</span> <a class="idref" href="cap_machine.region.html#l1:144"><span class="id" title="variable">l1</span></a><span class="id" title="notation">;</span><a class="idref" href="cap_machine.region.html#ws1:146"><span class="id" title="variable">ws1</span></a><span class="id" title="notation">,</span> <a class="idref" href="cap_machine.region.html#y1:152"><span class="id" title="variable">y1</span></a> <a class="idref" href="cap_machine.rules.rules_base.html#e389c97555835874498bb08a394266c6"><span class="id" title="notation">↦ₐ</span></a> <a class="idref" href="cap_machine.region.html#y2:153"><span class="id" title="variable">y2</span></a>)%<span class="id" title="var">I</span> <span class="id" title="notation">∗</span> (<span class="id" title="notation">[∗</span> <span class="id" title="notation">list</span><span class="id" title="notation">]</span> <a id="k:154" class="idref" href="#k:154"><span class="id" title="binder">k</span></a> <span class="id" title="notation">↦</span> <a id="y1:155" class="idref" href="#y1:155"><span class="id" title="binder">y1</span></a><span class="id" title="notation">;</span><a id="y2:156" class="idref" href="#y2:156"><span class="id" title="binder">y2</span></a> <span class="id" title="notation">∈</span> <a class="idref" href="cap_machine.region.html#l2:145"><span class="id" title="variable">l2</span></a><span class="id" title="notation">;</span><a class="idref" href="cap_machine.region.html#ws2:147"><span class="id" title="variable">ws2</span></a><span class="id" title="notation">,</span> <a class="idref" href="cap_machine.region.html#y1:155"><span class="id" title="variable">y1</span></a> <a class="idref" href="cap_machine.rules.rules_base.html#e389c97555835874498bb08a394266c6"><span class="id" title="notation">↦ₐ</span></a> <a class="idref" href="cap_machine.region.html#y2:156"><span class="id" title="variable">y2</span></a>)%<span class="id" title="var">I</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">intros</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="cap_machine.iris_extra.html#big_sepL2_app'"><span class="id" title="lemma">big_sepL2_app'</span></a> //. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="extract_from_region" class="idref" href="#extract_from_region"><span class="id" title="lemma">extract_from_region</span></a> <a id="b:157" class="idref" href="#b:157"><span class="id" title="binder">b</span></a> <a id="e:158" class="idref" href="#e:158"><span class="id" title="binder">e</span></a> <a id="a:159" class="idref" href="#a:159"><span class="id" title="binder">a</span></a> <a id="ws:160" class="idref" href="#ws:160"><span class="id" title="binder">ws</span></a> <a id="3aeabcdef85378301bd7dac2876ce8f8" class="idref" href="#3aeabcdef85378301bd7dac2876ce8f8"><span class="id" title="binder">φ</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="n:162" class="idref" href="#n:162"><span class="id" title="binder">n</span></a> := <span class="id" title="abbreviation">length</span> (<a class="idref" href="cap_machine.region.html#region_addrs"><span class="id" title="definition">region_addrs</span></a> <a class="idref" href="cap_machine.region.html#b:157"><span class="id" title="variable">b</span></a> <a class="idref" href="cap_machine.region.html#a:159"><span class="id" title="variable">a</span></a>) <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="cap_machine.region.html#b:157"><span class="id" title="variable">b</span></a> <a class="idref" href="cap_machine.addr_reg.html#8ccc7a9bb9ba1c27ed0dba9945a4cbb0"><span class="id" title="notation">&lt;=</span></a> <a class="idref" href="cap_machine.region.html#a:159"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Unicode.Utf8_core.html#3668992ecc3e95973d304a75a28051a2"><span class="id" title="notation">∧</span></a> <a class="idref" href="cap_machine.region.html#a:159"><span class="id" title="variable">a</span></a> <a class="idref" href="cap_machine.addr_reg.html#::Addr_scope:x_'&lt;'_x"><span class="id" title="notation">&lt;</span></a> <a class="idref" href="cap_machine.region.html#e:158"><span class="id" title="variable">e</span></a>)%<span class="id" title="var">a</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">(</span><a class="idref" href="cap_machine.region.html#region_mapsto"><span class="id" title="definition">region_mapsto</span></a> <a class="idref" href="cap_machine.region.html#b:157"><span class="id" title="variable">b</span></a> <a class="idref" href="cap_machine.region.html#e:158"><span class="id" title="variable">e</span></a> <a class="idref" href="cap_machine.region.html#ws:160"><span class="id" title="variable">ws</span></a> <span class="id" title="notation">∗</span> <span class="id" title="notation">(</span><span class="id" title="notation">[∗</span> <span class="id" title="notation">list</span><span class="id" title="notation">]</span> <a id="w:163" class="idref" href="#w:163"><span class="id" title="binder">w</span></a> <span class="id" title="notation">∈</span> <a class="idref" href="cap_machine.region.html#ws:160"><span class="id" title="variable">ws</span></a><span class="id" title="notation">,</span> <a class="idref" href="cap_machine.region.html#3aeabcdef85378301bd7dac2876ce8f8"><span class="id" title="variable">φ</span></a> <a class="idref" href="cap_machine.region.html#w:163"><span class="id" title="variable">w</span></a><span class="id" title="notation">)</span><span class="id" title="notation">)</span> <span class="id" title="notation">⊣⊢</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">(</span><span class="id" title="notation">∃</span> <a id="w:164" class="idref" href="#w:164"><span class="id" title="binder">w</span></a><span class="id" title="notation">,</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">⌜</span><a class="idref" href="cap_machine.region.html#ws:160"><span class="id" title="variable">ws</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="abbreviation">take</span> <a class="idref" href="cap_machine.region.html#n:162"><span class="id" title="variable">n</span></a> <a class="idref" href="cap_machine.region.html#ws:160"><span class="id" title="variable">ws</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">(</span></a><a class="idref" href="cap_machine.region.html#w:164"><span class="id" title="variable">w</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a><span class="id" title="abbreviation">drop</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <a class="idref" href="cap_machine.region.html#n:162"><span class="id" title="variable">n</span></a>) <a class="idref" href="cap_machine.region.html#ws:160"><span class="id" title="variable">ws</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">)</span></a><span class="id" title="notation">⌝</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">∗</span> <a class="idref" href="cap_machine.region.html#region_mapsto"><span class="id" title="definition">region_mapsto</span></a> <a class="idref" href="cap_machine.region.html#b:157"><span class="id" title="variable">b</span></a> <a class="idref" href="cap_machine.region.html#a:159"><span class="id" title="variable">a</span></a> (<span class="id" title="abbreviation">take</span> <a class="idref" href="cap_machine.region.html#n:162"><span class="id" title="variable">n</span></a> <a class="idref" href="cap_machine.region.html#ws:160"><span class="id" title="variable">ws</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">∗</span> <span class="id" title="notation">(</span><span class="id" title="notation">[∗</span> <span class="id" title="notation">list</span><span class="id" title="notation">]</span> <a id="w:165" class="idref" href="#w:165"><span class="id" title="binder">w</span></a> <span class="id" title="notation">∈</span> <span class="id" title="notation">(</span><span class="id" title="abbreviation">take</span> <a class="idref" href="cap_machine.region.html#n:162"><span class="id" title="variable">n</span></a> <a class="idref" href="cap_machine.region.html#ws:160"><span class="id" title="variable">ws</span></a><span class="id" title="notation">),</span> <a class="idref" href="cap_machine.region.html#3aeabcdef85378301bd7dac2876ce8f8"><span class="id" title="variable">φ</span></a> <a class="idref" href="cap_machine.region.html#w:165"><span class="id" title="variable">w</span></a><span class="id" title="notation">)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">∗</span> <a class="idref" href="cap_machine.region.html#a:159"><span class="id" title="variable">a</span></a> <a class="idref" href="cap_machine.rules.rules_base.html#e389c97555835874498bb08a394266c6"><span class="id" title="notation">↦ₐ</span></a> <a class="idref" href="cap_machine.region.html#w:164"><span class="id" title="variable">w</span></a> <span class="id" title="notation">∗</span> <a class="idref" href="cap_machine.region.html#3aeabcdef85378301bd7dac2876ce8f8"><span class="id" title="variable">φ</span></a> <a class="idref" href="cap_machine.region.html#w:164"><span class="id" title="variable">w</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">∗</span> <a class="idref" href="cap_machine.region.html#region_mapsto"><span class="id" title="definition">region_mapsto</span></a> (<a class="idref" href="cap_machine.addr_reg.html#1d48f14c43e86dff2b7280147a285103"><span class="id" title="notation">^(</span></a><a class="idref" href="cap_machine.region.html#a:159"><span class="id" title="variable">a</span></a><a class="idref" href="cap_machine.addr_reg.html#83f9bcf2054d3d441d475f25e3e951c6"><span class="id" title="notation">+</span></a>1<a class="idref" href="cap_machine.addr_reg.html#1d48f14c43e86dff2b7280147a285103"><span class="id" title="notation">)</span></a>)%<span class="id" title="var">a</span> <a class="idref" href="cap_machine.region.html#e:158"><span class="id" title="variable">e</span></a> (<span class="id" title="abbreviation">drop</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <a class="idref" href="cap_machine.region.html#n:162"><span class="id" title="variable">n</span></a>) <a class="idref" href="cap_machine.region.html#ws:160"><span class="id" title="variable">ws</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">∗</span> (<span class="id" title="notation">[∗</span> <span class="id" title="notation">list</span><span class="id" title="notation">]</span> <a id="w:166" class="idref" href="#w:166"><span class="id" title="binder">w</span></a> <span class="id" title="notation">∈</span> <span class="id" title="notation">(</span><span class="id" title="abbreviation">drop</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <a class="idref" href="cap_machine.region.html#n:162"><span class="id" title="variable">n</span></a>) <a class="idref" href="cap_machine.region.html#ws:160"><span class="id" title="variable">ws</span></a><span class="id" title="notation">),</span> <a class="idref" href="cap_machine.region.html#3aeabcdef85378301bd7dac2876ce8f8"><span class="id" title="variable">φ</span></a> <a class="idref" href="cap_machine.region.html#w:166"><span class="id" title="variable">w</span></a>)%<span class="id" title="var">I</span><span class="id" title="notation">)</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="var">iSplit</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="var">iIntros</span> "[A B]". <span class="id" title="tactic">unfold</span> <a class="idref" href="cap_machine.region.html#region_mapsto"><span class="id" title="definition">region_mapsto</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iDestruct</span> <span class="id" title="notation">(</span><span class="id" title="lemma">big_sepL2_length</span> <span class="id" title="notation">with</span> "A"<span class="id" title="notation">)</span> <span class="id" title="keyword">as</span> %<span class="id" title="var">Hlen</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="cap_machine.region.html#region_addrs_decomposition"><span class="id" title="lemma">region_addrs_decomposition</span></a> <span class="id" title="var">b</span> <span class="id" title="var">a</span> <span class="id" title="var">e</span>) //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">Hlnws</span>: <span class="id" title="var">n</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="abbreviation">length</span> (<span class="id" title="abbreviation">take</span> <span class="id" title="var">n</span> <span class="id" title="var">ws</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">take_length</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Arith.Min.html#min_l"><span class="id" title="definition">Min.min_l</span></a>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">Hlen</span>. <span class="id" title="tactic">subst</span> <span class="id" title="var">n</span>. <span class="id" title="tactic">rewrite</span> !<a class="idref" href="cap_machine.region.html#region_addrs_length"><span class="id" title="lemma">region_addrs_length</span></a> /<a class="idref" href="cap_machine.region.html#region_size"><span class="id" title="definition">region_size</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">solve_addr</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">generalize</span> (<span class="id" title="definition">take_drop</span> <span class="id" title="var">n</span> <span class="id" title="var">ws</span>). <span class="id" title="tactic">intros</span> <span class="id" title="var">HWS</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">HWS</span>. <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iDestruct</span> "B" <span class="id" title="keyword">as</span> "[HB1 HB2]".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iDestruct</span> <span class="id" title="notation">(</span><a class="idref" href="cap_machine.region.html#mapsto_decomposition"><span class="id" title="lemma">mapsto_decomposition</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">Hlnws</span> <span class="id" title="notation">with</span> "A"<span class="id" title="notation">)</span> <span class="id" title="keyword">as</span> "[HA1 HA2]".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">case_eq</span> (<span class="id" title="abbreviation">drop</span> <span class="id" title="var">n</span> <span class="id" title="var">ws</span>); <span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">iDestruct</span> "HA2" <span class="id" title="keyword">as</span> "[HA2 HA3]".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iDestruct</span> "HB2" <span class="id" title="keyword">as</span> "[HB2 HB3]".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">generalize</span> (<a class="idref" href="cap_machine.stdpp_extra.html#drop_S'"><span class="id" title="lemma">drop_S'</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">H3</span>). <span class="id" title="tactic">intros</span> <span class="id" title="var">Hdws</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">H3</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">HWS</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hdws</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iExists</span> <span class="id" title="var">w</span>. <span class="id" title="var">iFrame</span>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">H3</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="var">iIntros</span> "A". <span class="id" title="var">iDestruct</span> "A" <span class="id" title="keyword">as</span> (<span class="id" title="var">w</span> <span class="id" title="var">Hws</span>) "[A1 [B1 [A2 [B2 AB]]]]".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="cap_machine.region.html#region_mapsto"><span class="id" title="definition">region_mapsto</span></a>. <span class="id" title="tactic">rewrite</span> (<a class="idref" href="cap_machine.region.html#region_addrs_decomposition"><span class="id" title="lemma">region_addrs_decomposition</span></a> <span class="id" title="var">b</span> <span class="id" title="var">a</span> <span class="id" title="var">e</span>) //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iDestruct</span> "AB" <span class="id" title="keyword">as</span> "[A3 B3]".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> {5}<span class="id" title="var">Hws</span>. <span class="id" title="var">iFrame</span>. <span class="id" title="tactic">rewrite</span> {3}<span class="id" title="var">Hws</span>. <span class="id" title="var">iFrame</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="extract_from_region'" class="idref" href="#extract_from_region'"><span class="id" title="lemma">extract_from_region'</span></a> <a id="b:167" class="idref" href="#b:167"><span class="id" title="binder">b</span></a> <a id="e:168" class="idref" href="#e:168"><span class="id" title="binder">e</span></a> <a id="a:169" class="idref" href="#a:169"><span class="id" title="binder">a</span></a> <a id="ws:170" class="idref" href="#ws:170"><span class="id" title="binder">ws</span></a> <a id="8b756fe623c19dc44efd428ee7d46e5c" class="idref" href="#8b756fe623c19dc44efd428ee7d46e5c"><span class="id" title="binder">φ</span></a> `{<a id="H2:173" class="idref" href="#H2:173"><span class="id" title="binder">!∀</span></a> <a id="H2:173" class="idref" href="#H2:173"><span class="id" title="binder">x</span></a><a id="H2:173" class="idref" href="#H2:173"><span class="id" title="binder">,</span></a> <a id="H2:173" class="idref" href="#H2:173"><span class="id" title="binder">Persistent</span></a> <a id="H2:173" class="idref" href="#H2:173"><span class="id" title="binder">(φ</span></a> <a id="H2:173" class="idref" href="#H2:173"><span class="id" title="binder">x</span></a><a id="H2:173" class="idref" href="#H2:173"><span class="id" title="binder">)</span></a>}:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="n:174" class="idref" href="#n:174"><span class="id" title="binder">n</span></a> := <span class="id" title="abbreviation">length</span> (<a class="idref" href="cap_machine.region.html#region_addrs"><span class="id" title="definition">region_addrs</span></a> <a class="idref" href="cap_machine.region.html#b:167"><span class="id" title="variable">b</span></a> <a class="idref" href="cap_machine.region.html#a:169"><span class="id" title="variable">a</span></a>) <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="cap_machine.region.html#b:167"><span class="id" title="variable">b</span></a> <a class="idref" href="cap_machine.addr_reg.html#8ccc7a9bb9ba1c27ed0dba9945a4cbb0"><span class="id" title="notation">&lt;=</span></a> <a class="idref" href="cap_machine.region.html#a:169"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Unicode.Utf8_core.html#3668992ecc3e95973d304a75a28051a2"><span class="id" title="notation">∧</span></a> <a class="idref" href="cap_machine.region.html#a:169"><span class="id" title="variable">a</span></a> <a class="idref" href="cap_machine.addr_reg.html#::Addr_scope:x_'&lt;'_x"><span class="id" title="notation">&lt;</span></a> <a class="idref" href="cap_machine.region.html#e:168"><span class="id" title="variable">e</span></a>)%<span class="id" title="var">a</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">(</span><a class="idref" href="cap_machine.region.html#region_mapsto"><span class="id" title="definition">region_mapsto</span></a> <a class="idref" href="cap_machine.region.html#b:167"><span class="id" title="variable">b</span></a> <a class="idref" href="cap_machine.region.html#e:168"><span class="id" title="variable">e</span></a> <a class="idref" href="cap_machine.region.html#ws:170"><span class="id" title="variable">ws</span></a> <span class="id" title="notation">∗</span> <span class="id" title="notation">(</span><span class="id" title="notation">[∗</span> <span class="id" title="notation">list</span><span class="id" title="notation">]</span> <a id="w:175" class="idref" href="#w:175"><span class="id" title="binder">w</span></a> <span class="id" title="notation">∈</span> <a class="idref" href="cap_machine.region.html#ws:170"><span class="id" title="variable">ws</span></a><span class="id" title="notation">,</span> <a class="idref" href="cap_machine.region.html#8b756fe623c19dc44efd428ee7d46e5c"><span class="id" title="variable">φ</span></a> <a class="idref" href="cap_machine.region.html#w:175"><span class="id" title="variable">w</span></a><span class="id" title="notation">)</span><span class="id" title="notation">)</span> <span class="id" title="notation">⊣⊢</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="notation">∃</span> <a id="w:176" class="idref" href="#w:176"><span class="id" title="binder">w</span></a><span class="id" title="notation">,</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">⌜</span><a class="idref" href="cap_machine.region.html#ws:170"><span class="id" title="variable">ws</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="abbreviation">take</span> <a class="idref" href="cap_machine.region.html#n:174"><span class="id" title="variable">n</span></a> <a class="idref" href="cap_machine.region.html#ws:170"><span class="id" title="variable">ws</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">(</span></a><a class="idref" href="cap_machine.region.html#w:176"><span class="id" title="variable">w</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a><span class="id" title="abbreviation">drop</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <a class="idref" href="cap_machine.region.html#n:174"><span class="id" title="variable">n</span></a>) <a class="idref" href="cap_machine.region.html#ws:170"><span class="id" title="variable">ws</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">)</span></a><span class="id" title="notation">⌝</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">∗</span> <a class="idref" href="cap_machine.region.html#region_mapsto"><span class="id" title="definition">region_mapsto</span></a> <a class="idref" href="cap_machine.region.html#b:167"><span class="id" title="variable">b</span></a> <a class="idref" href="cap_machine.region.html#a:169"><span class="id" title="variable">a</span></a> (<span class="id" title="abbreviation">take</span> <a class="idref" href="cap_machine.region.html#n:174"><span class="id" title="variable">n</span></a> <a class="idref" href="cap_machine.region.html#ws:170"><span class="id" title="variable">ws</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">∗</span> <span class="id" title="notation">(</span><span class="id" title="notation">[∗</span> <span class="id" title="notation">list</span><span class="id" title="notation">]</span> <a id="w:177" class="idref" href="#w:177"><span class="id" title="binder">w</span></a> <span class="id" title="notation">∈</span> <a class="idref" href="cap_machine.region.html#ws:170"><span class="id" title="variable">ws</span></a><span class="id" title="notation">,</span> <a class="idref" href="cap_machine.region.html#8b756fe623c19dc44efd428ee7d46e5c"><span class="id" title="variable">φ</span></a> <a class="idref" href="cap_machine.region.html#w:177"><span class="id" title="variable">w</span></a><span class="id" title="notation">)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">∗</span> <a class="idref" href="cap_machine.region.html#a:169"><span class="id" title="variable">a</span></a> <a class="idref" href="cap_machine.rules.rules_base.html#e389c97555835874498bb08a394266c6"><span class="id" title="notation">↦ₐ</span></a> <a class="idref" href="cap_machine.region.html#w:176"><span class="id" title="variable">w</span></a> <span class="id" title="notation">∗</span> <a class="idref" href="cap_machine.region.html#8b756fe623c19dc44efd428ee7d46e5c"><span class="id" title="variable">φ</span></a> <a class="idref" href="cap_machine.region.html#w:176"><span class="id" title="variable">w</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">∗</span> <a class="idref" href="cap_machine.region.html#region_mapsto"><span class="id" title="definition">region_mapsto</span></a> (<a class="idref" href="cap_machine.addr_reg.html#1d48f14c43e86dff2b7280147a285103"><span class="id" title="notation">^(</span></a><a class="idref" href="cap_machine.region.html#a:169"><span class="id" title="variable">a</span></a><a class="idref" href="cap_machine.addr_reg.html#83f9bcf2054d3d441d475f25e3e951c6"><span class="id" title="notation">+</span></a>1<a class="idref" href="cap_machine.addr_reg.html#1d48f14c43e86dff2b7280147a285103"><span class="id" title="notation">)</span></a>)%<span class="id" title="var">a</span> <a class="idref" href="cap_machine.region.html#e:168"><span class="id" title="variable">e</span></a> (<span class="id" title="abbreviation">drop</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <a class="idref" href="cap_machine.region.html#n:174"><span class="id" title="variable">n</span></a>) <a class="idref" href="cap_machine.region.html#ws:170"><span class="id" title="variable">ws</span></a>))%<span class="id" title="var">I</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="var">iSplit</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="var">iIntros</span> "H".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iDestruct</span> <span class="id" title="notation">(</span><a class="idref" href="cap_machine.region.html#extract_from_region"><span class="id" title="lemma">extract_from_region</span></a> <span class="id" title="notation">with</span> "H"<span class="id" title="notation">)</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">w</span> <span class="id" title="var">Hws</span>) "(?&amp;?&amp;?&amp;#Hφ&amp;?&amp;?)"; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iExists</span> <span class="id" title="var">_</span>. <span class="id" title="var">iFrame</span>. <span class="id" title="var">iSplitR</span>. <span class="id" title="var">iPureIntro</span>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> {1}<span class="id" title="var">Hws</span> //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> {3}<span class="id" title="var">Hws</span>. <span class="id" title="var">iFrame</span>. <span class="id" title="var">iSplit</span>; <span class="id" title="var">iApply</span> "Hφ".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="var">iIntros</span> "H". <span class="id" title="var">iApply</span> <span class="id" title="notation">(</span><a class="idref" href="cap_machine.region.html#extract_from_region"><span class="id" title="lemma">extract_from_region</span></a> <span class="id" title="notation">with</span> "[H]"<span class="id" title="notation">)</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iDestruct</span> "H" <span class="id" title="keyword">as</span> (<span class="id" title="var">w</span> <span class="id" title="var">Hws</span>) "(?&amp;Hl&amp;?&amp;#Hφ&amp;?)". <span class="id" title="var">iExists</span> <span class="id" title="var">_</span>. <span class="id" title="var">iFrame</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iSplitR</span>. <span class="id" title="var">iPureIntro</span>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> {1}<span class="id" title="var">Hws</span> //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> {1}<span class="id" title="var">Hws</span>. <span class="id" title="var">iDestruct</span> <span class="id" title="notation">(</span><span class="id" title="lemma">big_sepL_app</span> <span class="id" title="notation">with</span> "Hl"<span class="id" title="notation">)</span> <span class="id" title="keyword">as</span> "[? ?]".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">cbn</span>. <span class="id" title="var">iFrame</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="extract_from_region_inv" class="idref" href="#extract_from_region_inv"><span class="id" title="lemma">extract_from_region_inv</span></a> <a id="b:178" class="idref" href="#b:178"><span class="id" title="binder">b</span></a> <a id="e:179" class="idref" href="#e:179"><span class="id" title="binder">e</span></a> <a id="a:180" class="idref" href="#a:180"><span class="id" title="binder">a</span></a> (<a id="38729997f095cf8f184de56ae1de3a9b" class="idref" href="#38729997f095cf8f184de56ae1de3a9b"><span class="id" title="binder">φ</span></a> : <a class="idref" href="cap_machine.addr_reg.html#Addr"><span class="id" title="inductive">Addr</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <span class="id" title="abbreviation">iProp</span> <a class="idref" href="cap_machine.region.html#fea29da80a1cf882bbf3bc516690a08f"><span class="id" title="variable">Σ</span></a>) `{<a id="H2:183" class="idref" href="#H2:183"><span class="id" title="binder">!∀</span></a> <a id="H2:183" class="idref" href="#H2:183"><span class="id" title="binder">x</span></a><a id="H2:183" class="idref" href="#H2:183"><span class="id" title="binder">,</span></a> <a id="H2:183" class="idref" href="#H2:183"><span class="id" title="binder">Persistent</span></a> <a id="H2:183" class="idref" href="#H2:183"><span class="id" title="binder">(φ</span></a> <a id="H2:183" class="idref" href="#H2:183"><span class="id" title="binder">x</span></a><a id="H2:183" class="idref" href="#H2:183"><span class="id" title="binder">)</span></a>}:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="cap_machine.region.html#b:178"><span class="id" title="variable">b</span></a> <a class="idref" href="cap_machine.addr_reg.html#8ccc7a9bb9ba1c27ed0dba9945a4cbb0"><span class="id" title="notation">&lt;=</span></a> <a class="idref" href="cap_machine.region.html#a:180"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Unicode.Utf8_core.html#3668992ecc3e95973d304a75a28051a2"><span class="id" title="notation">∧</span></a> <a class="idref" href="cap_machine.region.html#a:180"><span class="id" title="variable">a</span></a> <a class="idref" href="cap_machine.addr_reg.html#::Addr_scope:x_'&lt;'_x"><span class="id" title="notation">&lt;</span></a> <a class="idref" href="cap_machine.region.html#e:179"><span class="id" title="variable">e</span></a>)%<span class="id" title="var">a</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">⊢</span> (<span class="id" title="notation">(</span><span class="id" title="notation">[∗</span> <span class="id" title="notation">list</span><span class="id" title="notation">]</span> <a id="a':184" class="idref" href="#a':184"><span class="id" title="binder">a'</span></a> <span class="id" title="notation">∈</span> <span class="id" title="notation">(</span><a class="idref" href="cap_machine.region.html#region_addrs"><span class="id" title="definition">region_addrs</span></a> <a class="idref" href="cap_machine.region.html#b:178"><span class="id" title="variable">b</span></a> <a class="idref" href="cap_machine.region.html#e:179"><span class="id" title="variable">e</span></a><span class="id" title="notation">),</span> <a class="idref" href="cap_machine.region.html#38729997f095cf8f184de56ae1de3a9b"><span class="id" title="variable">φ</span></a> <a class="idref" href="cap_machine.region.html#a':184"><span class="id" title="variable">a'</span></a><span class="id" title="notation">)</span> <span class="id" title="notation">→</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="cap_machine.region.html#38729997f095cf8f184de56ae1de3a9b"><span class="id" title="variable">φ</span></a> <a class="idref" href="cap_machine.region.html#a:180"><span class="id" title="variable">a</span></a>)%<span class="id" title="var">I</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iIntros</span> (<span class="id" title="var">Ha</span>) "#Hreg".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">generalize</span> (<a class="idref" href="cap_machine.region.html#region_addrs_decomposition"><span class="id" title="lemma">region_addrs_decomposition</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">Ha</span>); <span class="id" title="tactic">intro</span> <span class="id" title="var">HRA</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">HRA</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iDestruct</span> <span class="id" title="notation">(</span><span class="id" title="lemma">big_sepL_app</span> <span class="id" title="notation">with</span> "Hreg"<span class="id" title="notation">)</span> <span class="id" title="keyword">as</span> "[Hlo Hhi] /=".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iDestruct</span> "Hhi" <span class="id" title="keyword">as</span> "[$ _]".<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="extract_from_region_inv_2" class="idref" href="#extract_from_region_inv_2"><span class="id" title="lemma">extract_from_region_inv_2</span></a> <a id="b:185" class="idref" href="#b:185"><span class="id" title="binder">b</span></a> <a id="e:186" class="idref" href="#e:186"><span class="id" title="binder">e</span></a> <a id="a:187" class="idref" href="#a:187"><span class="id" title="binder">a</span></a> <a id="ws:188" class="idref" href="#ws:188"><span class="id" title="binder">ws</span></a> (<a id="13874eec5f8ba79d730236cd1c6357f8" class="idref" href="#13874eec5f8ba79d730236cd1c6357f8"><span class="id" title="binder">φ</span></a> : <a class="idref" href="cap_machine.addr_reg.html#Addr"><span class="id" title="inductive">Addr</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="cap_machine.machine_base.html#Word"><span class="id" title="inductive">Word</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <span class="id" title="abbreviation">iProp</span> <a class="idref" href="cap_machine.region.html#fea29da80a1cf882bbf3bc516690a08f"><span class="id" title="variable">Σ</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;`{<a id="H2:192" class="idref" href="#H2:192"><span class="id" title="binder">!∀</span></a> <a id="H2:192" class="idref" href="#H2:192"><span class="id" title="binder">x</span></a> <a id="H2:192" class="idref" href="#H2:192"><span class="id" title="binder">y</span></a><a id="H2:192" class="idref" href="#H2:192"><span class="id" title="binder">,</span></a> <a id="H2:192" class="idref" href="#H2:192"><span class="id" title="binder">Persistent</span></a> <a id="H2:192" class="idref" href="#H2:192"><span class="id" title="binder">(φ</span></a> <a id="H2:192" class="idref" href="#H2:192"><span class="id" title="binder">x</span></a> <a id="H2:192" class="idref" href="#H2:192"><span class="id" title="binder">y</span></a><a id="H2:192" class="idref" href="#H2:192"><span class="id" title="binder">)</span></a>}:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="n:193" class="idref" href="#n:193"><span class="id" title="binder">n</span></a> := <span class="id" title="abbreviation">length</span> (<a class="idref" href="cap_machine.region.html#region_addrs"><span class="id" title="definition">region_addrs</span></a> <a class="idref" href="cap_machine.region.html#b:185"><span class="id" title="variable">b</span></a> <a class="idref" href="cap_machine.region.html#a:187"><span class="id" title="variable">a</span></a>) <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="cap_machine.region.html#b:185"><span class="id" title="variable">b</span></a> <a class="idref" href="cap_machine.addr_reg.html#8ccc7a9bb9ba1c27ed0dba9945a4cbb0"><span class="id" title="notation">&lt;=</span></a> <a class="idref" href="cap_machine.region.html#a:187"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Unicode.Utf8_core.html#3668992ecc3e95973d304a75a28051a2"><span class="id" title="notation">∧</span></a> <a class="idref" href="cap_machine.region.html#a:187"><span class="id" title="variable">a</span></a> <a class="idref" href="cap_machine.addr_reg.html#::Addr_scope:x_'&lt;'_x"><span class="id" title="notation">&lt;</span></a> <a class="idref" href="cap_machine.region.html#e:186"><span class="id" title="variable">e</span></a>)%<span class="id" title="var">a</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">⊢</span> (<span class="id" title="notation">(</span><span class="id" title="notation">[∗</span> <span class="id" title="notation">list</span><span class="id" title="notation">]</span> <a id="a':194" class="idref" href="#a':194"><span class="id" title="binder">a'</span></a><span class="id" title="notation">;</span><a id="w':195" class="idref" href="#w':195"><span class="id" title="binder">w'</span></a> <span class="id" title="notation">∈</span> <span class="id" title="notation">(</span><a class="idref" href="cap_machine.region.html#region_addrs"><span class="id" title="definition">region_addrs</span></a> <a class="idref" href="cap_machine.region.html#b:185"><span class="id" title="variable">b</span></a> <a class="idref" href="cap_machine.region.html#e:186"><span class="id" title="variable">e</span></a><span class="id" title="notation">);</span><a class="idref" href="cap_machine.region.html#ws:188"><span class="id" title="variable">ws</span></a><span class="id" title="notation">,</span> <a class="idref" href="cap_machine.region.html#13874eec5f8ba79d730236cd1c6357f8"><span class="id" title="variable">φ</span></a> <a class="idref" href="cap_machine.region.html#a':194"><span class="id" title="variable">a'</span></a> <a class="idref" href="cap_machine.region.html#w':195"><span class="id" title="variable">w'</span></a><span class="id" title="notation">)</span> <span class="id" title="notation">→</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">∃</span> <a id="w:196" class="idref" href="#w:196"><span class="id" title="binder">w</span></a><span class="id" title="notation">,</span> <a class="idref" href="cap_machine.region.html#13874eec5f8ba79d730236cd1c6357f8"><span class="id" title="variable">φ</span></a> <a class="idref" href="cap_machine.region.html#a:187"><span class="id" title="variable">a</span></a> <a class="idref" href="cap_machine.region.html#w:196"><span class="id" title="variable">w</span></a> <span class="id" title="notation">∗</span> <span class="id" title="notation">⌜</span><a class="idref" href="cap_machine.region.html#ws:188"><span class="id" title="variable">ws</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">(</span></a><span class="id" title="abbreviation">take</span> <a class="idref" href="cap_machine.region.html#n:193"><span class="id" title="variable">n</span></a> <a class="idref" href="cap_machine.region.html#ws:188"><span class="id" title="variable">ws</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <a class="idref" href="cap_machine.region.html#w:196"><span class="id" title="variable">w</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">(</span></a><span class="id" title="abbreviation">drop</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <a class="idref" href="cap_machine.region.html#n:193"><span class="id" title="variable">n</span></a>) <a class="idref" href="cap_machine.region.html#ws:188"><span class="id" title="variable">ws</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">)</span></a><span class="id" title="notation">⌝</span>)%<span class="id" title="var">I</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iIntros</span> (<span class="id" title="var">n</span> <span class="id" title="var">Ha</span>) "#Hreg".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iDestruct</span> <span class="id" title="notation">(</span><span class="id" title="lemma">big_sepL2_length</span> <span class="id" title="notation">with</span> "Hreg"<span class="id" title="notation">)</span> <span class="id" title="keyword">as</span> %<span class="id" title="var">Hlen</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="cap_machine.region.html#region_addrs_decomposition"><span class="id" title="lemma">region_addrs_decomposition</span></a> <span class="id" title="var">b</span> <span class="id" title="var">a</span> <span class="id" title="var">e</span>) //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">Hlnws</span>: <span class="id" title="var">n</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="abbreviation">length</span> (<span class="id" title="abbreviation">take</span> <span class="id" title="var">n</span> <span class="id" title="var">ws</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">take_length</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Arith.Min.html#min_l"><span class="id" title="definition">Min.min_l</span></a>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">Hlen</span>. <span class="id" title="tactic">subst</span> <span class="id" title="var">n</span>. <span class="id" title="tactic">rewrite</span> !<a class="idref" href="cap_machine.region.html#region_addrs_length"><span class="id" title="lemma">region_addrs_length</span></a> /<a class="idref" href="cap_machine.region.html#region_size"><span class="id" title="definition">region_size</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">solve_addr</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">generalize</span> (<span class="id" title="definition">take_drop</span> <span class="id" title="var">n</span> <span class="id" title="var">ws</span>). <span class="id" title="tactic">intros</span> <span class="id" title="var">HWS</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">HWS</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iDestruct</span> <span class="id" title="notation">(</span><span class="id" title="lemma">big_sepL2_app_inv_l</span> <span class="id" title="var">_</span> (<a class="idref" href="cap_machine.region.html#region_addrs"><span class="id" title="definition">region_addrs</span></a> <span class="id" title="var">b</span> <span class="id" title="var">a</span>) (<span class="id" title="var">a</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <a class="idref" href="cap_machine.region.html#region_addrs"><span class="id" title="definition">region_addrs</span></a> <span class="id" title="var">_</span> <span class="id" title="var">e</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">with</span> "Hreg"<span class="id" title="notation">)</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">l1</span> <span class="id" title="var">l2</span> <span class="id" title="var">Hws2</span>) "[Hl1 Hl2]".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">l2</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>. <span class="id" title="var">iDestruct</span> "Hl2" <span class="id" title="keyword">as</span> "[Ha Hl2]".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iExists</span> <span class="id" title="var">w</span>. <span class="id" title="var">iFrame</span> "#".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iDestruct</span> <span class="id" title="notation">(</span><span class="id" title="lemma">big_sepL2_length</span> <span class="id" title="notation">with</span> "Hl1"<span class="id" title="notation">)</span> <span class="id" title="keyword">as</span> %<span class="id" title="var">Hlenl1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iDestruct</span> <span class="id" title="notation">(</span><span class="id" title="lemma">big_sepL2_length</span> <span class="id" title="notation">with</span> "Hl2"<span class="id" title="notation">)</span> <span class="id" title="keyword">as</span> %<span class="id" title="var">Hlenl2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iPureIntro</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">take_app_alt</span> //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="abbreviation">drop</span> <span class="id" title="var">n</span> <span class="id" title="var">ws</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">w</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <span class="id" title="var">l2</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">Heql2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">apply</span> <span class="id" title="lemma">app_inj_1</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hws2</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">_</span> <span class="id" title="var">Heq</span>]; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> -<span class="id" title="var">Hlnws</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="cap_machine.stdpp_extra.html#drop_S'"><span class="id" title="lemma">drop_S'</span></a> <span class="id" title="var">_</span> (<span class="id" title="abbreviation">take</span> <span class="id" title="var">n</span> <span class="id" title="var">ws</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <span class="id" title="abbreviation">drop</span> <span class="id" title="var">n</span> <span class="id" title="var">ws</span>) <span class="id" title="var">n</span> <span class="id" title="var">w</span> (<span class="id" title="var">l2</span>)); <span class="id" title="tactic">try</span> <span class="id" title="tactic">congruence</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Notation</span> <a id="cf3e88b060a91377dde5554370ab8b25" class="idref" href="#cf3e88b060a91377dde5554370ab8b25"><span class="id" title="notation">&quot;</span></a>[[ b , e ]] ↦ₐ [[ ws ]]" := (<a class="idref" href="cap_machine.region.html#region_mapsto"><span class="id" title="definition">region_mapsto</span></a> <span class="id" title="var">b</span> <span class="id" title="var">e</span> <span class="id" title="var">ws</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="tactic">at</span> <span class="id" title="keyword">level</span> 50, <span class="id" title="var">format</span> "[[ b , e ]] ↦ₐ [[ ws ]]") : <span class="id" title="var">bi_scope</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="region_mapsto_cons" class="idref" href="#region_mapsto_cons"><span class="id" title="lemma">region_mapsto_cons</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="b:197" class="idref" href="#b:197"><span class="id" title="binder">b</span></a> <a id="b':198" class="idref" href="#b':198"><span class="id" title="binder">b'</span></a> <a id="e:199" class="idref" href="#e:199"><span class="id" title="binder">e</span></a> : <a class="idref" href="cap_machine.addr_reg.html#Addr"><span class="id" title="inductive">Addr</span></a>) (<a id="w:200" class="idref" href="#w:200"><span class="id" title="binder">w</span></a> : <a class="idref" href="cap_machine.machine_base.html#Word"><span class="id" title="inductive">Word</span></a>) (<a id="ws:201" class="idref" href="#ws:201"><span class="id" title="binder">ws</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="cap_machine.machine_base.html#Word"><span class="id" title="inductive">Word</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="cap_machine.region.html#b:197"><span class="id" title="variable">b</span></a> <a class="idref" href="cap_machine.addr_reg.html#83f9bcf2054d3d441d475f25e3e951c6"><span class="id" title="notation">+</span></a> 1)%<span class="id" title="var">a</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="cap_machine.region.html#b':198"><span class="id" title="variable">b'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> (<a class="idref" href="cap_machine.region.html#b':198"><span class="id" title="variable">b'</span></a> <a class="idref" href="cap_machine.addr_reg.html#8ccc7a9bb9ba1c27ed0dba9945a4cbb0"><span class="id" title="notation">&lt;=</span></a> <a class="idref" href="cap_machine.region.html#e:199"><span class="id" title="variable">e</span></a>)%<span class="id" title="var">a</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="cap_machine.region.html#cf3e88b060a91377dde5554370ab8b25"><span class="id" title="notation">[[</span></a><a class="idref" href="cap_machine.region.html#b:197"><span class="id" title="variable">b</span></a><a class="idref" href="cap_machine.region.html#cf3e88b060a91377dde5554370ab8b25"><span class="id" title="notation">,</span></a> <a class="idref" href="cap_machine.region.html#e:199"><span class="id" title="variable">e</span></a><a class="idref" href="cap_machine.region.html#cf3e88b060a91377dde5554370ab8b25"><span class="id" title="notation">]]</span></a> <a class="idref" href="cap_machine.region.html#cf3e88b060a91377dde5554370ab8b25"><span class="id" title="notation">↦ₐ</span></a> <a class="idref" href="cap_machine.region.html#cf3e88b060a91377dde5554370ab8b25"><span class="id" title="notation">[[</span></a> <a class="idref" href="cap_machine.region.html#w:200"><span class="id" title="variable">w</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <a class="idref" href="cap_machine.region.html#ws:201"><span class="id" title="variable">ws</span></a> <a class="idref" href="cap_machine.region.html#cf3e88b060a91377dde5554370ab8b25"><span class="id" title="notation">]]</span></a> <span class="id" title="notation">⊣⊢</span> <a class="idref" href="cap_machine.region.html#b:197"><span class="id" title="variable">b</span></a> <a class="idref" href="cap_machine.rules.rules_base.html#e389c97555835874498bb08a394266c6"><span class="id" title="notation">↦ₐ</span></a> <a class="idref" href="cap_machine.region.html#w:200"><span class="id" title="variable">w</span></a> <span class="id" title="notation">∗</span> <a class="idref" href="cap_machine.region.html#cf3e88b060a91377dde5554370ab8b25"><span class="id" title="notation">[[</span></a><a class="idref" href="cap_machine.region.html#b':198"><span class="id" title="variable">b'</span></a><a class="idref" href="cap_machine.region.html#cf3e88b060a91377dde5554370ab8b25"><span class="id" title="notation">,</span></a> <a class="idref" href="cap_machine.region.html#e:199"><span class="id" title="variable">e</span></a><a class="idref" href="cap_machine.region.html#cf3e88b060a91377dde5554370ab8b25"><span class="id" title="notation">]]</span></a> <a class="idref" href="cap_machine.region.html#cf3e88b060a91377dde5554370ab8b25"><span class="id" title="notation">↦ₐ</span></a> <a class="idref" href="cap_machine.region.html#cf3e88b060a91377dde5554370ab8b25"><span class="id" title="notation">[[</span></a> <a class="idref" href="cap_machine.region.html#ws:201"><span class="id" title="variable">ws</span></a> <a class="idref" href="cap_machine.region.html#cf3e88b060a91377dde5554370ab8b25"><span class="id" title="notation">]]</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Hb'</span> <span class="id" title="var">Hb'e</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="cap_machine.region.html#region_mapsto"><span class="id" title="definition">region_mapsto</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="cap_machine.region.html#region_addrs_decomposition"><span class="id" title="lemma">region_addrs_decomposition</span></a> <span class="id" title="var">b</span> <span class="id" title="var">b</span> <span class="id" title="var">e</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;2: <span class="id" title="var">revert</span> <span class="id" title="var">Hb'</span> <span class="id" title="var">Hb'e</span>; <span class="id" title="tactic">clear</span>; <span class="id" title="tactic">intros</span>; <span class="id" title="tactic">split</span>; <span class="id" title="var">solve_addr</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="cap_machine.region.html#region_addrs_empty"><span class="id" title="lemma">region_addrs_empty</span></a> /=.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;2: <span class="id" title="tactic">clear</span>; <span class="id" title="var">solve_addr</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<span class="id" title="var">_</span><a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.ssr.ssreflect.html#::core_scope:x_':'_x"><span class="id" title="notation">:</span></a> <a class="idref" href="cap_machine.addr_reg.html#1d48f14c43e86dff2b7280147a285103"><span class="id" title="notation">^(</span></a><span class="id" title="var">b</span> <a class="idref" href="cap_machine.addr_reg.html#83f9bcf2054d3d441d475f25e3e951c6"><span class="id" title="notation">+</span></a> 1<a class="idref" href="cap_machine.addr_reg.html#1d48f14c43e86dff2b7280147a285103"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">b'</span>)%<span class="id" title="var">a</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;2: <span class="id" title="var">revert</span> <span class="id" title="var">Hb'</span> <span class="id" title="var">Hb'e</span>; <span class="id" title="tactic">clear</span>; <span class="id" title="tactic">intros</span>; <span class="id" title="var">solve_addr</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="region_mapsto_single" class="idref" href="#region_mapsto_single"><span class="id" title="lemma">region_mapsto_single</span></a> <a id="b:202" class="idref" href="#b:202"><span class="id" title="binder">b</span></a> <a id="e:203" class="idref" href="#e:203"><span class="id" title="binder">e</span></a> <a id="l:204" class="idref" href="#l:204"><span class="id" title="binder">l</span></a>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="cap_machine.region.html#b:202"><span class="id" title="variable">b</span></a><a class="idref" href="cap_machine.addr_reg.html#83f9bcf2054d3d441d475f25e3e951c6"><span class="id" title="notation">+</span></a>1)%<span class="id" title="var">a</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="cap_machine.region.html#e:203"><span class="id" title="variable">e</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="cap_machine.region.html#cf3e88b060a91377dde5554370ab8b25"><span class="id" title="notation">[[</span></a><a class="idref" href="cap_machine.region.html#b:202"><span class="id" title="variable">b</span></a><a class="idref" href="cap_machine.region.html#cf3e88b060a91377dde5554370ab8b25"><span class="id" title="notation">,</span></a><a class="idref" href="cap_machine.region.html#e:203"><span class="id" title="variable">e</span></a><a class="idref" href="cap_machine.region.html#cf3e88b060a91377dde5554370ab8b25"><span class="id" title="notation">]]</span></a> <a class="idref" href="cap_machine.region.html#cf3e88b060a91377dde5554370ab8b25"><span class="id" title="notation">↦ₐ</span></a> <a class="idref" href="cap_machine.region.html#cf3e88b060a91377dde5554370ab8b25"><span class="id" title="notation">[[</span></a><a class="idref" href="cap_machine.region.html#l:204"><span class="id" title="variable">l</span></a><a class="idref" href="cap_machine.region.html#cf3e88b060a91377dde5554370ab8b25"><span class="id" title="notation">]]</span></a> <span class="id" title="notation">-∗</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">∃</span> <a id="v:205" class="idref" href="#v:205"><span class="id" title="binder">v</span></a><span class="id" title="notation">,</span> <a class="idref" href="cap_machine.region.html#b:202"><span class="id" title="variable">b</span></a> <a class="idref" href="cap_machine.rules.rules_base.html#e389c97555835874498bb08a394266c6"><span class="id" title="notation">↦ₐ</span></a> <a class="idref" href="cap_machine.region.html#v:205"><span class="id" title="variable">v</span></a> <span class="id" title="notation">∗</span> <span class="id" title="notation">⌜</span><a class="idref" href="cap_machine.region.html#l:204"><span class="id" title="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">[</span></a><a class="idref" href="cap_machine.region.html#v:205"><span class="id" title="variable">v</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">]</span></a><span class="id" title="notation">⌝</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iIntros</span> (<span class="id" title="var">Hbe</span>) "H". <span class="id" title="tactic">rewrite</span> /<a class="idref" href="cap_machine.region.html#region_mapsto"><span class="id" title="definition">region_mapsto</span></a> <a class="idref" href="cap_machine.region.html#region_addrs_single"><span class="id" title="lemma">region_addrs_single</span></a> //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iDestruct</span> <span class="id" title="notation">(</span><span class="id" title="lemma">big_sepL2_length</span> <span class="id" title="notation">with</span> "H"<span class="id" title="notation">)</span> <span class="id" title="keyword">as</span> %<span class="id" title="var">Hlen</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hlen</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">l</span> <span class="id" title="keyword">as</span> [|<span class="id" title="var">x</span> <span class="id" title="var">l'</span>]; [<span class="id" title="tactic">by</span> <span class="id" title="tactic">inversion</span> <span class="id" title="var">Hlen</span>|].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">l'</span>; [| <span class="id" title="tactic">by</span> <span class="id" title="tactic">inversion</span> <span class="id" title="var">Hlen</span>]. <span class="id" title="var">iExists</span> <span class="id" title="var">x</span>. <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iDestruct</span> "H" <span class="id" title="keyword">as</span> "(H &amp; _)". <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="region_mapsto_split" class="idref" href="#region_mapsto_split"><span class="id" title="lemma">region_mapsto_split</span></a>  (<a id="b:206" class="idref" href="#b:206"><span class="id" title="binder">b</span></a> <a id="e:207" class="idref" href="#e:207"><span class="id" title="binder">e</span></a> <a id="a:208" class="idref" href="#a:208"><span class="id" title="binder">a</span></a> : <a class="idref" href="cap_machine.addr_reg.html#Addr"><span class="id" title="inductive">Addr</span></a>) (<a id="w1:209" class="idref" href="#w1:209"><span class="id" title="binder">w1</span></a> <a id="w2:210" class="idref" href="#w2:210"><span class="id" title="binder">w2</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="cap_machine.machine_base.html#Word"><span class="id" title="inductive">Word</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="cap_machine.region.html#b:206"><span class="id" title="variable">b</span></a> <span class="id" title="notation">≤</span> <a class="idref" href="cap_machine.region.html#a:208"><span class="id" title="variable">a</span></a> <span class="id" title="notation">≤</span> <a class="idref" href="cap_machine.region.html#e:207"><span class="id" title="variable">e</span></a>)%<span class="id" title="var">Z</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">(</span></a><span class="id" title="abbreviation">length</span> <a class="idref" href="cap_machine.region.html#w1:209"><span class="id" title="variable">w1</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">(</span></a><a class="idref" href="cap_machine.region.html#region_size"><span class="id" title="definition">region_size</span></a> <a class="idref" href="cap_machine.region.html#b:206"><span class="id" title="variable">b</span></a> <a class="idref" href="cap_machine.region.html#a:208"><span class="id" title="variable">a</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="cap_machine.region.html#cf3e88b060a91377dde5554370ab8b25"><span class="id" title="notation">[[</span></a><a class="idref" href="cap_machine.region.html#b:206"><span class="id" title="variable">b</span></a><a class="idref" href="cap_machine.region.html#cf3e88b060a91377dde5554370ab8b25"><span class="id" title="notation">,</span></a><a class="idref" href="cap_machine.region.html#e:207"><span class="id" title="variable">e</span></a><a class="idref" href="cap_machine.region.html#cf3e88b060a91377dde5554370ab8b25"><span class="id" title="notation">]]↦ₐ[[</span></a><a class="idref" href="cap_machine.region.html#w1:209"><span class="id" title="variable">w1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <a class="idref" href="cap_machine.region.html#w2:210"><span class="id" title="variable">w2</span></a><a class="idref" href="cap_machine.region.html#cf3e88b060a91377dde5554370ab8b25"><span class="id" title="notation">]]</span></a> <span class="id" title="notation">⊣⊢</span> <a class="idref" href="cap_machine.region.html#cf3e88b060a91377dde5554370ab8b25"><span class="id" title="notation">[[</span></a><a class="idref" href="cap_machine.region.html#b:206"><span class="id" title="variable">b</span></a><a class="idref" href="cap_machine.region.html#cf3e88b060a91377dde5554370ab8b25"><span class="id" title="notation">,</span></a><a class="idref" href="cap_machine.region.html#a:208"><span class="id" title="variable">a</span></a><a class="idref" href="cap_machine.region.html#cf3e88b060a91377dde5554370ab8b25"><span class="id" title="notation">]]↦ₐ[[</span></a><a class="idref" href="cap_machine.region.html#w1:209"><span class="id" title="variable">w1</span></a><a class="idref" href="cap_machine.region.html#cf3e88b060a91377dde5554370ab8b25"><span class="id" title="notation">]]</span></a> <span class="id" title="notation">∗</span> <a class="idref" href="cap_machine.region.html#cf3e88b060a91377dde5554370ab8b25"><span class="id" title="notation">[[</span></a><a class="idref" href="cap_machine.region.html#a:208"><span class="id" title="variable">a</span></a><a class="idref" href="cap_machine.region.html#cf3e88b060a91377dde5554370ab8b25"><span class="id" title="notation">,</span></a><a class="idref" href="cap_machine.region.html#e:207"><span class="id" title="variable">e</span></a><a class="idref" href="cap_machine.region.html#cf3e88b060a91377dde5554370ab8b25"><span class="id" title="notation">]]↦ₐ[[</span></a><a class="idref" href="cap_machine.region.html#w2:210"><span class="id" title="variable">w2</span></a><a class="idref" href="cap_machine.region.html#cf3e88b060a91377dde5554370ab8b25"><span class="id" title="notation">]]</span></a>)%<span class="id" title="var">I</span>.<br/>
&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">with</span> <span class="id" title="tactic">try</span> (<span class="id" title="tactic">rewrite</span> /<a class="idref" href="cap_machine.region.html#region_size"><span class="id" title="definition">region_size</span></a>; <span class="id" title="var">solve_addr</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> [<span class="id" title="var">Hba</span> <span class="id" title="var">Hae</span>] <span class="id" title="var">Hsize</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iSplit</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="var">iIntros</span> "Hbe".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="cap_machine.region.html#region_mapsto"><span class="id" title="definition">region_mapsto</span></a> /<a class="idref" href="cap_machine.region.html#region_addrs"><span class="id" title="definition">region_addrs</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="cap_machine.region.html#region_addrs_aux_decomposition"><span class="id" title="lemma">region_addrs_aux_decomposition</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> (<a class="idref" href="cap_machine.region.html#region_size"><span class="id" title="definition">region_size</span></a> <span class="id" title="var">b</span> <span class="id" title="var">a</span>))...<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iDestruct</span> <span class="id" title="notation">(</span><a class="idref" href="cap_machine.iris_extra.html#big_sepL2_app'"><span class="id" title="lemma">big_sepL2_app'</span></a> <span class="id" title="notation">with</span> "Hbe"<span class="id" title="notation">)</span> <span class="id" title="keyword">as</span> "[Hba Ha'b]".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="cap_machine.region.html#region_addrs_aux_length"><span class="id" title="lemma">region_addrs_aux_length</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">iFrame</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<span class="id" title="var">_</span><a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.ssr.ssreflect.html#::core_scope:x_':'_x"><span class="id" title="notation">:</span></a> <a class="idref" href="cap_machine.addr_reg.html#1d48f14c43e86dff2b7280147a285103"><span class="id" title="notation">^(</span></a><span class="id" title="var">b</span> <a class="idref" href="cap_machine.addr_reg.html#83f9bcf2054d3d441d475f25e3e951c6"><span class="id" title="notation">+</span></a> <a class="idref" href="cap_machine.region.html#region_size"><span class="id" title="definition">region_size</span></a> <span class="id" title="var">b</span> <span class="id" title="var">a</span><a class="idref" href="cap_machine.addr_reg.html#1d48f14c43e86dff2b7280147a285103"><span class="id" title="notation">)</span></a>%<span class="id" title="var">a</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">a</span>)...<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<span class="id" title="var">_</span><a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.ssr.ssreflect.html#::core_scope:x_':'_x"><span class="id" title="notation">:</span></a> <a class="idref" href="cap_machine.region.html#region_size"><span class="id" title="definition">region_size</span></a> <span class="id" title="var">a</span> <span class="id" title="var">e</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="cap_machine.region.html#region_size"><span class="id" title="definition">region_size</span></a> <span class="id" title="var">b</span> <span class="id" title="var">e</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Peano.html#::nat_scope:x_'-'_x"><span class="id" title="notation">-</span></a> <a class="idref" href="cap_machine.region.html#region_size"><span class="id" title="definition">region_size</span></a> <span class="id" title="var">b</span> <span class="id" title="var">a</span>)...<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;todo:&nbsp;turn&nbsp;these&nbsp;two&nbsp;into&nbsp;lemmas&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="var">iIntros</span> "[Hba Hae]".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="cap_machine.region.html#region_mapsto"><span class="id" title="definition">region_mapsto</span></a> /<a class="idref" href="cap_machine.region.html#region_addrs"><span class="id" title="definition">region_addrs</span></a>. <span class="comment">(*&nbsp;todo:&nbsp;use&nbsp;a&nbsp;proper&nbsp;region&nbsp;splitting&nbsp;lemma&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="cap_machine.region.html#region_addrs_aux_decomposition"><span class="id" title="lemma">region_addrs_aux_decomposition</span></a> (<a class="idref" href="cap_machine.region.html#region_size"><span class="id" title="definition">region_size</span></a> <span class="id" title="var">b</span> <span class="id" title="var">e</span>) <span class="id" title="var">_</span> (<a class="idref" href="cap_machine.region.html#region_size"><span class="id" title="definition">region_size</span></a> <span class="id" title="var">b</span> <span class="id" title="var">a</span>))...<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iApply</span> <span class="id" title="notation">(</span><span class="id" title="lemma">big_sepL2_app</span> <span class="id" title="notation">with</span> "Hba [Hae]"<span class="id" title="notation">)</span>; <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<span class="id" title="var">_</span><a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.ssr.ssreflect.html#::core_scope:x_':'_x"><span class="id" title="notation">:</span></a> <a class="idref" href="cap_machine.addr_reg.html#1d48f14c43e86dff2b7280147a285103"><span class="id" title="notation">^(</span></a><span class="id" title="var">b</span> <a class="idref" href="cap_machine.addr_reg.html#83f9bcf2054d3d441d475f25e3e951c6"><span class="id" title="notation">+</span></a> <a class="idref" href="cap_machine.region.html#region_size"><span class="id" title="definition">region_size</span></a> <span class="id" title="var">b</span> <span class="id" title="var">a</span><a class="idref" href="cap_machine.addr_reg.html#1d48f14c43e86dff2b7280147a285103"><span class="id" title="notation">)</span></a>%<span class="id" title="var">a</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">a</span>)...<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<span class="id" title="var">_</span><a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.ssr.ssreflect.html#::core_scope:x_':'_x"><span class="id" title="notation">:</span></a> <a class="idref" href="cap_machine.region.html#region_size"><span class="id" title="definition">region_size</span></a> <span class="id" title="var">b</span> <span class="id" title="var">e</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Peano.html#::nat_scope:x_'-'_x"><span class="id" title="notation">-</span></a> <a class="idref" href="cap_machine.region.html#region_size"><span class="id" title="definition">region_size</span></a> <span class="id" title="var">b</span> <span class="id" title="var">a</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="cap_machine.region.html#region_size"><span class="id" title="definition">region_size</span></a> <span class="id" title="var">a</span> <span class="id" title="var">e</span>)...<br/>
&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;<span class="comment">(*--------------------------------------------------------------------------*)</span><br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="region_mapsto_spec" class="idref" href="#region_mapsto_spec"><span class="id" title="definition">region_mapsto_spec</span></a> (<a id="b:211" class="idref" href="#b:211"><span class="id" title="binder">b</span></a> <a id="e:212" class="idref" href="#e:212"><span class="id" title="binder">e</span></a> : <a class="idref" href="cap_machine.addr_reg.html#Addr"><span class="id" title="inductive">Addr</span></a>) (<a id="ws:213" class="idref" href="#ws:213"><span class="id" title="binder">ws</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="cap_machine.machine_base.html#Word"><span class="id" title="inductive">Word</span></a>) : <span class="id" title="abbreviation">iProp</span> <a class="idref" href="cap_machine.region.html#fea29da80a1cf882bbf3bc516690a08f"><span class="id" title="variable">Σ</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="notation">[∗</span> <span class="id" title="notation">list</span><span class="id" title="notation">]</span> <a id="k:214" class="idref" href="#k:214"><span class="id" title="binder">k</span></a><span class="id" title="notation">↦</span><a id="y1:215" class="idref" href="#y1:215"><span class="id" title="binder">y1</span></a><span class="id" title="notation">;</span><a id="y2:216" class="idref" href="#y2:216"><span class="id" title="binder">y2</span></a> <span class="id" title="notation">∈</span> <span class="id" title="notation">(</span><a class="idref" href="cap_machine.region.html#region_addrs"><span class="id" title="definition">region_addrs</span></a> <a class="idref" href="cap_machine.region.html#b:211"><span class="id" title="variable">b</span></a> <a class="idref" href="cap_machine.region.html#e:212"><span class="id" title="variable">e</span></a><span class="id" title="notation">);</span><a class="idref" href="cap_machine.region.html#ws:213"><span class="id" title="variable">ws</span></a><span class="id" title="notation">,</span> <a class="idref" href="cap_machine.region.html#y1:215"><span class="id" title="variable">y1</span></a> <a class="idref" href="cap_machine.rules_binary.rules_binary_base.html#e2f4294cd5d6fe856f8983153f4c256a"><span class="id" title="notation">↣ₐ</span></a> <a class="idref" href="cap_machine.region.html#y2:216"><span class="id" title="variable">y2</span></a>)%<span class="id" title="var">I</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="mapsto_decomposition_spec" class="idref" href="#mapsto_decomposition_spec"><span class="id" title="lemma">mapsto_decomposition_spec</span></a>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">forall</span> <a id="l1:217" class="idref" href="#l1:217"><span class="id" title="binder">l1</span></a> <a id="l2:218" class="idref" href="#l2:218"><span class="id" title="binder">l2</span></a> <a id="ws1:219" class="idref" href="#ws1:219"><span class="id" title="binder">ws1</span></a> <a id="ws2:220" class="idref" href="#ws2:220"><span class="id" title="binder">ws2</span></a><span class="id" title="notation">,</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="abbreviation">length</span> <a class="idref" href="cap_machine.region.html#l1:217"><span class="id" title="variable">l1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="abbreviation">length</span> <a class="idref" href="cap_machine.region.html#ws1:219"><span class="id" title="variable">ws1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="notation">[∗</span> <span class="id" title="notation">list</span><span class="id" title="notation">]</span> <a id="k:221" class="idref" href="#k:221"><span class="id" title="binder">k</span></a> <span class="id" title="notation">↦</span> <a id="y1:222" class="idref" href="#y1:222"><span class="id" title="binder">y1</span></a><span class="id" title="notation">;</span><a id="y2:223" class="idref" href="#y2:223"><span class="id" title="binder">y2</span></a> <span class="id" title="notation">∈</span> <span class="id" title="notation">(</span><a class="idref" href="cap_machine.region.html#l1:217"><span class="id" title="variable">l1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <a class="idref" href="cap_machine.region.html#l2:218"><span class="id" title="variable">l2</span></a><span class="id" title="notation">);(</span><a class="idref" href="cap_machine.region.html#ws1:219"><span class="id" title="variable">ws1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <a class="idref" href="cap_machine.region.html#ws2:220"><span class="id" title="variable">ws2</span></a><span class="id" title="notation">),</span> <a class="idref" href="cap_machine.region.html#y1:222"><span class="id" title="variable">y1</span></a> <a class="idref" href="cap_machine.rules_binary.rules_binary_base.html#e2f4294cd5d6fe856f8983153f4c256a"><span class="id" title="notation">↣ₐ</span></a> <a class="idref" href="cap_machine.region.html#y2:223"><span class="id" title="variable">y2</span></a>)%<span class="id" title="var">I</span> <span class="id" title="notation">⊣⊢</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="notation">[∗</span> <span class="id" title="notation">list</span><span class="id" title="notation">]</span> <a id="k:224" class="idref" href="#k:224"><span class="id" title="binder">k</span></a> <span class="id" title="notation">↦</span> <a id="y1:225" class="idref" href="#y1:225"><span class="id" title="binder">y1</span></a><span class="id" title="notation">;</span><a id="y2:226" class="idref" href="#y2:226"><span class="id" title="binder">y2</span></a> <span class="id" title="notation">∈</span> <a class="idref" href="cap_machine.region.html#l1:217"><span class="id" title="variable">l1</span></a><span class="id" title="notation">;</span><a class="idref" href="cap_machine.region.html#ws1:219"><span class="id" title="variable">ws1</span></a><span class="id" title="notation">,</span> <a class="idref" href="cap_machine.region.html#y1:225"><span class="id" title="variable">y1</span></a> <a class="idref" href="cap_machine.rules_binary.rules_binary_base.html#e2f4294cd5d6fe856f8983153f4c256a"><span class="id" title="notation">↣ₐ</span></a> <a class="idref" href="cap_machine.region.html#y2:226"><span class="id" title="variable">y2</span></a>)%<span class="id" title="var">I</span> <span class="id" title="notation">∗</span> (<span class="id" title="notation">[∗</span> <span class="id" title="notation">list</span><span class="id" title="notation">]</span> <a id="k:227" class="idref" href="#k:227"><span class="id" title="binder">k</span></a> <span class="id" title="notation">↦</span> <a id="y1:228" class="idref" href="#y1:228"><span class="id" title="binder">y1</span></a><span class="id" title="notation">;</span><a id="y2:229" class="idref" href="#y2:229"><span class="id" title="binder">y2</span></a> <span class="id" title="notation">∈</span> <a class="idref" href="cap_machine.region.html#l2:218"><span class="id" title="variable">l2</span></a><span class="id" title="notation">;</span><a class="idref" href="cap_machine.region.html#ws2:220"><span class="id" title="variable">ws2</span></a><span class="id" title="notation">,</span> <a class="idref" href="cap_machine.region.html#y1:228"><span class="id" title="variable">y1</span></a> <a class="idref" href="cap_machine.rules_binary.rules_binary_base.html#e2f4294cd5d6fe856f8983153f4c256a"><span class="id" title="notation">↣ₐ</span></a> <a class="idref" href="cap_machine.region.html#y2:229"><span class="id" title="variable">y2</span></a>)%<span class="id" title="var">I</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">intros</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="cap_machine.iris_extra.html#big_sepL2_app'"><span class="id" title="lemma">big_sepL2_app'</span></a> //. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="extract_from_region_spec" class="idref" href="#extract_from_region_spec"><span class="id" title="lemma">extract_from_region_spec</span></a> <a id="b:230" class="idref" href="#b:230"><span class="id" title="binder">b</span></a> <a id="e:231" class="idref" href="#e:231"><span class="id" title="binder">e</span></a> <a id="a:232" class="idref" href="#a:232"><span class="id" title="binder">a</span></a> <a id="ws:233" class="idref" href="#ws:233"><span class="id" title="binder">ws</span></a> <a id="edc0196fcc059268971feaec870a4177" class="idref" href="#edc0196fcc059268971feaec870a4177"><span class="id" title="binder">φ</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="n:235" class="idref" href="#n:235"><span class="id" title="binder">n</span></a> := <span class="id" title="abbreviation">length</span> (<a class="idref" href="cap_machine.region.html#region_addrs"><span class="id" title="definition">region_addrs</span></a> <a class="idref" href="cap_machine.region.html#b:230"><span class="id" title="variable">b</span></a> <a class="idref" href="cap_machine.region.html#a:232"><span class="id" title="variable">a</span></a>) <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="cap_machine.region.html#b:230"><span class="id" title="variable">b</span></a> <a class="idref" href="cap_machine.addr_reg.html#8ccc7a9bb9ba1c27ed0dba9945a4cbb0"><span class="id" title="notation">&lt;=</span></a> <a class="idref" href="cap_machine.region.html#a:232"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Unicode.Utf8_core.html#3668992ecc3e95973d304a75a28051a2"><span class="id" title="notation">∧</span></a> <a class="idref" href="cap_machine.region.html#a:232"><span class="id" title="variable">a</span></a> <a class="idref" href="cap_machine.addr_reg.html#::Addr_scope:x_'&lt;'_x"><span class="id" title="notation">&lt;</span></a> <a class="idref" href="cap_machine.region.html#e:231"><span class="id" title="variable">e</span></a>)%<span class="id" title="var">a</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">(</span><a class="idref" href="cap_machine.region.html#region_mapsto_spec"><span class="id" title="definition">region_mapsto_spec</span></a> <a class="idref" href="cap_machine.region.html#b:230"><span class="id" title="variable">b</span></a> <a class="idref" href="cap_machine.region.html#e:231"><span class="id" title="variable">e</span></a> <a class="idref" href="cap_machine.region.html#ws:233"><span class="id" title="variable">ws</span></a> <span class="id" title="notation">∗</span> <span class="id" title="notation">(</span><span class="id" title="notation">[∗</span> <span class="id" title="notation">list</span><span class="id" title="notation">]</span> <a id="w:236" class="idref" href="#w:236"><span class="id" title="binder">w</span></a> <span class="id" title="notation">∈</span> <a class="idref" href="cap_machine.region.html#ws:233"><span class="id" title="variable">ws</span></a><span class="id" title="notation">,</span> <a class="idref" href="cap_machine.region.html#edc0196fcc059268971feaec870a4177"><span class="id" title="variable">φ</span></a> <a class="idref" href="cap_machine.region.html#w:236"><span class="id" title="variable">w</span></a><span class="id" title="notation">)</span><span class="id" title="notation">)</span> <span class="id" title="notation">⊣⊢</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">(</span><span class="id" title="notation">∃</span> <a id="w:237" class="idref" href="#w:237"><span class="id" title="binder">w</span></a><span class="id" title="notation">,</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">⌜</span><a class="idref" href="cap_machine.region.html#ws:233"><span class="id" title="variable">ws</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="abbreviation">take</span> <a class="idref" href="cap_machine.region.html#n:235"><span class="id" title="variable">n</span></a> <a class="idref" href="cap_machine.region.html#ws:233"><span class="id" title="variable">ws</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">(</span></a><a class="idref" href="cap_machine.region.html#w:237"><span class="id" title="variable">w</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a><span class="id" title="abbreviation">drop</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <a class="idref" href="cap_machine.region.html#n:235"><span class="id" title="variable">n</span></a>) <a class="idref" href="cap_machine.region.html#ws:233"><span class="id" title="variable">ws</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">)</span></a><span class="id" title="notation">⌝</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">∗</span> <a class="idref" href="cap_machine.region.html#region_mapsto_spec"><span class="id" title="definition">region_mapsto_spec</span></a> <a class="idref" href="cap_machine.region.html#b:230"><span class="id" title="variable">b</span></a> <a class="idref" href="cap_machine.region.html#a:232"><span class="id" title="variable">a</span></a> (<span class="id" title="abbreviation">take</span> <a class="idref" href="cap_machine.region.html#n:235"><span class="id" title="variable">n</span></a> <a class="idref" href="cap_machine.region.html#ws:233"><span class="id" title="variable">ws</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">∗</span> <span class="id" title="notation">(</span><span class="id" title="notation">[∗</span> <span class="id" title="notation">list</span><span class="id" title="notation">]</span> <a id="w:238" class="idref" href="#w:238"><span class="id" title="binder">w</span></a> <span class="id" title="notation">∈</span> <span class="id" title="notation">(</span><span class="id" title="abbreviation">take</span> <a class="idref" href="cap_machine.region.html#n:235"><span class="id" title="variable">n</span></a> <a class="idref" href="cap_machine.region.html#ws:233"><span class="id" title="variable">ws</span></a><span class="id" title="notation">),</span> <a class="idref" href="cap_machine.region.html#edc0196fcc059268971feaec870a4177"><span class="id" title="variable">φ</span></a> <a class="idref" href="cap_machine.region.html#w:238"><span class="id" title="variable">w</span></a><span class="id" title="notation">)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">∗</span> <a class="idref" href="cap_machine.region.html#a:232"><span class="id" title="variable">a</span></a> <a class="idref" href="cap_machine.rules_binary.rules_binary_base.html#e2f4294cd5d6fe856f8983153f4c256a"><span class="id" title="notation">↣ₐ</span></a> <a class="idref" href="cap_machine.region.html#w:237"><span class="id" title="variable">w</span></a> <span class="id" title="notation">∗</span> <a class="idref" href="cap_machine.region.html#edc0196fcc059268971feaec870a4177"><span class="id" title="variable">φ</span></a> <a class="idref" href="cap_machine.region.html#w:237"><span class="id" title="variable">w</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">∗</span> <a class="idref" href="cap_machine.region.html#region_mapsto_spec"><span class="id" title="definition">region_mapsto_spec</span></a> (<a class="idref" href="cap_machine.addr_reg.html#1d48f14c43e86dff2b7280147a285103"><span class="id" title="notation">^(</span></a><a class="idref" href="cap_machine.region.html#a:232"><span class="id" title="variable">a</span></a><a class="idref" href="cap_machine.addr_reg.html#83f9bcf2054d3d441d475f25e3e951c6"><span class="id" title="notation">+</span></a>1<a class="idref" href="cap_machine.addr_reg.html#1d48f14c43e86dff2b7280147a285103"><span class="id" title="notation">)</span></a>)%<span class="id" title="var">a</span> <a class="idref" href="cap_machine.region.html#e:231"><span class="id" title="variable">e</span></a> (<span class="id" title="abbreviation">drop</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <a class="idref" href="cap_machine.region.html#n:235"><span class="id" title="variable">n</span></a>) <a class="idref" href="cap_machine.region.html#ws:233"><span class="id" title="variable">ws</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">∗</span> (<span class="id" title="notation">[∗</span> <span class="id" title="notation">list</span><span class="id" title="notation">]</span> <a id="w:239" class="idref" href="#w:239"><span class="id" title="binder">w</span></a> <span class="id" title="notation">∈</span> <span class="id" title="notation">(</span><span class="id" title="abbreviation">drop</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <a class="idref" href="cap_machine.region.html#n:235"><span class="id" title="variable">n</span></a>) <a class="idref" href="cap_machine.region.html#ws:233"><span class="id" title="variable">ws</span></a><span class="id" title="notation">),</span> <a class="idref" href="cap_machine.region.html#edc0196fcc059268971feaec870a4177"><span class="id" title="variable">φ</span></a> <a class="idref" href="cap_machine.region.html#w:239"><span class="id" title="variable">w</span></a>)%<span class="id" title="var">I</span><span class="id" title="notation">)</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="var">iSplit</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="var">iIntros</span> "[A B]". <span class="id" title="tactic">unfold</span> <a class="idref" href="cap_machine.region.html#region_mapsto_spec"><span class="id" title="definition">region_mapsto_spec</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iDestruct</span> <span class="id" title="notation">(</span><span class="id" title="lemma">big_sepL2_length</span> <span class="id" title="notation">with</span> "A"<span class="id" title="notation">)</span> <span class="id" title="keyword">as</span> %<span class="id" title="var">Hlen</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="cap_machine.region.html#region_addrs_decomposition"><span class="id" title="lemma">region_addrs_decomposition</span></a> <span class="id" title="var">b</span> <span class="id" title="var">a</span> <span class="id" title="var">e</span>) //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">Hlnws</span>: <span class="id" title="var">n</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="abbreviation">length</span> (<span class="id" title="abbreviation">take</span> <span class="id" title="var">n</span> <span class="id" title="var">ws</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">take_length</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Arith.Min.html#min_l"><span class="id" title="definition">Min.min_l</span></a>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">Hlen</span>. <span class="id" title="tactic">subst</span> <span class="id" title="var">n</span>. <span class="id" title="tactic">rewrite</span> !<a class="idref" href="cap_machine.region.html#region_addrs_length"><span class="id" title="lemma">region_addrs_length</span></a> /<a class="idref" href="cap_machine.region.html#region_size"><span class="id" title="definition">region_size</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">solve_addr</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">generalize</span> (<span class="id" title="definition">take_drop</span> <span class="id" title="var">n</span> <span class="id" title="var">ws</span>). <span class="id" title="tactic">intros</span> <span class="id" title="var">HWS</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">HWS</span>. <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iDestruct</span> "B" <span class="id" title="keyword">as</span> "[HB1 HB2]".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iDestruct</span> <span class="id" title="notation">(</span><a class="idref" href="cap_machine.region.html#mapsto_decomposition_spec"><span class="id" title="lemma">mapsto_decomposition_spec</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">Hlnws</span> <span class="id" title="notation">with</span> "A"<span class="id" title="notation">)</span> <span class="id" title="keyword">as</span> "[HA1 HA2]".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">case_eq</span> (<span class="id" title="abbreviation">drop</span> <span class="id" title="var">n</span> <span class="id" title="var">ws</span>); <span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">iDestruct</span> "HA2" <span class="id" title="keyword">as</span> "[HA2 HA3]".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iDestruct</span> "HB2" <span class="id" title="keyword">as</span> "[HB2 HB3]".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">generalize</span> (<a class="idref" href="cap_machine.stdpp_extra.html#drop_S'"><span class="id" title="lemma">drop_S'</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">H3</span>). <span class="id" title="tactic">intros</span> <span class="id" title="var">Hdws</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">H3</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">HWS</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hdws</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iExists</span> <span class="id" title="var">w</span>. <span class="id" title="var">iFrame</span>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">H3</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="var">iIntros</span> "A". <span class="id" title="var">iDestruct</span> "A" <span class="id" title="keyword">as</span> (<span class="id" title="var">w</span> <span class="id" title="var">Hws</span>) "[A1 [B1 [A2 [B2 AB]]]]".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="cap_machine.region.html#region_mapsto_spec"><span class="id" title="definition">region_mapsto_spec</span></a>. <span class="id" title="tactic">rewrite</span> (<a class="idref" href="cap_machine.region.html#region_addrs_decomposition"><span class="id" title="lemma">region_addrs_decomposition</span></a> <span class="id" title="var">b</span> <span class="id" title="var">a</span> <span class="id" title="var">e</span>) //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iDestruct</span> "AB" <span class="id" title="keyword">as</span> "[A3 B3]".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> {5}<span class="id" title="var">Hws</span>. <span class="id" title="var">iFrame</span>. <span class="id" title="tactic">rewrite</span> {3}<span class="id" title="var">Hws</span>. <span class="id" title="var">iFrame</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="extract_from_region_spec'" class="idref" href="#extract_from_region_spec'"><span class="id" title="lemma">extract_from_region_spec'</span></a> <a id="b:240" class="idref" href="#b:240"><span class="id" title="binder">b</span></a> <a id="e:241" class="idref" href="#e:241"><span class="id" title="binder">e</span></a> <a id="a:242" class="idref" href="#a:242"><span class="id" title="binder">a</span></a> <a id="ws:243" class="idref" href="#ws:243"><span class="id" title="binder">ws</span></a> <a id="d34079722c96a3123246230cd6cdbc1c" class="idref" href="#d34079722c96a3123246230cd6cdbc1c"><span class="id" title="binder">φ</span></a> `{<a id="H2:246" class="idref" href="#H2:246"><span class="id" title="binder">!∀</span></a> <a id="H2:246" class="idref" href="#H2:246"><span class="id" title="binder">x</span></a><a id="H2:246" class="idref" href="#H2:246"><span class="id" title="binder">,</span></a> <a id="H2:246" class="idref" href="#H2:246"><span class="id" title="binder">Persistent</span></a> <a id="H2:246" class="idref" href="#H2:246"><span class="id" title="binder">(φ</span></a> <a id="H2:246" class="idref" href="#H2:246"><span class="id" title="binder">x</span></a><a id="H2:246" class="idref" href="#H2:246"><span class="id" title="binder">)</span></a>}:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="n:247" class="idref" href="#n:247"><span class="id" title="binder">n</span></a> := <span class="id" title="abbreviation">length</span> (<a class="idref" href="cap_machine.region.html#region_addrs"><span class="id" title="definition">region_addrs</span></a> <a class="idref" href="cap_machine.region.html#b:240"><span class="id" title="variable">b</span></a> <a class="idref" href="cap_machine.region.html#a:242"><span class="id" title="variable">a</span></a>) <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="cap_machine.region.html#b:240"><span class="id" title="variable">b</span></a> <a class="idref" href="cap_machine.addr_reg.html#8ccc7a9bb9ba1c27ed0dba9945a4cbb0"><span class="id" title="notation">&lt;=</span></a> <a class="idref" href="cap_machine.region.html#a:242"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Unicode.Utf8_core.html#3668992ecc3e95973d304a75a28051a2"><span class="id" title="notation">∧</span></a> <a class="idref" href="cap_machine.region.html#a:242"><span class="id" title="variable">a</span></a> <a class="idref" href="cap_machine.addr_reg.html#::Addr_scope:x_'&lt;'_x"><span class="id" title="notation">&lt;</span></a> <a class="idref" href="cap_machine.region.html#e:241"><span class="id" title="variable">e</span></a>)%<span class="id" title="var">a</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">(</span><a class="idref" href="cap_machine.region.html#region_mapsto_spec"><span class="id" title="definition">region_mapsto_spec</span></a> <a class="idref" href="cap_machine.region.html#b:240"><span class="id" title="variable">b</span></a> <a class="idref" href="cap_machine.region.html#e:241"><span class="id" title="variable">e</span></a> <a class="idref" href="cap_machine.region.html#ws:243"><span class="id" title="variable">ws</span></a> <span class="id" title="notation">∗</span> <span class="id" title="notation">(</span><span class="id" title="notation">[∗</span> <span class="id" title="notation">list</span><span class="id" title="notation">]</span> <a id="w:248" class="idref" href="#w:248"><span class="id" title="binder">w</span></a> <span class="id" title="notation">∈</span> <a class="idref" href="cap_machine.region.html#ws:243"><span class="id" title="variable">ws</span></a><span class="id" title="notation">,</span> <a class="idref" href="cap_machine.region.html#d34079722c96a3123246230cd6cdbc1c"><span class="id" title="variable">φ</span></a> <a class="idref" href="cap_machine.region.html#w:248"><span class="id" title="variable">w</span></a><span class="id" title="notation">)</span><span class="id" title="notation">)</span> <span class="id" title="notation">⊣⊢</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="notation">∃</span> <a id="w:249" class="idref" href="#w:249"><span class="id" title="binder">w</span></a><span class="id" title="notation">,</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">⌜</span><a class="idref" href="cap_machine.region.html#ws:243"><span class="id" title="variable">ws</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="abbreviation">take</span> <a class="idref" href="cap_machine.region.html#n:247"><span class="id" title="variable">n</span></a> <a class="idref" href="cap_machine.region.html#ws:243"><span class="id" title="variable">ws</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">(</span></a><a class="idref" href="cap_machine.region.html#w:249"><span class="id" title="variable">w</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a><span class="id" title="abbreviation">drop</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <a class="idref" href="cap_machine.region.html#n:247"><span class="id" title="variable">n</span></a>) <a class="idref" href="cap_machine.region.html#ws:243"><span class="id" title="variable">ws</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">)</span></a><span class="id" title="notation">⌝</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">∗</span> <a class="idref" href="cap_machine.region.html#region_mapsto_spec"><span class="id" title="definition">region_mapsto_spec</span></a> <a class="idref" href="cap_machine.region.html#b:240"><span class="id" title="variable">b</span></a> <a class="idref" href="cap_machine.region.html#a:242"><span class="id" title="variable">a</span></a> (<span class="id" title="abbreviation">take</span> <a class="idref" href="cap_machine.region.html#n:247"><span class="id" title="variable">n</span></a> <a class="idref" href="cap_machine.region.html#ws:243"><span class="id" title="variable">ws</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">∗</span> <span class="id" title="notation">(</span><span class="id" title="notation">[∗</span> <span class="id" title="notation">list</span><span class="id" title="notation">]</span> <a id="w:250" class="idref" href="#w:250"><span class="id" title="binder">w</span></a> <span class="id" title="notation">∈</span> <a class="idref" href="cap_machine.region.html#ws:243"><span class="id" title="variable">ws</span></a><span class="id" title="notation">,</span> <a class="idref" href="cap_machine.region.html#d34079722c96a3123246230cd6cdbc1c"><span class="id" title="variable">φ</span></a> <a class="idref" href="cap_machine.region.html#w:250"><span class="id" title="variable">w</span></a><span class="id" title="notation">)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">∗</span> <a class="idref" href="cap_machine.region.html#a:242"><span class="id" title="variable">a</span></a> <a class="idref" href="cap_machine.rules_binary.rules_binary_base.html#e2f4294cd5d6fe856f8983153f4c256a"><span class="id" title="notation">↣ₐ</span></a> <a class="idref" href="cap_machine.region.html#w:249"><span class="id" title="variable">w</span></a> <span class="id" title="notation">∗</span> <a class="idref" href="cap_machine.region.html#d34079722c96a3123246230cd6cdbc1c"><span class="id" title="variable">φ</span></a> <a class="idref" href="cap_machine.region.html#w:249"><span class="id" title="variable">w</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">∗</span> <a class="idref" href="cap_machine.region.html#region_mapsto_spec"><span class="id" title="definition">region_mapsto_spec</span></a> (<a class="idref" href="cap_machine.addr_reg.html#1d48f14c43e86dff2b7280147a285103"><span class="id" title="notation">^(</span></a><a class="idref" href="cap_machine.region.html#a:242"><span class="id" title="variable">a</span></a><a class="idref" href="cap_machine.addr_reg.html#83f9bcf2054d3d441d475f25e3e951c6"><span class="id" title="notation">+</span></a>1<a class="idref" href="cap_machine.addr_reg.html#1d48f14c43e86dff2b7280147a285103"><span class="id" title="notation">)</span></a>)%<span class="id" title="var">a</span> <a class="idref" href="cap_machine.region.html#e:241"><span class="id" title="variable">e</span></a> (<span class="id" title="abbreviation">drop</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <a class="idref" href="cap_machine.region.html#n:247"><span class="id" title="variable">n</span></a>) <a class="idref" href="cap_machine.region.html#ws:243"><span class="id" title="variable">ws</span></a>))%<span class="id" title="var">I</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="var">iSplit</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="var">iIntros</span> "H".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iDestruct</span> <span class="id" title="notation">(</span><a class="idref" href="cap_machine.region.html#extract_from_region_spec"><span class="id" title="lemma">extract_from_region_spec</span></a> <span class="id" title="notation">with</span> "H"<span class="id" title="notation">)</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">w</span> <span class="id" title="var">Hws</span>) "(?&amp;?&amp;?&amp;#Hφ&amp;?&amp;?)"; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iExists</span> <span class="id" title="var">_</span>. <span class="id" title="var">iFrame</span>. <span class="id" title="var">iSplitR</span>. <span class="id" title="var">iPureIntro</span>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> {1}<span class="id" title="var">Hws</span> //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> {3}<span class="id" title="var">Hws</span>. <span class="id" title="var">iFrame</span>. <span class="id" title="var">iSplit</span>; <span class="id" title="var">iApply</span> "Hφ".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="var">iIntros</span> "H". <span class="id" title="var">iApply</span> <span class="id" title="notation">(</span><a class="idref" href="cap_machine.region.html#extract_from_region_spec"><span class="id" title="lemma">extract_from_region_spec</span></a> <span class="id" title="notation">with</span> "[H]"<span class="id" title="notation">)</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iDestruct</span> "H" <span class="id" title="keyword">as</span> (<span class="id" title="var">w</span> <span class="id" title="var">Hws</span>) "(?&amp;Hl&amp;?&amp;#Hφ&amp;?)". <span class="id" title="var">iExists</span> <span class="id" title="var">_</span>. <span class="id" title="var">iFrame</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iSplitR</span>. <span class="id" title="var">iPureIntro</span>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> {1}<span class="id" title="var">Hws</span> //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> {1}<span class="id" title="var">Hws</span>. <span class="id" title="var">iDestruct</span> <span class="id" title="notation">(</span><span class="id" title="lemma">big_sepL_app</span> <span class="id" title="notation">with</span> "Hl"<span class="id" title="notation">)</span> <span class="id" title="keyword">as</span> "[? ?]".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">cbn</span>. <span class="id" title="var">iFrame</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Notation</span> <a id="59b6c9ff409f36441fcd5523574b0f83" class="idref" href="#59b6c9ff409f36441fcd5523574b0f83"><span class="id" title="notation">&quot;</span></a>[[ b , e ]] ↣ₐ [[ ws ]]" := (<a class="idref" href="cap_machine.region.html#region_mapsto_spec"><span class="id" title="definition">region_mapsto_spec</span></a> <span class="id" title="var">b</span> <span class="id" title="var">e</span> <span class="id" title="var">ws</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="tactic">at</span> <span class="id" title="keyword">level</span> 50, <span class="id" title="var">format</span> "[[ b , e ]] ↣ₐ [[ ws ]]") : <span class="id" title="var">bi_scope</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="region_mapsto_cons_spec" class="idref" href="#region_mapsto_cons_spec"><span class="id" title="lemma">region_mapsto_cons_spec</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="b:251" class="idref" href="#b:251"><span class="id" title="binder">b</span></a> <a id="b':252" class="idref" href="#b':252"><span class="id" title="binder">b'</span></a> <a id="e:253" class="idref" href="#e:253"><span class="id" title="binder">e</span></a> : <a class="idref" href="cap_machine.addr_reg.html#Addr"><span class="id" title="inductive">Addr</span></a>) (<a id="w:254" class="idref" href="#w:254"><span class="id" title="binder">w</span></a> : <a class="idref" href="cap_machine.machine_base.html#Word"><span class="id" title="inductive">Word</span></a>) (<a id="ws:255" class="idref" href="#ws:255"><span class="id" title="binder">ws</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="cap_machine.machine_base.html#Word"><span class="id" title="inductive">Word</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="cap_machine.region.html#b:251"><span class="id" title="variable">b</span></a> <a class="idref" href="cap_machine.addr_reg.html#83f9bcf2054d3d441d475f25e3e951c6"><span class="id" title="notation">+</span></a> 1)%<span class="id" title="var">a</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="cap_machine.region.html#b':252"><span class="id" title="variable">b'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> (<a class="idref" href="cap_machine.region.html#b':252"><span class="id" title="variable">b'</span></a> <a class="idref" href="cap_machine.addr_reg.html#8ccc7a9bb9ba1c27ed0dba9945a4cbb0"><span class="id" title="notation">&lt;=</span></a> <a class="idref" href="cap_machine.region.html#e:253"><span class="id" title="variable">e</span></a>)%<span class="id" title="var">a</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="cap_machine.region.html#59b6c9ff409f36441fcd5523574b0f83"><span class="id" title="notation">[[</span></a><a class="idref" href="cap_machine.region.html#b:251"><span class="id" title="variable">b</span></a><a class="idref" href="cap_machine.region.html#59b6c9ff409f36441fcd5523574b0f83"><span class="id" title="notation">,</span></a> <a class="idref" href="cap_machine.region.html#e:253"><span class="id" title="variable">e</span></a><a class="idref" href="cap_machine.region.html#59b6c9ff409f36441fcd5523574b0f83"><span class="id" title="notation">]]</span></a> <a class="idref" href="cap_machine.region.html#59b6c9ff409f36441fcd5523574b0f83"><span class="id" title="notation">↣ₐ</span></a> <a class="idref" href="cap_machine.region.html#59b6c9ff409f36441fcd5523574b0f83"><span class="id" title="notation">[[</span></a> <a class="idref" href="cap_machine.region.html#w:254"><span class="id" title="variable">w</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <a class="idref" href="cap_machine.region.html#ws:255"><span class="id" title="variable">ws</span></a> <a class="idref" href="cap_machine.region.html#59b6c9ff409f36441fcd5523574b0f83"><span class="id" title="notation">]]</span></a> <span class="id" title="notation">⊣⊢</span> <a class="idref" href="cap_machine.region.html#b:251"><span class="id" title="variable">b</span></a> <a class="idref" href="cap_machine.rules_binary.rules_binary_base.html#e2f4294cd5d6fe856f8983153f4c256a"><span class="id" title="notation">↣ₐ</span></a> <a class="idref" href="cap_machine.region.html#w:254"><span class="id" title="variable">w</span></a> <span class="id" title="notation">∗</span> <a class="idref" href="cap_machine.region.html#59b6c9ff409f36441fcd5523574b0f83"><span class="id" title="notation">[[</span></a><a class="idref" href="cap_machine.region.html#b':252"><span class="id" title="variable">b'</span></a><a class="idref" href="cap_machine.region.html#59b6c9ff409f36441fcd5523574b0f83"><span class="id" title="notation">,</span></a> <a class="idref" href="cap_machine.region.html#e:253"><span class="id" title="variable">e</span></a><a class="idref" href="cap_machine.region.html#59b6c9ff409f36441fcd5523574b0f83"><span class="id" title="notation">]]</span></a> <a class="idref" href="cap_machine.region.html#59b6c9ff409f36441fcd5523574b0f83"><span class="id" title="notation">↣ₐ</span></a> <a class="idref" href="cap_machine.region.html#59b6c9ff409f36441fcd5523574b0f83"><span class="id" title="notation">[[</span></a> <a class="idref" href="cap_machine.region.html#ws:255"><span class="id" title="variable">ws</span></a> <a class="idref" href="cap_machine.region.html#59b6c9ff409f36441fcd5523574b0f83"><span class="id" title="notation">]]</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Hb'</span> <span class="id" title="var">Hb'e</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="cap_machine.region.html#region_mapsto_spec"><span class="id" title="definition">region_mapsto_spec</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="cap_machine.region.html#region_addrs_decomposition"><span class="id" title="lemma">region_addrs_decomposition</span></a> <span class="id" title="var">b</span> <span class="id" title="var">b</span> <span class="id" title="var">e</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;2: <span class="id" title="var">revert</span> <span class="id" title="var">Hb'</span> <span class="id" title="var">Hb'e</span>; <span class="id" title="tactic">clear</span>; <span class="id" title="tactic">intros</span>; <span class="id" title="tactic">split</span>; <span class="id" title="var">solve_addr</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="cap_machine.region.html#region_addrs_empty"><span class="id" title="lemma">region_addrs_empty</span></a> /=.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;2: <span class="id" title="tactic">clear</span>; <span class="id" title="var">solve_addr</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<span class="id" title="var">_</span><a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.ssr.ssreflect.html#::core_scope:x_':'_x"><span class="id" title="notation">:</span></a> <a class="idref" href="cap_machine.addr_reg.html#1d48f14c43e86dff2b7280147a285103"><span class="id" title="notation">^(</span></a><span class="id" title="var">b</span> <a class="idref" href="cap_machine.addr_reg.html#83f9bcf2054d3d441d475f25e3e951c6"><span class="id" title="notation">+</span></a> 1<a class="idref" href="cap_machine.addr_reg.html#1d48f14c43e86dff2b7280147a285103"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">b'</span>)%<span class="id" title="var">a</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;2: <span class="id" title="var">revert</span> <span class="id" title="var">Hb'</span> <span class="id" title="var">Hb'e</span>; <span class="id" title="tactic">clear</span>; <span class="id" title="tactic">intros</span>; <span class="id" title="var">solve_addr</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="region_mapsto_single_spec" class="idref" href="#region_mapsto_single_spec"><span class="id" title="lemma">region_mapsto_single_spec</span></a> <a id="b:256" class="idref" href="#b:256"><span class="id" title="binder">b</span></a> <a id="e:257" class="idref" href="#e:257"><span class="id" title="binder">e</span></a> <a id="l:258" class="idref" href="#l:258"><span class="id" title="binder">l</span></a>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="cap_machine.region.html#b:256"><span class="id" title="variable">b</span></a><a class="idref" href="cap_machine.addr_reg.html#83f9bcf2054d3d441d475f25e3e951c6"><span class="id" title="notation">+</span></a>1)%<span class="id" title="var">a</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="cap_machine.region.html#e:257"><span class="id" title="variable">e</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="cap_machine.region.html#59b6c9ff409f36441fcd5523574b0f83"><span class="id" title="notation">[[</span></a><a class="idref" href="cap_machine.region.html#b:256"><span class="id" title="variable">b</span></a><a class="idref" href="cap_machine.region.html#59b6c9ff409f36441fcd5523574b0f83"><span class="id" title="notation">,</span></a><a class="idref" href="cap_machine.region.html#e:257"><span class="id" title="variable">e</span></a><a class="idref" href="cap_machine.region.html#59b6c9ff409f36441fcd5523574b0f83"><span class="id" title="notation">]]</span></a> <a class="idref" href="cap_machine.region.html#59b6c9ff409f36441fcd5523574b0f83"><span class="id" title="notation">↣ₐ</span></a> <a class="idref" href="cap_machine.region.html#59b6c9ff409f36441fcd5523574b0f83"><span class="id" title="notation">[[</span></a><a class="idref" href="cap_machine.region.html#l:258"><span class="id" title="variable">l</span></a><a class="idref" href="cap_machine.region.html#59b6c9ff409f36441fcd5523574b0f83"><span class="id" title="notation">]]</span></a> <span class="id" title="notation">-∗</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">∃</span> <a id="v:259" class="idref" href="#v:259"><span class="id" title="binder">v</span></a><span class="id" title="notation">,</span> <a class="idref" href="cap_machine.region.html#b:256"><span class="id" title="variable">b</span></a> <a class="idref" href="cap_machine.rules_binary.rules_binary_base.html#e2f4294cd5d6fe856f8983153f4c256a"><span class="id" title="notation">↣ₐ</span></a> <a class="idref" href="cap_machine.region.html#v:259"><span class="id" title="variable">v</span></a> <span class="id" title="notation">∗</span> <span class="id" title="notation">⌜</span><a class="idref" href="cap_machine.region.html#l:258"><span class="id" title="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">[</span></a><a class="idref" href="cap_machine.region.html#v:259"><span class="id" title="variable">v</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">]</span></a><span class="id" title="notation">⌝</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iIntros</span> (<span class="id" title="var">Hbe</span>) "H". <span class="id" title="tactic">rewrite</span> /<a class="idref" href="cap_machine.region.html#region_mapsto_spec"><span class="id" title="definition">region_mapsto_spec</span></a> <a class="idref" href="cap_machine.region.html#region_addrs_single"><span class="id" title="lemma">region_addrs_single</span></a> //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iDestruct</span> <span class="id" title="notation">(</span><span class="id" title="lemma">big_sepL2_length</span> <span class="id" title="notation">with</span> "H"<span class="id" title="notation">)</span> <span class="id" title="keyword">as</span> %<span class="id" title="var">Hlen</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hlen</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">l</span> <span class="id" title="keyword">as</span> [|<span class="id" title="var">x</span> <span class="id" title="var">l'</span>]; [<span class="id" title="tactic">by</span> <span class="id" title="tactic">inversion</span> <span class="id" title="var">Hlen</span>|].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">l'</span>; [| <span class="id" title="tactic">by</span> <span class="id" title="tactic">inversion</span> <span class="id" title="var">Hlen</span>]. <span class="id" title="var">iExists</span> <span class="id" title="var">x</span>. <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iDestruct</span> "H" <span class="id" title="keyword">as</span> "(H &amp; _)". <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="region_mapsto_split_spec" class="idref" href="#region_mapsto_split_spec"><span class="id" title="lemma">region_mapsto_split_spec</span></a>  (<a id="b:260" class="idref" href="#b:260"><span class="id" title="binder">b</span></a> <a id="e:261" class="idref" href="#e:261"><span class="id" title="binder">e</span></a> <a id="a:262" class="idref" href="#a:262"><span class="id" title="binder">a</span></a> : <a class="idref" href="cap_machine.addr_reg.html#Addr"><span class="id" title="inductive">Addr</span></a>) (<a id="w1:263" class="idref" href="#w1:263"><span class="id" title="binder">w1</span></a> <a id="w2:264" class="idref" href="#w2:264"><span class="id" title="binder">w2</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="cap_machine.machine_base.html#Word"><span class="id" title="inductive">Word</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="cap_machine.region.html#b:260"><span class="id" title="variable">b</span></a> <span class="id" title="notation">≤</span> <a class="idref" href="cap_machine.region.html#a:262"><span class="id" title="variable">a</span></a> <span class="id" title="notation">≤</span> <a class="idref" href="cap_machine.region.html#e:261"><span class="id" title="variable">e</span></a>)%<span class="id" title="var">Z</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">(</span></a><span class="id" title="abbreviation">length</span> <a class="idref" href="cap_machine.region.html#w1:263"><span class="id" title="variable">w1</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">(</span></a><a class="idref" href="cap_machine.region.html#region_size"><span class="id" title="definition">region_size</span></a> <a class="idref" href="cap_machine.region.html#b:260"><span class="id" title="variable">b</span></a> <a class="idref" href="cap_machine.region.html#a:262"><span class="id" title="variable">a</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="cap_machine.region.html#59b6c9ff409f36441fcd5523574b0f83"><span class="id" title="notation">[[</span></a><a class="idref" href="cap_machine.region.html#b:260"><span class="id" title="variable">b</span></a><a class="idref" href="cap_machine.region.html#59b6c9ff409f36441fcd5523574b0f83"><span class="id" title="notation">,</span></a><a class="idref" href="cap_machine.region.html#e:261"><span class="id" title="variable">e</span></a><a class="idref" href="cap_machine.region.html#59b6c9ff409f36441fcd5523574b0f83"><span class="id" title="notation">]]↣ₐ[[</span></a><a class="idref" href="cap_machine.region.html#w1:263"><span class="id" title="variable">w1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <a class="idref" href="cap_machine.region.html#w2:264"><span class="id" title="variable">w2</span></a><a class="idref" href="cap_machine.region.html#59b6c9ff409f36441fcd5523574b0f83"><span class="id" title="notation">]]</span></a> <span class="id" title="notation">⊣⊢</span> <a class="idref" href="cap_machine.region.html#59b6c9ff409f36441fcd5523574b0f83"><span class="id" title="notation">[[</span></a><a class="idref" href="cap_machine.region.html#b:260"><span class="id" title="variable">b</span></a><a class="idref" href="cap_machine.region.html#59b6c9ff409f36441fcd5523574b0f83"><span class="id" title="notation">,</span></a><a class="idref" href="cap_machine.region.html#a:262"><span class="id" title="variable">a</span></a><a class="idref" href="cap_machine.region.html#59b6c9ff409f36441fcd5523574b0f83"><span class="id" title="notation">]]↣ₐ[[</span></a><a class="idref" href="cap_machine.region.html#w1:263"><span class="id" title="variable">w1</span></a><a class="idref" href="cap_machine.region.html#59b6c9ff409f36441fcd5523574b0f83"><span class="id" title="notation">]]</span></a> <span class="id" title="notation">∗</span> <a class="idref" href="cap_machine.region.html#59b6c9ff409f36441fcd5523574b0f83"><span class="id" title="notation">[[</span></a><a class="idref" href="cap_machine.region.html#a:262"><span class="id" title="variable">a</span></a><a class="idref" href="cap_machine.region.html#59b6c9ff409f36441fcd5523574b0f83"><span class="id" title="notation">,</span></a><a class="idref" href="cap_machine.region.html#e:261"><span class="id" title="variable">e</span></a><a class="idref" href="cap_machine.region.html#59b6c9ff409f36441fcd5523574b0f83"><span class="id" title="notation">]]↣ₐ[[</span></a><a class="idref" href="cap_machine.region.html#w2:264"><span class="id" title="variable">w2</span></a><a class="idref" href="cap_machine.region.html#59b6c9ff409f36441fcd5523574b0f83"><span class="id" title="notation">]]</span></a>)%<span class="id" title="var">I</span>.<br/>
&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">with</span> <span class="id" title="tactic">try</span> (<span class="id" title="tactic">rewrite</span> /<a class="idref" href="cap_machine.region.html#region_size"><span class="id" title="definition">region_size</span></a>; <span class="id" title="var">solve_addr</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> [<span class="id" title="var">Hba</span> <span class="id" title="var">Hae</span>] <span class="id" title="var">Hsize</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iSplit</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="var">iIntros</span> "Hbe".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="cap_machine.region.html#region_mapsto_spec"><span class="id" title="definition">region_mapsto_spec</span></a> /<a class="idref" href="cap_machine.region.html#region_addrs"><span class="id" title="definition">region_addrs</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="cap_machine.region.html#region_addrs_aux_decomposition"><span class="id" title="lemma">region_addrs_aux_decomposition</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> (<a class="idref" href="cap_machine.region.html#region_size"><span class="id" title="definition">region_size</span></a> <span class="id" title="var">b</span> <span class="id" title="var">a</span>))...<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iDestruct</span> <span class="id" title="notation">(</span><a class="idref" href="cap_machine.iris_extra.html#big_sepL2_app'"><span class="id" title="lemma">big_sepL2_app'</span></a> <span class="id" title="notation">with</span> "Hbe"<span class="id" title="notation">)</span> <span class="id" title="keyword">as</span> "[Hba Ha'b]".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="cap_machine.region.html#region_addrs_aux_length"><span class="id" title="lemma">region_addrs_aux_length</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">iFrame</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<span class="id" title="var">_</span><a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.ssr.ssreflect.html#::core_scope:x_':'_x"><span class="id" title="notation">:</span></a> <a class="idref" href="cap_machine.addr_reg.html#1d48f14c43e86dff2b7280147a285103"><span class="id" title="notation">^(</span></a><span class="id" title="var">b</span> <a class="idref" href="cap_machine.addr_reg.html#83f9bcf2054d3d441d475f25e3e951c6"><span class="id" title="notation">+</span></a> <a class="idref" href="cap_machine.region.html#region_size"><span class="id" title="definition">region_size</span></a> <span class="id" title="var">b</span> <span class="id" title="var">a</span><a class="idref" href="cap_machine.addr_reg.html#1d48f14c43e86dff2b7280147a285103"><span class="id" title="notation">)</span></a>%<span class="id" title="var">a</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">a</span>)...<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<span class="id" title="var">_</span><a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.ssr.ssreflect.html#::core_scope:x_':'_x"><span class="id" title="notation">:</span></a> <a class="idref" href="cap_machine.region.html#region_size"><span class="id" title="definition">region_size</span></a> <span class="id" title="var">a</span> <span class="id" title="var">e</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="cap_machine.region.html#region_size"><span class="id" title="definition">region_size</span></a> <span class="id" title="var">b</span> <span class="id" title="var">e</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Peano.html#::nat_scope:x_'-'_x"><span class="id" title="notation">-</span></a> <a class="idref" href="cap_machine.region.html#region_size"><span class="id" title="definition">region_size</span></a> <span class="id" title="var">b</span> <span class="id" title="var">a</span>)...<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;todo:&nbsp;turn&nbsp;these&nbsp;two&nbsp;into&nbsp;lemmas&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="var">iIntros</span> "[Hba Hae]".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="cap_machine.region.html#region_mapsto_spec"><span class="id" title="definition">region_mapsto_spec</span></a> /<a class="idref" href="cap_machine.region.html#region_addrs"><span class="id" title="definition">region_addrs</span></a>. <span class="comment">(*&nbsp;todo:&nbsp;use&nbsp;a&nbsp;proper&nbsp;region&nbsp;splitting&nbsp;lemma&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="cap_machine.region.html#region_addrs_aux_decomposition"><span class="id" title="lemma">region_addrs_aux_decomposition</span></a> (<a class="idref" href="cap_machine.region.html#region_size"><span class="id" title="definition">region_size</span></a> <span class="id" title="var">b</span> <span class="id" title="var">e</span>) <span class="id" title="var">_</span> (<a class="idref" href="cap_machine.region.html#region_size"><span class="id" title="definition">region_size</span></a> <span class="id" title="var">b</span> <span class="id" title="var">a</span>))...<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iApply</span> <span class="id" title="notation">(</span><span class="id" title="lemma">big_sepL2_app</span> <span class="id" title="notation">with</span> "Hba [Hae]"<span class="id" title="notation">)</span>; <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<span class="id" title="var">_</span><a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.ssr.ssreflect.html#::core_scope:x_':'_x"><span class="id" title="notation">:</span></a> <a class="idref" href="cap_machine.addr_reg.html#1d48f14c43e86dff2b7280147a285103"><span class="id" title="notation">^(</span></a><span class="id" title="var">b</span> <a class="idref" href="cap_machine.addr_reg.html#83f9bcf2054d3d441d475f25e3e951c6"><span class="id" title="notation">+</span></a> <a class="idref" href="cap_machine.region.html#region_size"><span class="id" title="definition">region_size</span></a> <span class="id" title="var">b</span> <span class="id" title="var">a</span><a class="idref" href="cap_machine.addr_reg.html#1d48f14c43e86dff2b7280147a285103"><span class="id" title="notation">)</span></a>%<span class="id" title="var">a</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">a</span>)...<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<span class="id" title="var">_</span><a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.ssr.ssreflect.html#::core_scope:x_':'_x"><span class="id" title="notation">:</span></a> <a class="idref" href="cap_machine.region.html#region_size"><span class="id" title="definition">region_size</span></a> <span class="id" title="var">b</span> <span class="id" title="var">e</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Peano.html#::nat_scope:x_'-'_x"><span class="id" title="notation">-</span></a> <a class="idref" href="cap_machine.region.html#region_size"><span class="id" title="definition">region_size</span></a> <span class="id" title="var">b</span> <span class="id" title="var">a</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="cap_machine.region.html#region_size"><span class="id" title="definition">region_size</span></a> <span class="id" title="var">a</span> <span class="id" title="var">e</span>)...<br/>
&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>

<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="cap_machine.region.html#region"><span class="id" title="section">region</span></a>.<br/>

<br/>
<span class="id" title="keyword">Global</span> <span class="id" title="keyword">Notation</span> "[[ b , e ]] ↦ₐ [[ ws ]]" := (<a class="idref" href="cap_machine.region.html#region_mapsto"><span class="id" title="definition">region_mapsto</span></a> <span class="id" title="var">b</span> <span class="id" title="var">e</span> <span class="id" title="var">ws</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="tactic">at</span> <span class="id" title="keyword">level</span> 50, <span class="id" title="var">format</span> "[[ b , e ]] ↦ₐ [[ ws ]]") : <span class="id" title="var">bi_scope</span>.<br/>

<br/>
<span class="id" title="keyword">Global</span> <span class="id" title="keyword">Notation</span> "[[ b , e ]] ⊂ₐ [[ b' , e' ]]" := (<a class="idref" href="cap_machine.region.html#included"><span class="id" title="definition">included</span></a> <span class="id" title="var">b</span> <span class="id" title="var">e</span> <span class="id" title="var">b'</span> <span class="id" title="var">e'</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="tactic">at</span> <span class="id" title="keyword">level</span> 50, <span class="id" title="var">format</span> "[[ b , e ]] ⊂ₐ [[ b' , e' ]]") : <span class="id" title="var">bi_scope</span>.<br/>

<br/>
<span class="id" title="keyword">Global</span> <span class="id" title="keyword">Notation</span> "a ∈ₐ [[ b , e ]]" := (<a class="idref" href="cap_machine.region.html#in_range"><span class="id" title="definition">in_range</span></a> <span class="id" title="var">a</span> <span class="id" title="var">b</span> <span class="id" title="var">e</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="tactic">at</span> <span class="id" title="keyword">level</span> 50, <span class="id" title="var">format</span> "a ∈ₐ [[ b , e ]]") : <span class="id" title="var">bi_scope</span>.<br/>

<br/>
<span class="id" title="keyword">Global</span> <span class="id" title="keyword">Notation</span> "[[ b , e ]] ↣ₐ [[ ws ]]" := (<a class="idref" href="cap_machine.region.html#region_mapsto_spec"><span class="id" title="definition">region_mapsto_spec</span></a> <span class="id" title="var">b</span> <span class="id" title="var">e</span> <span class="id" title="var">ws</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="tactic">at</span> <span class="id" title="keyword">level</span> 50, <span class="id" title="var">format</span> "[[ b , e ]] ↣ₐ [[ ws ]]") : <span class="id" title="var">bi_scope</span>.<br/>
</div>
</div>
<div id="footer">
  Generated by <a href="http://coq.inria.fr/">coqdoc</a> and improved with <a href="https://github.com/tebbi/coqdocjs">CoqdocJS</a>
</div>
</div>
</body>

</html>
