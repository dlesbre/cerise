<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">

<head>
<meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
<link href="coqdoc.css" rel="stylesheet" type="text/css" />
<link href="coqdocjs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="config.js"></script>
<script type="text/javascript" src="coqdocjs.js"></script>
</head>

<body onload="document.getElementById('content').focus()">
  <div id="header">
    <span class="left">
      <span class="modulename"> <script> document.write(document.title) </script> </span>
    </span>

    <span class="button" id="toggle-proofs"></span>

    <span class="right">
      <a href="../">Project Page</a>
      <a href="./indexpage.html"> Index </a>
      <a href="./toc.html"> Table of Contents </a>
    </span>
</div>
    <div id="content" tabindex="-1" onblur="document.getElementById('content').focus()">
    <div id="main">
<h1 class="libtitle">cap_machine.addr_reg</h1>

<div class="code">
<span class="id" title="keyword">From</span> <span class="id" title="var">Coq</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Logic.Eqdep_dec.html#"><span class="id" title="library">Eqdep_dec</span></a>. <span class="comment">(*&nbsp;Needed&nbsp;to&nbsp;prove&nbsp;decidable&nbsp;equality&nbsp;on&nbsp;RegName&nbsp;*)</span><br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">Coq.micromega</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.micromega.ZifyClasses.html#"><span class="id" title="library">ZifyClasses</span></a>.<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">stdpp</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <span class="id" title="library">gmap</span> <span class="id" title="library">fin_maps</span> <span class="id" title="library">list</span>.<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">Coq</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.ssr.ssreflect.html#"><span class="id" title="library">ssreflect</span></a>.<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">cap_machine</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="cap_machine.stdpp_extra.html#"><span class="id" title="library">stdpp_extra</span></a>.<br/>

<br/>
<span class="comment">(*&nbsp;We&nbsp;assume&nbsp;a&nbsp;fixed&nbsp;set&nbsp;of&nbsp;registers,&nbsp;and&nbsp;a&nbsp;finite&nbsp;set&nbsp;of&nbsp;memory&nbsp;addresses.<br/>
<br/>
&nbsp;&nbsp;&nbsp;The&nbsp;exact&nbsp;size&nbsp;of&nbsp;the&nbsp;address&nbsp;space&nbsp;does&nbsp;not&nbsp;matter,&nbsp;it&nbsp;could&nbsp;be&nbsp;made&nbsp;a<br/>
&nbsp;&nbsp;&nbsp;parameter&nbsp;of&nbsp;the&nbsp;machine.<br/>
*)</span><br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="RegNum" class="idref" href="#RegNum"><span class="id" title="definition">RegNum</span></a>: <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a> := 31.<br/>
<span class="id" title="keyword">Definition</span> <a id="MemNum" class="idref" href="#MemNum"><span class="id" title="definition">MemNum</span></a>: <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Numbers.BinNums.html#Z"><span class="id" title="inductive">Z</span></a> := 2000000.<br/>

<br/>
<span class="comment">(*&nbsp;----------------------------------&nbsp;Registers&nbsp;----------------------------------------*)</span><br/>

<br/>
<span class="id" title="keyword">Inductive</span> <a id="RegName" class="idref" href="#RegName"><span class="id" title="inductive">RegName</span></a>: <span class="id" title="keyword">Type</span> :=<br/>
| <a id="PC" class="idref" href="#PC"><span class="id" title="constructor">PC</span></a><br/>
| <a id="R" class="idref" href="#R"><span class="id" title="constructor">R</span></a> (<a id="n:3" class="idref" href="#n:3"><span class="id" title="binder">n</span></a>: <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>) (<a id="fin:4" class="idref" href="#fin:4"><span class="id" title="binder">fin</span></a>: <a class="idref" href="cap_machine.addr_reg.html#n:3"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Numbers.Natural.Peano.NPeano.html#0f31f5c1c6b6a21a3a187247222bc9e4"><span class="id" title="notation">&lt;=?</span></a> <a class="idref" href="cap_machine.addr_reg.html#RegNum"><span class="id" title="definition">RegNum</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a>).<br/>

<br/>
<span class="id" title="keyword">Global Instance</span> <a id="reg_eq_dec" class="idref" href="#reg_eq_dec"><span class="id" title="instance">reg_eq_dec</span></a> : <span class="id" title="abbreviation">EqDecision</span> <a class="idref" href="cap_machine.addr_reg.html#RegName"><span class="id" title="inductive">RegName</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">intros</span> <span class="id" title="var">r1</span> <span class="id" title="var">r2</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">r1</span>,<span class="id" title="var">r2</span>; [<span class="id" title="tactic">by</span> <span class="id" title="tactic">left</span> | <span class="id" title="tactic">by</span> <span class="id" title="tactic">right</span> | <span class="id" title="tactic">by</span> <span class="id" title="tactic">right</span> |].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="instance">nat_eq_dec</span> <span class="id" title="var">n</span> <span class="id" title="var">n0</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">subst</span> <span class="id" title="var">n0</span>. <span class="id" title="tactic">left</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="notation">forall</span> <span class="id" title="notation">(</span><a id="b:10" class="idref" href="#b:10"><span class="id" title="binder">b</span></a>: <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Datatypes.html#bool"><span class="id" title="inductive">bool</span></a>) (<a id="n:11" class="idref" href="#n:11"><span class="id" title="binder">n</span></a> <a id="m:12" class="idref" href="#m:12"><span class="id" title="binder">m</span></a>: <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>) (<a id="P1:13" class="idref" href="#P1:13"><span class="id" title="binder">P1</span></a> <a id="P2:14" class="idref" href="#P2:14"><span class="id" title="binder">P2</span></a>: <a class="idref" href="cap_machine.addr_reg.html#n:6"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Numbers.Natural.Peano.NPeano.html#0f31f5c1c6b6a21a3a187247222bc9e4"><span class="id" title="notation">&lt;=?</span></a> <a class="idref" href="cap_machine.addr_reg.html#m:7"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="cap_machine.addr_reg.html#b:5"><span class="id" title="variable">b</span></a><span class="id" title="notation">),</span> <a class="idref" href="cap_machine.addr_reg.html#P1:8"><span class="id" title="variable">P1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="cap_machine.addr_reg.html#P2:9"><span class="id" title="variable">P2</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">intros</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Logic.Eqdep_dec.html#eq_proofs_unicity"><span class="id" title="lemma">eq_proofs_unicity</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>; <span class="id" title="tactic">destruct</span> <span class="id" title="var">x</span>; <span class="id" title="tactic">destruct</span> <span class="id" title="var">y</span>; <span class="id" title="tactic">auto</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<span class="id" title="var">H</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">fin</span> <span class="id" title="var">fin0</span>). <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">right</span>. <span class="id" title="tactic">congruence</span>.<br/>
<span class="id" title="keyword">Defined</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="reg_eq_sym" class="idref" href="#reg_eq_sym"><span class="id" title="lemma">reg_eq_sym</span></a> (<a id="r1:15" class="idref" href="#r1:15"><span class="id" title="binder">r1</span></a> <a id="r2:16" class="idref" href="#r2:16"><span class="id" title="binder">r2</span></a> : <a class="idref" href="cap_machine.addr_reg.html#RegName"><span class="id" title="inductive">RegName</span></a>) : <a class="idref" href="cap_machine.addr_reg.html#r1:15"><span class="id" title="variable">r1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Unicode.Utf8_core.html#eac9b9307401b34847f15ea69bb5957f"><span class="id" title="notation">≠</span></a> <a class="idref" href="cap_machine.addr_reg.html#r2:16"><span class="id" title="variable">r2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="cap_machine.addr_reg.html#r2:16"><span class="id" title="variable">r2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Unicode.Utf8_core.html#eac9b9307401b34847f15ea69bb5957f"><span class="id" title="notation">≠</span></a> <a class="idref" href="cap_machine.addr_reg.html#r1:15"><span class="id" title="variable">r1</span></a>. <span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">auto</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Program Definition</span> <a id="n_to_regname" class="idref" href="#n_to_regname"><span class="id" title="definition">n_to_regname</span></a> (<a id="n:17" class="idref" href="#n:17"><span class="id" title="binder">n</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>) : <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Datatypes.html#option"><span class="id" title="inductive">option</span></a> <a class="idref" href="cap_machine.addr_reg.html#RegName"><span class="id" title="inductive">RegName</span></a> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <span class="id" title="instance">nat_le_dec</span> <a class="idref" href="cap_machine.addr_reg.html#n:17"><span class="id" title="variable">n</span></a> <a class="idref" href="cap_machine.addr_reg.html#RegNum"><span class="id" title="definition">RegNum</span></a> <span class="id" title="keyword">with</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Specif.html#left"><span class="id" title="constructor">left</span></a> <span class="id" title="var">_</span> =&gt; <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> (<a class="idref" href="cap_machine.addr_reg.html#R"><span class="id" title="constructor">R</span></a> <a class="idref" href="cap_machine.addr_reg.html#n:17"><span class="id" title="variable">n</span></a> <span class="id" title="var">_</span>) | <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Specif.html#right"><span class="id" title="constructor">right</span></a> <span class="id" title="var">_</span> =&gt; <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a> <span class="id" title="keyword">end</span>.<br/>
<span class="id" title="keyword">Next</span> <span class="id" title="keyword">Obligation</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Numbers.Natural.Peano.NPeano.html#Nat.leb_le"><span class="id" title="lemma">Nat.leb_le</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
<span class="id" title="keyword">Defined</span>.<br/>

<br/>
<span class="id" title="keyword">Global Instance</span> <a id="reg_countable" class="idref" href="#reg_countable"><span class="id" title="instance">reg_countable</span></a> : <span class="id" title="class">Countable</span> <a class="idref" href="cap_machine.addr_reg.html#RegName"><span class="id" title="inductive">RegName</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">refine</span> {| <span class="id" title="method">encode</span> <a id="r:21" class="idref" href="#r:21"><span class="id" title="binder">r</span></a> := <span class="id" title="method">encode</span> <span class="id" title="keyword">match</span> <a class="idref" href="cap_machine.addr_reg.html#r:18"><span class="id" title="variable">r</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="cap_machine.addr_reg.html#PC"><span class="id" title="constructor">PC</span></a> =&gt; <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Datatypes.html#inl"><span class="id" title="constructor">inl</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Program.Syntax.html#f5cb26d96fc0400fc3c881290947e554"><span class="id" title="notation">()</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="cap_machine.addr_reg.html#R"><span class="id" title="constructor">R</span></a> <span class="id" title="var">n</span> <span class="id" title="var">fin</span> =&gt; <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Datatypes.html#inr"><span class="id" title="constructor">inr</span></a> <span class="id" title="var">n</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span> ;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="method">decode</span> <a id="n:23" class="idref" href="#n:23"><span class="id" title="binder">n</span></a> := <span class="id" title="keyword">match</span> (<span class="id" title="method">decode</span> <a class="idref" href="cap_machine.addr_reg.html#n:20"><span class="id" title="variable">n</span></a>) <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Datatypes.html#inl"><span class="id" title="constructor">inl</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Program.Syntax.html#f5cb26d96fc0400fc3c881290947e554"><span class="id" title="notation">()</span></a>) =&gt; <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="cap_machine.addr_reg.html#PC"><span class="id" title="constructor">PC</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Datatypes.html#inr"><span class="id" title="constructor">inr</span></a> <span class="id" title="var">n</span>) =&gt; <a class="idref" href="cap_machine.addr_reg.html#n_to_regname"><span class="id" title="definition">n_to_regname</span></a> <a class="idref" href="cap_machine.addr_reg.html#n:20"><span class="id" title="variable">n</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a> =&gt; <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span> ;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="method">decode_encode</span> := <span class="id" title="var">_</span> |}.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intro</span> <span class="id" title="var">r</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">r</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="method">decode_encode</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="cap_machine.addr_reg.html#n_to_regname"><span class="id" title="definition">n_to_regname</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="instance">nat_le_dec</span> <span class="id" title="var">n</span> <a class="idref" href="cap_machine.addr_reg.html#RegNum"><span class="id" title="definition">RegNum</span></a>).<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">do</span> 2 <span class="id" title="tactic">f_equal</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Logic.Eqdep_dec.html#eq_proofs_unicity"><span class="id" title="lemma">eq_proofs_unicity</span></a>. <span class="id" title="var">decide</span> <span class="id" title="var">equality</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">exfalso</span>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Numbers.Natural.Peano.NPeano.html#Nat.leb_le"><span class="id" title="lemma">Nat.leb_le</span></a> <span class="id" title="var">n</span> <a class="idref" href="cap_machine.addr_reg.html#RegNum"><span class="id" title="definition">RegNum</span></a>) <span class="id" title="tactic">in</span> <span class="id" title="var">fin</span>.<br/>
<span class="id" title="keyword">Defined</span>.<br/>

<br/>
<span class="comment">(*&nbsp;Instances&nbsp;for&nbsp;<span class="inlinecode"><span class="id" title="var">zify</span></span>:&nbsp;make&nbsp;<span class="inlinecode"><span class="id" title="var">lia</span></span>&nbsp;work&nbsp;on&nbsp;registers&nbsp;*)</span><br/>
<span class="comment">(*&nbsp;TODO:&nbsp;separate&nbsp;the&nbsp;proof&nbsp;parts&nbsp;into&nbsp;lemmas&nbsp;*)</span><br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="Z_of_regname" class="idref" href="#Z_of_regname"><span class="id" title="definition">Z_of_regname</span></a> (<a id="r:24" class="idref" href="#r:24"><span class="id" title="binder">r</span></a>: <a class="idref" href="cap_machine.addr_reg.html#RegName"><span class="id" title="inductive">RegName</span></a>): <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Numbers.BinNums.html#Z"><span class="id" title="inductive">Z</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">r</span>. <span class="id" title="tactic">exact</span> 0.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">exact</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <span class="id" title="var">n</span>).<br/>
<span class="id" title="keyword">Defined</span>.<br/>

<br/>
<span class="id" title="keyword">Instance</span> <a id="RegName_InjTyp" class="idref" href="#RegName_InjTyp"><span class="id" title="instance">RegName_InjTyp</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.micromega.ZifyClasses.html#InjTyp"><span class="id" title="class">InjTyp</span></a> <a class="idref" href="cap_machine.addr_reg.html#RegName"><span class="id" title="inductive">RegName</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Numbers.BinNums.html#Z"><span class="id" title="inductive">Z</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">refine</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.micromega.ZifyClasses.html#mkinj"><span class="id" title="constructor">mkinj</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <a class="idref" href="cap_machine.addr_reg.html#Z_of_regname"><span class="id" title="definition">Z_of_regname</span></a> (<span class="id" title="keyword">fun</span> <a id="n:26" class="idref" href="#n:26"><span class="id" title="binder">n</span></a> =&gt; <a class="idref" href="cap_machine.addr_reg.html#n:25"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.ZArith.BinInt.html#306329b0eca7a2b86c198702f594ad8e"><span class="id" title="notation">&lt;=</span></a> <a class="idref" href="cap_machine.addr_reg.html#RegNum"><span class="id" title="definition">RegNum</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.ZArith.BinInt.html#46584eddd5fdb16176a10a2843177d3a"><span class="id" title="notation">+</span></a> 1)%<span class="id" title="var">Z</span> <span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> [|]. <span class="id" title="var">cbn</span>. <span class="id" title="var">lia</span>. <span class="id" title="var">cbn</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Numbers.Natural.Peano.NPeano.html#Nat.leb_le"><span class="id" title="lemma">Nat.leb_le</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">fin</span>. <span class="id" title="var">lia</span>.<br/>
<span class="id" title="keyword">Defined</span>.<br/>
<span class="id" title="keyword">Add</span> <span class="id" title="var">Zify</span> <span class="id" title="var">InjTyp</span> <a class="idref" href="cap_machine.addr_reg.html#RegName_InjTyp"><span class="id" title="instance">RegName_InjTyp</span></a>.<br/>

<br/>
<span class="id" title="keyword">Instance</span> <a id="Op_RegName_eq" class="idref" href="#Op_RegName_eq"><span class="id" title="instance">Op_RegName_eq</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.micromega.ZifyClasses.html#BinRel"><span class="id" title="class">BinRel</span></a> (@<a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#eq"><span class="id" title="inductive">eq</span></a> <a class="idref" href="cap_machine.addr_reg.html#RegName"><span class="id" title="inductive">RegName</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">refine</span> ({| <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.micromega.ZifyClasses.html#TR"><span class="id" title="method">TR</span></a> := @<a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#eq"><span class="id" title="inductive">eq</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Numbers.BinNums.html#Z"><span class="id" title="inductive">Z</span></a>; <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.micromega.ZifyClasses.html#TRInj"><span class="id" title="method">TRInj</span></a> := <span class="id" title="var">_</span> |}).<br/>
&nbsp;&nbsp;<span class="id" title="var">cbn</span>. <span class="id" title="tactic">intros</span> <span class="id" title="var">r1</span> <span class="id" title="var">r2</span>. <span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> -&gt;; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">destruct</span> <span class="id" title="var">r1</span>; <span class="id" title="tactic">destruct</span> <span class="id" title="var">r2</span>; <span class="id" title="tactic">eauto</span>; <span class="id" title="var">cbn</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Numbers.Natural.Peano.NPeano.html#Nat.leb_le"><span class="id" title="lemma">Nat.leb_le</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">fin</span>; <span class="id" title="tactic">try</span> <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> -&gt;%<a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.ZArith.Znat.html#Nat2Z.inj"><span class="id" title="lemma">Nat2Z.inj</span></a>%<a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Peano.html#eq_add_S"><span class="id" title="definition">eq_add_S</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">f_equal</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Logic.Eqdep_dec.html#eq_proofs_unicity"><span class="id" title="lemma">eq_proofs_unicity</span></a>. <span class="id" title="tactic">intros</span> [|] [|]; <span class="id" title="tactic">eauto</span>.<br/>
<span class="id" title="keyword">Defined</span>.<br/>
<span class="id" title="keyword">Add</span> <span class="id" title="var">Zify</span> <span class="id" title="var">BinRel</span> <a class="idref" href="cap_machine.addr_reg.html#Op_RegName_eq"><span class="id" title="instance">Op_RegName_eq</span></a>.<br/>

<br/>
<span class="comment">(*&nbsp;Names&nbsp;for&nbsp;registers&nbsp;*)</span><br/>
<span class="id" title="keyword">Definition</span> <a id="r_t0" class="idref" href="#r_t0"><span class="id" title="definition">r_t0</span></a> : <a class="idref" href="cap_machine.addr_reg.html#RegName"><span class="id" title="inductive">RegName</span></a> := <a class="idref" href="cap_machine.addr_reg.html#R"><span class="id" title="constructor">R</span></a> 0 <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#eq_refl"><span class="id" title="constructor">eq_refl</span></a>.<br/>
<span class="id" title="keyword">Definition</span> <a id="r_t1" class="idref" href="#r_t1"><span class="id" title="definition">r_t1</span></a> : <a class="idref" href="cap_machine.addr_reg.html#RegName"><span class="id" title="inductive">RegName</span></a> := <a class="idref" href="cap_machine.addr_reg.html#R"><span class="id" title="constructor">R</span></a> 1 <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#eq_refl"><span class="id" title="constructor">eq_refl</span></a>.<br/>
<span class="id" title="keyword">Definition</span> <a id="r_t2" class="idref" href="#r_t2"><span class="id" title="definition">r_t2</span></a> : <a class="idref" href="cap_machine.addr_reg.html#RegName"><span class="id" title="inductive">RegName</span></a> := <a class="idref" href="cap_machine.addr_reg.html#R"><span class="id" title="constructor">R</span></a> 2 <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#eq_refl"><span class="id" title="constructor">eq_refl</span></a>.<br/>
<span class="id" title="keyword">Definition</span> <a id="r_t3" class="idref" href="#r_t3"><span class="id" title="definition">r_t3</span></a> : <a class="idref" href="cap_machine.addr_reg.html#RegName"><span class="id" title="inductive">RegName</span></a> := <a class="idref" href="cap_machine.addr_reg.html#R"><span class="id" title="constructor">R</span></a> 3 <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#eq_refl"><span class="id" title="constructor">eq_refl</span></a>.<br/>
<span class="id" title="keyword">Definition</span> <a id="r_t4" class="idref" href="#r_t4"><span class="id" title="definition">r_t4</span></a> : <a class="idref" href="cap_machine.addr_reg.html#RegName"><span class="id" title="inductive">RegName</span></a> := <a class="idref" href="cap_machine.addr_reg.html#R"><span class="id" title="constructor">R</span></a> 4 <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#eq_refl"><span class="id" title="constructor">eq_refl</span></a>.<br/>
<span class="id" title="keyword">Definition</span> <a id="r_t5" class="idref" href="#r_t5"><span class="id" title="definition">r_t5</span></a> : <a class="idref" href="cap_machine.addr_reg.html#RegName"><span class="id" title="inductive">RegName</span></a> := <a class="idref" href="cap_machine.addr_reg.html#R"><span class="id" title="constructor">R</span></a> 5 <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#eq_refl"><span class="id" title="constructor">eq_refl</span></a>.<br/>
<span class="id" title="keyword">Definition</span> <a id="r_t6" class="idref" href="#r_t6"><span class="id" title="definition">r_t6</span></a> : <a class="idref" href="cap_machine.addr_reg.html#RegName"><span class="id" title="inductive">RegName</span></a> := <a class="idref" href="cap_machine.addr_reg.html#R"><span class="id" title="constructor">R</span></a> 6 <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#eq_refl"><span class="id" title="constructor">eq_refl</span></a>.<br/>
<span class="id" title="keyword">Definition</span> <a id="r_t7" class="idref" href="#r_t7"><span class="id" title="definition">r_t7</span></a> : <a class="idref" href="cap_machine.addr_reg.html#RegName"><span class="id" title="inductive">RegName</span></a> := <a class="idref" href="cap_machine.addr_reg.html#R"><span class="id" title="constructor">R</span></a> 7 <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#eq_refl"><span class="id" title="constructor">eq_refl</span></a>.<br/>
<span class="id" title="keyword">Definition</span> <a id="r_t8" class="idref" href="#r_t8"><span class="id" title="definition">r_t8</span></a> : <a class="idref" href="cap_machine.addr_reg.html#RegName"><span class="id" title="inductive">RegName</span></a> := <a class="idref" href="cap_machine.addr_reg.html#R"><span class="id" title="constructor">R</span></a> 8 <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#eq_refl"><span class="id" title="constructor">eq_refl</span></a>.<br/>
<span class="id" title="keyword">Definition</span> <a id="r_t9" class="idref" href="#r_t9"><span class="id" title="definition">r_t9</span></a> : <a class="idref" href="cap_machine.addr_reg.html#RegName"><span class="id" title="inductive">RegName</span></a> := <a class="idref" href="cap_machine.addr_reg.html#R"><span class="id" title="constructor">R</span></a> 9 <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#eq_refl"><span class="id" title="constructor">eq_refl</span></a>.<br/>
<span class="id" title="keyword">Definition</span> <a id="r_t10" class="idref" href="#r_t10"><span class="id" title="definition">r_t10</span></a> : <a class="idref" href="cap_machine.addr_reg.html#RegName"><span class="id" title="inductive">RegName</span></a> := <a class="idref" href="cap_machine.addr_reg.html#R"><span class="id" title="constructor">R</span></a> 10 <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#eq_refl"><span class="id" title="constructor">eq_refl</span></a>.<br/>
<span class="id" title="keyword">Definition</span> <a id="r_t11" class="idref" href="#r_t11"><span class="id" title="definition">r_t11</span></a> : <a class="idref" href="cap_machine.addr_reg.html#RegName"><span class="id" title="inductive">RegName</span></a> := <a class="idref" href="cap_machine.addr_reg.html#R"><span class="id" title="constructor">R</span></a> 11 <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#eq_refl"><span class="id" title="constructor">eq_refl</span></a>.<br/>
<span class="id" title="keyword">Definition</span> <a id="r_t12" class="idref" href="#r_t12"><span class="id" title="definition">r_t12</span></a> : <a class="idref" href="cap_machine.addr_reg.html#RegName"><span class="id" title="inductive">RegName</span></a> := <a class="idref" href="cap_machine.addr_reg.html#R"><span class="id" title="constructor">R</span></a> 12 <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#eq_refl"><span class="id" title="constructor">eq_refl</span></a>.<br/>
<span class="id" title="keyword">Definition</span> <a id="r_t13" class="idref" href="#r_t13"><span class="id" title="definition">r_t13</span></a> : <a class="idref" href="cap_machine.addr_reg.html#RegName"><span class="id" title="inductive">RegName</span></a> := <a class="idref" href="cap_machine.addr_reg.html#R"><span class="id" title="constructor">R</span></a> 13 <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#eq_refl"><span class="id" title="constructor">eq_refl</span></a>.<br/>
<span class="id" title="keyword">Definition</span> <a id="r_t14" class="idref" href="#r_t14"><span class="id" title="definition">r_t14</span></a> : <a class="idref" href="cap_machine.addr_reg.html#RegName"><span class="id" title="inductive">RegName</span></a> := <a class="idref" href="cap_machine.addr_reg.html#R"><span class="id" title="constructor">R</span></a> 14 <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#eq_refl"><span class="id" title="constructor">eq_refl</span></a>.<br/>
<span class="id" title="keyword">Definition</span> <a id="r_t15" class="idref" href="#r_t15"><span class="id" title="definition">r_t15</span></a> : <a class="idref" href="cap_machine.addr_reg.html#RegName"><span class="id" title="inductive">RegName</span></a> := <a class="idref" href="cap_machine.addr_reg.html#R"><span class="id" title="constructor">R</span></a> 15 <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#eq_refl"><span class="id" title="constructor">eq_refl</span></a>.<br/>
<span class="id" title="keyword">Definition</span> <a id="r_t16" class="idref" href="#r_t16"><span class="id" title="definition">r_t16</span></a> : <a class="idref" href="cap_machine.addr_reg.html#RegName"><span class="id" title="inductive">RegName</span></a> := <a class="idref" href="cap_machine.addr_reg.html#R"><span class="id" title="constructor">R</span></a> 16 <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#eq_refl"><span class="id" title="constructor">eq_refl</span></a>.<br/>
<span class="id" title="keyword">Definition</span> <a id="r_t17" class="idref" href="#r_t17"><span class="id" title="definition">r_t17</span></a> : <a class="idref" href="cap_machine.addr_reg.html#RegName"><span class="id" title="inductive">RegName</span></a> := <a class="idref" href="cap_machine.addr_reg.html#R"><span class="id" title="constructor">R</span></a> 17 <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#eq_refl"><span class="id" title="constructor">eq_refl</span></a>.<br/>
<span class="id" title="keyword">Definition</span> <a id="r_t18" class="idref" href="#r_t18"><span class="id" title="definition">r_t18</span></a> : <a class="idref" href="cap_machine.addr_reg.html#RegName"><span class="id" title="inductive">RegName</span></a> := <a class="idref" href="cap_machine.addr_reg.html#R"><span class="id" title="constructor">R</span></a> 18 <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#eq_refl"><span class="id" title="constructor">eq_refl</span></a>.<br/>
<span class="id" title="keyword">Definition</span> <a id="r_t19" class="idref" href="#r_t19"><span class="id" title="definition">r_t19</span></a> : <a class="idref" href="cap_machine.addr_reg.html#RegName"><span class="id" title="inductive">RegName</span></a> := <a class="idref" href="cap_machine.addr_reg.html#R"><span class="id" title="constructor">R</span></a> 19 <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#eq_refl"><span class="id" title="constructor">eq_refl</span></a>.<br/>
<span class="id" title="keyword">Definition</span> <a id="r_t20" class="idref" href="#r_t20"><span class="id" title="definition">r_t20</span></a> : <a class="idref" href="cap_machine.addr_reg.html#RegName"><span class="id" title="inductive">RegName</span></a> := <a class="idref" href="cap_machine.addr_reg.html#R"><span class="id" title="constructor">R</span></a> 20 <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#eq_refl"><span class="id" title="constructor">eq_refl</span></a>.<br/>
<span class="id" title="keyword">Definition</span> <a id="r_t21" class="idref" href="#r_t21"><span class="id" title="definition">r_t21</span></a> : <a class="idref" href="cap_machine.addr_reg.html#RegName"><span class="id" title="inductive">RegName</span></a> := <a class="idref" href="cap_machine.addr_reg.html#R"><span class="id" title="constructor">R</span></a> 21 <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#eq_refl"><span class="id" title="constructor">eq_refl</span></a>.<br/>
<span class="id" title="keyword">Definition</span> <a id="r_t22" class="idref" href="#r_t22"><span class="id" title="definition">r_t22</span></a> : <a class="idref" href="cap_machine.addr_reg.html#RegName"><span class="id" title="inductive">RegName</span></a> := <a class="idref" href="cap_machine.addr_reg.html#R"><span class="id" title="constructor">R</span></a> 22 <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#eq_refl"><span class="id" title="constructor">eq_refl</span></a>.<br/>
<span class="id" title="keyword">Definition</span> <a id="r_t23" class="idref" href="#r_t23"><span class="id" title="definition">r_t23</span></a> : <a class="idref" href="cap_machine.addr_reg.html#RegName"><span class="id" title="inductive">RegName</span></a> := <a class="idref" href="cap_machine.addr_reg.html#R"><span class="id" title="constructor">R</span></a> 23 <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#eq_refl"><span class="id" title="constructor">eq_refl</span></a>.<br/>
<span class="id" title="keyword">Definition</span> <a id="r_t24" class="idref" href="#r_t24"><span class="id" title="definition">r_t24</span></a> : <a class="idref" href="cap_machine.addr_reg.html#RegName"><span class="id" title="inductive">RegName</span></a> := <a class="idref" href="cap_machine.addr_reg.html#R"><span class="id" title="constructor">R</span></a> 24 <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#eq_refl"><span class="id" title="constructor">eq_refl</span></a>.<br/>
<span class="id" title="keyword">Definition</span> <a id="r_t25" class="idref" href="#r_t25"><span class="id" title="definition">r_t25</span></a> : <a class="idref" href="cap_machine.addr_reg.html#RegName"><span class="id" title="inductive">RegName</span></a> := <a class="idref" href="cap_machine.addr_reg.html#R"><span class="id" title="constructor">R</span></a> 25 <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#eq_refl"><span class="id" title="constructor">eq_refl</span></a>.<br/>
<span class="id" title="keyword">Definition</span> <a id="r_t26" class="idref" href="#r_t26"><span class="id" title="definition">r_t26</span></a> : <a class="idref" href="cap_machine.addr_reg.html#RegName"><span class="id" title="inductive">RegName</span></a> := <a class="idref" href="cap_machine.addr_reg.html#R"><span class="id" title="constructor">R</span></a> 26 <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#eq_refl"><span class="id" title="constructor">eq_refl</span></a>.<br/>
<span class="id" title="keyword">Definition</span> <a id="r_t27" class="idref" href="#r_t27"><span class="id" title="definition">r_t27</span></a> : <a class="idref" href="cap_machine.addr_reg.html#RegName"><span class="id" title="inductive">RegName</span></a> := <a class="idref" href="cap_machine.addr_reg.html#R"><span class="id" title="constructor">R</span></a> 27 <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#eq_refl"><span class="id" title="constructor">eq_refl</span></a>.<br/>
<span class="id" title="keyword">Definition</span> <a id="r_t28" class="idref" href="#r_t28"><span class="id" title="definition">r_t28</span></a> : <a class="idref" href="cap_machine.addr_reg.html#RegName"><span class="id" title="inductive">RegName</span></a> := <a class="idref" href="cap_machine.addr_reg.html#R"><span class="id" title="constructor">R</span></a> 28 <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#eq_refl"><span class="id" title="constructor">eq_refl</span></a>.<br/>
<span class="id" title="keyword">Definition</span> <a id="r_t29" class="idref" href="#r_t29"><span class="id" title="definition">r_t29</span></a> : <a class="idref" href="cap_machine.addr_reg.html#RegName"><span class="id" title="inductive">RegName</span></a> := <a class="idref" href="cap_machine.addr_reg.html#R"><span class="id" title="constructor">R</span></a> 29 <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#eq_refl"><span class="id" title="constructor">eq_refl</span></a>.<br/>
<span class="id" title="keyword">Definition</span> <a id="r_t30" class="idref" href="#r_t30"><span class="id" title="definition">r_t30</span></a> : <a class="idref" href="cap_machine.addr_reg.html#RegName"><span class="id" title="inductive">RegName</span></a> := <a class="idref" href="cap_machine.addr_reg.html#R"><span class="id" title="constructor">R</span></a> 30 <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#eq_refl"><span class="id" title="constructor">eq_refl</span></a>.<br/>
<span class="id" title="keyword">Definition</span> <a id="r_t31" class="idref" href="#r_t31"><span class="id" title="definition">r_t31</span></a> : <a class="idref" href="cap_machine.addr_reg.html#RegName"><span class="id" title="inductive">RegName</span></a> := <a class="idref" href="cap_machine.addr_reg.html#R"><span class="id" title="constructor">R</span></a> 31 <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#eq_refl"><span class="id" title="constructor">eq_refl</span></a>.<br/>

<br/>
<span class="comment">(*&nbsp;A&nbsp;list&nbsp;of&nbsp;all&nbsp;general&nbsp;purpuse&nbsp;registers&nbsp;(if&nbsp;regnum=31)&nbsp;*)</span><br/>
<span class="id" title="keyword">Definition</span> <a id="all_registers" class="idref" href="#all_registers"><span class="id" title="definition">all_registers</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="cap_machine.addr_reg.html#RegName"><span class="id" title="inductive">RegName</span></a> :=<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Lists.List.html#e76c6291366b599375c28eba0aae94bb"><span class="id" title="notation">[</span></a><a class="idref" href="cap_machine.addr_reg.html#r_t0"><span class="id" title="definition">r_t0</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Lists.List.html#e76c6291366b599375c28eba0aae94bb"><span class="id" title="notation">;</span></a><a class="idref" href="cap_machine.addr_reg.html#r_t1"><span class="id" title="definition">r_t1</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Lists.List.html#e76c6291366b599375c28eba0aae94bb"><span class="id" title="notation">;</span></a><a class="idref" href="cap_machine.addr_reg.html#r_t2"><span class="id" title="definition">r_t2</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Lists.List.html#e76c6291366b599375c28eba0aae94bb"><span class="id" title="notation">;</span></a><a class="idref" href="cap_machine.addr_reg.html#r_t3"><span class="id" title="definition">r_t3</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Lists.List.html#e76c6291366b599375c28eba0aae94bb"><span class="id" title="notation">;</span></a><a class="idref" href="cap_machine.addr_reg.html#r_t4"><span class="id" title="definition">r_t4</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Lists.List.html#e76c6291366b599375c28eba0aae94bb"><span class="id" title="notation">;</span></a><a class="idref" href="cap_machine.addr_reg.html#r_t5"><span class="id" title="definition">r_t5</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Lists.List.html#e76c6291366b599375c28eba0aae94bb"><span class="id" title="notation">;</span></a><a class="idref" href="cap_machine.addr_reg.html#r_t6"><span class="id" title="definition">r_t6</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Lists.List.html#e76c6291366b599375c28eba0aae94bb"><span class="id" title="notation">;</span></a><a class="idref" href="cap_machine.addr_reg.html#r_t7"><span class="id" title="definition">r_t7</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Lists.List.html#e76c6291366b599375c28eba0aae94bb"><span class="id" title="notation">;</span></a><a class="idref" href="cap_machine.addr_reg.html#r_t8"><span class="id" title="definition">r_t8</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Lists.List.html#e76c6291366b599375c28eba0aae94bb"><span class="id" title="notation">;</span></a><a class="idref" href="cap_machine.addr_reg.html#r_t9"><span class="id" title="definition">r_t9</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Lists.List.html#e76c6291366b599375c28eba0aae94bb"><span class="id" title="notation">;</span></a><a class="idref" href="cap_machine.addr_reg.html#r_t10"><span class="id" title="definition">r_t10</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Lists.List.html#e76c6291366b599375c28eba0aae94bb"><span class="id" title="notation">;</span></a><a class="idref" href="cap_machine.addr_reg.html#r_t11"><span class="id" title="definition">r_t11</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Lists.List.html#e76c6291366b599375c28eba0aae94bb"><span class="id" title="notation">;</span></a><a class="idref" href="cap_machine.addr_reg.html#r_t12"><span class="id" title="definition">r_t12</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Lists.List.html#e76c6291366b599375c28eba0aae94bb"><span class="id" title="notation">;</span></a><a class="idref" href="cap_machine.addr_reg.html#r_t13"><span class="id" title="definition">r_t13</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Lists.List.html#e76c6291366b599375c28eba0aae94bb"><span class="id" title="notation">;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="cap_machine.addr_reg.html#r_t14"><span class="id" title="definition">r_t14</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Lists.List.html#e76c6291366b599375c28eba0aae94bb"><span class="id" title="notation">;</span></a><a class="idref" href="cap_machine.addr_reg.html#r_t15"><span class="id" title="definition">r_t15</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Lists.List.html#e76c6291366b599375c28eba0aae94bb"><span class="id" title="notation">;</span></a><a class="idref" href="cap_machine.addr_reg.html#r_t16"><span class="id" title="definition">r_t16</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Lists.List.html#e76c6291366b599375c28eba0aae94bb"><span class="id" title="notation">;</span></a><a class="idref" href="cap_machine.addr_reg.html#r_t17"><span class="id" title="definition">r_t17</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Lists.List.html#e76c6291366b599375c28eba0aae94bb"><span class="id" title="notation">;</span></a><a class="idref" href="cap_machine.addr_reg.html#r_t18"><span class="id" title="definition">r_t18</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Lists.List.html#e76c6291366b599375c28eba0aae94bb"><span class="id" title="notation">;</span></a><a class="idref" href="cap_machine.addr_reg.html#r_t19"><span class="id" title="definition">r_t19</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Lists.List.html#e76c6291366b599375c28eba0aae94bb"><span class="id" title="notation">;</span></a><a class="idref" href="cap_machine.addr_reg.html#r_t20"><span class="id" title="definition">r_t20</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Lists.List.html#e76c6291366b599375c28eba0aae94bb"><span class="id" title="notation">;</span></a><a class="idref" href="cap_machine.addr_reg.html#r_t21"><span class="id" title="definition">r_t21</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Lists.List.html#e76c6291366b599375c28eba0aae94bb"><span class="id" title="notation">;</span></a><a class="idref" href="cap_machine.addr_reg.html#r_t22"><span class="id" title="definition">r_t22</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Lists.List.html#e76c6291366b599375c28eba0aae94bb"><span class="id" title="notation">;</span></a><a class="idref" href="cap_machine.addr_reg.html#r_t23"><span class="id" title="definition">r_t23</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Lists.List.html#e76c6291366b599375c28eba0aae94bb"><span class="id" title="notation">;</span></a><a class="idref" href="cap_machine.addr_reg.html#r_t24"><span class="id" title="definition">r_t24</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Lists.List.html#e76c6291366b599375c28eba0aae94bb"><span class="id" title="notation">;</span></a><a class="idref" href="cap_machine.addr_reg.html#r_t25"><span class="id" title="definition">r_t25</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Lists.List.html#e76c6291366b599375c28eba0aae94bb"><span class="id" title="notation">;</span></a><a class="idref" href="cap_machine.addr_reg.html#r_t26"><span class="id" title="definition">r_t26</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Lists.List.html#e76c6291366b599375c28eba0aae94bb"><span class="id" title="notation">;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="cap_machine.addr_reg.html#r_t27"><span class="id" title="definition">r_t27</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Lists.List.html#e76c6291366b599375c28eba0aae94bb"><span class="id" title="notation">;</span></a><a class="idref" href="cap_machine.addr_reg.html#r_t28"><span class="id" title="definition">r_t28</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Lists.List.html#e76c6291366b599375c28eba0aae94bb"><span class="id" title="notation">;</span></a><a class="idref" href="cap_machine.addr_reg.html#r_t29"><span class="id" title="definition">r_t29</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Lists.List.html#e76c6291366b599375c28eba0aae94bb"><span class="id" title="notation">;</span></a><a class="idref" href="cap_machine.addr_reg.html#r_t30"><span class="id" title="definition">r_t30</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Lists.List.html#e76c6291366b599375c28eba0aae94bb"><span class="id" title="notation">;</span></a><a class="idref" href="cap_machine.addr_reg.html#r_t31"><span class="id" title="definition">r_t31</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Lists.List.html#e76c6291366b599375c28eba0aae94bb"><span class="id" title="notation">;</span></a><a class="idref" href="cap_machine.addr_reg.html#PC"><span class="id" title="constructor">PC</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Lists.List.html#e76c6291366b599375c28eba0aae94bb"><span class="id" title="notation">]</span></a>.<br/>

<br/>
<span class="comment">(*&nbsp;Set&nbsp;of&nbsp;all&nbsp;registers&nbsp;*)</span><br/>
<span class="id" title="keyword">Definition</span> <a id="all_registers_s" class="idref" href="#all_registers_s"><span class="id" title="definition">all_registers_s</span></a> : <span class="id" title="definition">gset</span> <a class="idref" href="cap_machine.addr_reg.html#RegName"><span class="id" title="inductive">RegName</span></a> := <span class="id" title="definition">list_to_set</span> <a class="idref" href="cap_machine.addr_reg.html#all_registers"><span class="id" title="definition">all_registers</span></a>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="all_registers_NoDup" class="idref" href="#all_registers_NoDup"><span class="id" title="lemma">all_registers_NoDup</span></a> :<br/>
&nbsp;&nbsp;<span class="id" title="inductive">NoDup</span> <a class="idref" href="cap_machine.addr_reg.html#all_registers"><span class="id" title="definition">all_registers</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="cap_machine.addr_reg.html#all_registers"><span class="id" title="definition">all_registers</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> (<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="constructor">NoDup_cons_2</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">first</span> (<span class="id" title="tactic">repeat</span> (<span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">not_elem_of_cons</span>; <span class="id" title="tactic">split</span>; [<span class="id" title="var">done</span>|]); <span class="id" title="tactic">apply</span> <span class="id" title="lemma">not_elem_of_nil</span>)<br/>
&nbsp;&nbsp;).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <span class="id" title="lemma">NoDup_nil</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="comment">(*&nbsp;Spec&nbsp;for&nbsp;all_registers&nbsp;*)</span><br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="all_registers_correct" class="idref" href="#all_registers_correct"><span class="id" title="lemma">all_registers_correct</span></a> <a id="r1:27" class="idref" href="#r1:27"><span class="id" title="binder">r1</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.addr_reg.html#r1:27"><span class="id" title="variable">r1</span></a> <span class="id" title="notation">∈</span> <a class="idref" href="cap_machine.addr_reg.html#all_registers"><span class="id" title="definition">all_registers</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="cap_machine.addr_reg.html#all_registers"><span class="id" title="definition">all_registers</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">r1</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">do</span> 32 (<span class="id" title="tactic">apply</span> <span class="id" title="lemma">elem_of_cons</span>; <span class="id" title="tactic">right</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <span class="id" title="lemma">elem_of_list_singleton</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">induction</span> <span class="id" title="var">n</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> <span class="id" title="lemma">elem_of_cons</span>; <span class="id" title="tactic">left</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#f_equal"><span class="id" title="lemma">f_equal</span></a>. <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Logic.Eqdep_dec.html#eq_proofs_unicity"><span class="id" title="lemma">eq_proofs_unicity</span></a>. <span class="id" title="var">decide</span> <span class="id" title="var">equality</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> <span class="id" title="lemma">elem_of_list_lookup_2</span> <span class="id" title="keyword">with</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <span class="id" title="var">n</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> (<span class="id" title="tactic">destruct</span> <span class="id" title="var">n</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">first</span> (<span class="id" title="tactic">simpl</span>;<span class="id" title="tactic">do</span> 2 <span class="id" title="tactic">f_equal</span>;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Logic.Eqdep_dec.html#eq_proofs_unicity"><span class="id" title="lemma">eq_proofs_unicity</span></a>;<span class="id" title="var">decide</span> <span class="id" title="var">equality</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> *. <span class="id" title="tactic">inversion</span> <span class="id" title="var">fin</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="all_registers_s_correct" class="idref" href="#all_registers_s_correct"><span class="id" title="lemma">all_registers_s_correct</span></a> <a id="r:28" class="idref" href="#r:28"><span class="id" title="binder">r</span></a>:<br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.addr_reg.html#r:28"><span class="id" title="variable">r</span></a> <span class="id" title="notation">∈</span> <a class="idref" href="cap_machine.addr_reg.html#all_registers_s"><span class="id" title="definition">all_registers_s</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="cap_machine.addr_reg.html#all_registers_s"><span class="id" title="definition">all_registers_s</span></a> <span class="id" title="lemma">elem_of_list_to_set</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="cap_machine.addr_reg.html#all_registers_correct"><span class="id" title="lemma">all_registers_correct</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Instance</span> <a id="setunfold_all_regs" class="idref" href="#setunfold_all_regs"><span class="id" title="instance">setunfold_all_regs</span></a>:<br/>
&nbsp;&nbsp;<span class="id" title="notation">forall</span> <a id="x:29" class="idref" href="#x:29"><span class="id" title="binder">x</span></a><span class="id" title="notation">,</span> <span class="id" title="class">SetUnfoldElemOf</span> <a class="idref" href="cap_machine.addr_reg.html#x:29"><span class="id" title="variable">x</span></a> <a class="idref" href="cap_machine.addr_reg.html#all_registers_s"><span class="id" title="definition">all_registers_s</span></a> <span class="id" title="notation">True</span>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="tactic">constructor</span>. <span class="id" title="tactic">split</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intro</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="cap_machine.addr_reg.html#all_registers_s_correct"><span class="id" title="lemma">all_registers_s_correct</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="all_registers_union_l" class="idref" href="#all_registers_union_l"><span class="id" title="lemma">all_registers_union_l</span></a> <a id="s:30" class="idref" href="#s:30"><span class="id" title="binder">s</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.addr_reg.html#s:30"><span class="id" title="variable">s</span></a> <span class="id" title="notation">∪</span> <a class="idref" href="cap_machine.addr_reg.html#all_registers_s"><span class="id" title="definition">all_registers_s</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="cap_machine.addr_reg.html#all_registers_s"><span class="id" title="definition">all_registers_s</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> (<span class="id" title="definition">anti_symm</span> <span class="id" title="var">_</span>). 2: <span class="id" title="var">set_solver</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">elem_of_subseteq</span>. <span class="id" title="tactic">intros</span> ? <span class="id" title="var">_</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="cap_machine.addr_reg.html#all_registers_s_correct"><span class="id" title="lemma">all_registers_s_correct</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="all_registers_union_r" class="idref" href="#all_registers_union_r"><span class="id" title="lemma">all_registers_union_r</span></a> <a id="s:31" class="idref" href="#s:31"><span class="id" title="binder">s</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.addr_reg.html#all_registers_s"><span class="id" title="definition">all_registers_s</span></a> <span class="id" title="notation">∪</span> <a class="idref" href="cap_machine.addr_reg.html#s:31"><span class="id" title="variable">s</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="cap_machine.addr_reg.html#all_registers_s"><span class="id" title="definition">all_registers_s</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="instance">union_comm_L</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="cap_machine.addr_reg.html#all_registers_union_l"><span class="id" title="lemma">all_registers_union_l</span></a>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="all_registers_subseteq" class="idref" href="#all_registers_subseteq"><span class="id" title="lemma">all_registers_subseteq</span></a> <a id="s:32" class="idref" href="#s:32"><span class="id" title="binder">s</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.addr_reg.html#s:32"><span class="id" title="variable">s</span></a> <span class="id" title="notation">⊆</span> <a class="idref" href="cap_machine.addr_reg.html#all_registers_s"><span class="id" title="definition">all_registers_s</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">elem_of_subseteq</span>. <span class="id" title="tactic">intros</span> ? <span class="id" title="var">_</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="cap_machine.addr_reg.html#all_registers_s_correct"><span class="id" title="lemma">all_registers_s_correct</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="regmap_full_dom" class="idref" href="#regmap_full_dom"><span class="id" title="lemma">regmap_full_dom</span></a> {<a id="A:33" class="idref" href="#A:33"><span class="id" title="binder">A</span></a>} (<a id="r:34" class="idref" href="#r:34"><span class="id" title="binder">r</span></a>: <span class="id" title="record">gmap</span> <a class="idref" href="cap_machine.addr_reg.html#RegName"><span class="id" title="inductive">RegName</span></a> <a class="idref" href="cap_machine.addr_reg.html#A:33"><span class="id" title="variable">A</span></a>):<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">∀</span></a> <a id="x:35" class="idref" href="#x:35"><span class="id" title="binder">x</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">,</span></a> <span class="id" title="definition">is_Some</span> (<a class="idref" href="cap_machine.addr_reg.html#r:34"><span class="id" title="variable">r</span></a> <span class="id" title="notation">!!</span> <a class="idref" href="cap_machine.addr_reg.html#x:35"><span class="id" title="variable">x</span></a>)<a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<span class="id" title="definition">dom</span> (<span class="id" title="definition">gset</span> <a class="idref" href="cap_machine.addr_reg.html#RegName"><span class="id" title="inductive">RegName</span></a>) <a class="idref" href="cap_machine.addr_reg.html#r:34"><span class="id" title="variable">r</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="cap_machine.addr_reg.html#all_registers_s"><span class="id" title="definition">all_registers_s</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Hfull</span>. <span class="id" title="tactic">apply</span> (<span class="id" title="definition">anti_symm</span> <span class="id" title="var">_</span>); <span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">elem_of_subseteq</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> <span class="id" title="var">rr</span> <span class="id" title="var">_</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="cap_machine.addr_reg.html#all_registers_s_correct"><span class="id" title="lemma">all_registers_s_correct</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> <span class="id" title="var">rr</span> <span class="id" title="var">_</span>. <span class="id" title="tactic">rewrite</span> -<a class="idref" href="cap_machine.stdpp_extra.html#elem_of_gmap_dom"><span class="id" title="lemma">elem_of_gmap_dom</span></a>. <span class="id" title="tactic">apply</span> <span class="id" title="var">Hfull</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="comment">(*&nbsp;--------------------------------&nbsp;Memory&nbsp;addresses&nbsp;-----------------------------------*)</span><br/>

<br/>
<span class="id" title="keyword">Inductive</span> <a id="Addr" class="idref" href="#Addr"><span class="id" title="inductive">Addr</span></a>: <span class="id" title="keyword">Type</span> :=<br/>
| <a id="A" class="idref" href="#A"><span class="id" title="constructor">A</span></a> (<a id="z:38" class="idref" href="#z:38"><span class="id" title="binder">z</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Numbers.BinNums.html#Z"><span class="id" title="inductive">Z</span></a>) (<a id="fin:39" class="idref" href="#fin:39"><span class="id" title="binder">fin</span></a>: <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.ZArith.BinInt.html#Z.leb"><span class="id" title="definition">Z.leb</span></a> <a class="idref" href="cap_machine.addr_reg.html#z:38"><span class="id" title="variable">z</span></a> <a class="idref" href="cap_machine.addr_reg.html#MemNum"><span class="id" title="definition">MemNum</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a>) (<a id="pos:40" class="idref" href="#pos:40"><span class="id" title="binder">pos</span></a>: <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.ZArith.BinInt.html#Z.leb"><span class="id" title="definition">Z.leb</span></a> 0 <a class="idref" href="cap_machine.addr_reg.html#z:38"><span class="id" title="variable">z</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a>).<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="z_of" class="idref" href="#z_of"><span class="id" title="definition">z_of</span></a> (<a id="a:41" class="idref" href="#a:41"><span class="id" title="binder">a</span></a>: <a class="idref" href="cap_machine.addr_reg.html#Addr"><span class="id" title="inductive">Addr</span></a>): <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Numbers.BinNums.html#Z"><span class="id" title="inductive">Z</span></a> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="cap_machine.addr_reg.html#a:41"><span class="id" title="variable">a</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;| <a class="idref" href="cap_machine.addr_reg.html#A"><span class="id" title="constructor">A</span></a> <span class="id" title="var">z</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> =&gt; <span class="id" title="var">z</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="id" title="keyword">Coercion</span> <a class="idref" href="cap_machine.addr_reg.html#z_of"><span class="id" title="definition">z_of</span></a><a class="idref" href="cap_machine.addr_reg.html#z_of"><span class="id" title="definition">:</span></a> <a class="idref" href="cap_machine.addr_reg.html#z_of"><span class="id" title="definition">Addr</span></a> <a class="idref" href="cap_machine.addr_reg.html#z_of"><span class="id" title="definition">&gt;-&gt;</span></a> <a class="idref" href="cap_machine.addr_reg.html#z_of"><span class="id" title="definition">Z</span></a>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="z_of_eq" class="idref" href="#z_of_eq"><span class="id" title="lemma">z_of_eq</span></a> <a id="a1:43" class="idref" href="#a1:43"><span class="id" title="binder">a1</span></a> <a id="a2:44" class="idref" href="#a2:44"><span class="id" title="binder">a2</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.addr_reg.html#z_of"><span class="id" title="definition">z_of</span></a> <a class="idref" href="cap_machine.addr_reg.html#a1:43"><span class="id" title="variable">a1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="cap_machine.addr_reg.html#z_of"><span class="id" title="definition">z_of</span></a> <a class="idref" href="cap_machine.addr_reg.html#a2:44"><span class="id" title="variable">a2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.addr_reg.html#a1:43"><span class="id" title="variable">a1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="cap_machine.addr_reg.html#a2:44"><span class="id" title="variable">a2</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">a1</span>, <span class="id" title="var">a2</span>; <span class="id" title="var">cbn</span>. <span class="id" title="tactic">intros</span> -&gt;.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="tactic">f_equal</span>; <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Logic.Eqdep_dec.html#eq_proofs_unicity"><span class="id" title="lemma">eq_proofs_unicity</span></a>; <span class="id" title="var">decide</span> <span class="id" title="var">equality</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="eq_z_of" class="idref" href="#eq_z_of"><span class="id" title="lemma">eq_z_of</span></a> <a id="a1:45" class="idref" href="#a1:45"><span class="id" title="binder">a1</span></a> <a id="a2:46" class="idref" href="#a2:46"><span class="id" title="binder">a2</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.addr_reg.html#a1:45"><span class="id" title="variable">a1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="cap_machine.addr_reg.html#a2:46"><span class="id" title="variable">a2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.addr_reg.html#z_of"><span class="id" title="definition">z_of</span></a> <a class="idref" href="cap_machine.addr_reg.html#a1:45"><span class="id" title="variable">a1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="cap_machine.addr_reg.html#z_of"><span class="id" title="definition">z_of</span></a> <a class="idref" href="cap_machine.addr_reg.html#a2:46"><span class="id" title="variable">a2</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">a1</span>; <span class="id" title="tactic">destruct</span> <span class="id" title="var">a2</span>. <span class="id" title="tactic">congruence</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="z_of_neq" class="idref" href="#z_of_neq"><span class="id" title="lemma">z_of_neq</span></a> <a id="a1:47" class="idref" href="#a1:47"><span class="id" title="binder">a1</span></a> <a id="a2:48" class="idref" href="#a2:48"><span class="id" title="binder">a2</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.addr_reg.html#z_of"><span class="id" title="definition">z_of</span></a> <a class="idref" href="cap_machine.addr_reg.html#a1:47"><span class="id" title="variable">a1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;&gt;'_x"><span class="id" title="notation">&lt;&gt;</span></a> <a class="idref" href="cap_machine.addr_reg.html#z_of"><span class="id" title="definition">z_of</span></a> <a class="idref" href="cap_machine.addr_reg.html#a2:48"><span class="id" title="variable">a2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.addr_reg.html#a1:47"><span class="id" title="variable">a1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;&gt;'_x"><span class="id" title="notation">&lt;&gt;</span></a> <a class="idref" href="cap_machine.addr_reg.html#a2:48"><span class="id" title="variable">a2</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">red</span>; <span class="id" title="tactic">intros</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">H0</span>; <span class="id" title="tactic">reflexivity</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="neq_z_of" class="idref" href="#neq_z_of"><span class="id" title="lemma">neq_z_of</span></a> <a id="a1:49" class="idref" href="#a1:49"><span class="id" title="binder">a1</span></a> <a id="a2:50" class="idref" href="#a2:50"><span class="id" title="binder">a2</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.addr_reg.html#a1:49"><span class="id" title="variable">a1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Unicode.Utf8_core.html#eac9b9307401b34847f15ea69bb5957f"><span class="id" title="notation">≠</span></a> <a class="idref" href="cap_machine.addr_reg.html#a2:50"><span class="id" title="variable">a2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Unicode.Utf8_core.html#eac9b9307401b34847f15ea69bb5957f"><span class="id" title="notation">(</span></a><a class="idref" href="cap_machine.addr_reg.html#z_of"><span class="id" title="definition">z_of</span></a> <a class="idref" href="cap_machine.addr_reg.html#a1:49"><span class="id" title="variable">a1</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Unicode.Utf8_core.html#eac9b9307401b34847f15ea69bb5957f"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Unicode.Utf8_core.html#eac9b9307401b34847f15ea69bb5957f"><span class="id" title="notation">≠</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Unicode.Utf8_core.html#eac9b9307401b34847f15ea69bb5957f"><span class="id" title="notation">(</span></a><a class="idref" href="cap_machine.addr_reg.html#z_of"><span class="id" title="definition">z_of</span></a> <a class="idref" href="cap_machine.addr_reg.html#a2:50"><span class="id" title="variable">a2</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Unicode.Utf8_core.html#eac9b9307401b34847f15ea69bb5957f"><span class="id" title="notation">)</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">intros</span>. <span class="id" title="tactic">intros</span> <span class="id" title="var">Heq</span>%<a class="idref" href="cap_machine.addr_reg.html#z_of_eq"><span class="id" title="lemma">z_of_eq</span></a>. <span class="id" title="tactic">congruence</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Global Instance</span> <a id="addr_eq_dec" class="idref" href="#addr_eq_dec"><span class="id" title="instance">addr_eq_dec</span></a>: <span class="id" title="abbreviation">EqDecision</span> <a class="idref" href="cap_machine.addr_reg.html#Addr"><span class="id" title="inductive">Addr</span></a>.<br/>
<span class="id" title="tactic">intros</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">x</span>,<span class="id" title="var">y</span>. <span class="id" title="tactic">destruct</span> (<span class="id" title="instance">Z_eq_dec</span> <span class="id" title="var">z</span> <span class="id" title="var">z0</span>).<br/>
- <span class="id" title="tactic">left</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="cap_machine.addr_reg.html#z_of_eq"><span class="id" title="lemma">z_of_eq</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
- <span class="id" title="tactic">right</span>. <span class="id" title="tactic">inversion</span> 1. <span class="id" title="var">simplify_eq</span>.<br/>
<span class="id" title="keyword">Defined</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="z_to_addr" class="idref" href="#z_to_addr"><span class="id" title="definition">z_to_addr</span></a> (<a id="z:51" class="idref" href="#z:51"><span class="id" title="binder">z</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Numbers.BinNums.html#Z"><span class="id" title="inductive">Z</span></a>) : <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Datatypes.html#option"><span class="id" title="inductive">option</span></a> <a class="idref" href="cap_machine.addr_reg.html#Addr"><span class="id" title="inductive">Addr</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="instance">Z_le_dec</span> <span class="id" title="var">z</span> <a class="idref" href="cap_machine.addr_reg.html#MemNum"><span class="id" title="definition">MemNum</span></a>),(<span class="id" title="instance">Z_le_dec</span> 0 <span class="id" title="var">z</span>).<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.ZArith.BinInt.html#Z.leb_le"><span class="id" title="lemma">Z.leb_le</span></a> <span class="id" title="var">z</span> <a class="idref" href="cap_machine.addr_reg.html#MemNum"><span class="id" title="definition">MemNum</span></a>) <span class="id" title="tactic">in</span> <span class="id" title="var">l</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.ZArith.BinInt.html#Z.leb_le"><span class="id" title="lemma">Z.leb_le</span></a> 0 <span class="id" title="var">z</span>) <span class="id" title="tactic">in</span> <span class="id" title="var">l0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exact</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> (<a class="idref" href="cap_machine.addr_reg.html#A"><span class="id" title="constructor">A</span></a> <span class="id" title="var">z</span> <span class="id" title="var">l</span> <span class="id" title="var">l0</span>)).<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">exact</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">exact</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">exact</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a>.<br/>
<span class="id" title="keyword">Defined</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="addr_spec" class="idref" href="#addr_spec"><span class="id" title="lemma">addr_spec</span></a> (<a id="a:52" class="idref" href="#a:52"><span class="id" title="binder">a</span></a>: <a class="idref" href="cap_machine.addr_reg.html#Addr"><span class="id" title="inductive">Addr</span></a>) : (<a class="idref" href="cap_machine.addr_reg.html#a:52"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.ZArith.BinInt.html#306329b0eca7a2b86c198702f594ad8e"><span class="id" title="notation">&lt;=</span></a> <a class="idref" href="cap_machine.addr_reg.html#MemNum"><span class="id" title="definition">MemNum</span></a>)%<span class="id" title="var">Z</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Unicode.Utf8_core.html#3668992ecc3e95973d304a75a28051a2"><span class="id" title="notation">∧</span></a> (0 <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.ZArith.BinInt.html#306329b0eca7a2b86c198702f594ad8e"><span class="id" title="notation">&lt;=</span></a> <a class="idref" href="cap_machine.addr_reg.html#a:52"><span class="id" title="variable">a</span></a>)%<span class="id" title="var">Z</span>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">a</span>. <span class="id" title="var">cbn</span>. <span class="id" title="tactic">rewrite</span> -&gt; <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.ZArith.BinInt.html#Z.leb_le"><span class="id" title="lemma">Z.leb_le</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">fin</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -&gt; <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.ZArith.BinInt.html#Z.leb_le"><span class="id" title="lemma">Z.leb_le</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">pos</span>. <span class="id" title="var">lia</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="z_to_addr_z_of" class="idref" href="#z_to_addr_z_of"><span class="id" title="lemma">z_to_addr_z_of</span></a> (<a id="a:53" class="idref" href="#a:53"><span class="id" title="binder">a</span></a>:<a class="idref" href="cap_machine.addr_reg.html#Addr"><span class="id" title="inductive">Addr</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.addr_reg.html#z_to_addr"><span class="id" title="definition">z_to_addr</span></a> <a class="idref" href="cap_machine.addr_reg.html#a:53"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="cap_machine.addr_reg.html#a:53"><span class="id" title="variable">a</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">generalize</span> (<a class="idref" href="cap_machine.addr_reg.html#addr_spec"><span class="id" title="lemma">addr_spec</span></a> <span class="id" title="var">a</span>); <span class="id" title="tactic">intros</span> [? ?].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">set</span> (<span class="id" title="var">z</span> := (<a class="idref" href="cap_machine.addr_reg.html#z_of"><span class="id" title="definition">z_of</span></a> <span class="id" title="var">a</span>)) <span class="id" title="tactic">in</span> *.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="cap_machine.addr_reg.html#z_to_addr"><span class="id" title="definition">z_to_addr</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="instance">Z_le_dec</span> <span class="id" title="var">z</span> <a class="idref" href="cap_machine.addr_reg.html#MemNum"><span class="id" title="definition">MemNum</span></a>) <span class="id" title="var">eqn</span>:?;<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="instance">Z_le_dec</span> 0 <span class="id" title="var">z</span>) <span class="id" title="var">eqn</span>:?.<br/>
&nbsp;&nbsp;{ <span class="id" title="tactic">f_equal</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="cap_machine.addr_reg.html#z_of_eq"><span class="id" title="lemma">z_of_eq</span></a>. <span class="id" title="var">cbn</span>. <span class="id" title="var">lia</span>. }<br/>
&nbsp;&nbsp;<span class="id" title="var">all</span>: <span class="id" title="var">lia</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="z_to_addr_eq_inv" class="idref" href="#z_to_addr_eq_inv"><span class="id" title="lemma">z_to_addr_eq_inv</span></a> (<a id="a:54" class="idref" href="#a:54"><span class="id" title="binder">a</span></a> <a id="b:55" class="idref" href="#b:55"><span class="id" title="binder">b</span></a>:<a class="idref" href="cap_machine.addr_reg.html#Addr"><span class="id" title="inductive">Addr</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.addr_reg.html#z_to_addr"><span class="id" title="definition">z_to_addr</span></a> <a class="idref" href="cap_machine.addr_reg.html#a:54"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="cap_machine.addr_reg.html#b:55"><span class="id" title="variable">b</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="cap_machine.addr_reg.html#a:54"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="cap_machine.addr_reg.html#b:55"><span class="id" title="variable">b</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="cap_machine.addr_reg.html#z_to_addr_z_of"><span class="id" title="lemma">z_to_addr_z_of</span></a>. <span class="id" title="var">naive_solver</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Global Instance</span> <a id="addr_countable" class="idref" href="#addr_countable"><span class="id" title="instance">addr_countable</span></a> : <span class="id" title="class">Countable</span> <a class="idref" href="cap_machine.addr_reg.html#Addr"><span class="id" title="inductive">Addr</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">refine</span> {| <span class="id" title="method">encode</span> <a id="r:58" class="idref" href="#r:58"><span class="id" title="binder">r</span></a> := <span class="id" title="method">encode</span> (<a class="idref" href="cap_machine.addr_reg.html#z_of"><span class="id" title="definition">z_of</span></a> <a class="idref" href="cap_machine.addr_reg.html#r:56"><span class="id" title="variable">r</span></a>) ;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="method">decode</span> <a id="n:59" class="idref" href="#n:59"><span class="id" title="binder">n</span></a> := <span class="id" title="keyword">match</span> (<span class="id" title="method">decode</span> <a class="idref" href="cap_machine.addr_reg.html#n:57"><span class="id" title="variable">n</span></a>) <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <span class="id" title="var">z</span> =&gt; <a class="idref" href="cap_machine.addr_reg.html#z_to_addr"><span class="id" title="definition">z_to_addr</span></a> <span class="id" title="var">z</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a> =&gt; <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span> ;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="method">decode_encode</span> := <span class="id" title="var">_</span> |}.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intro</span> <span class="id" title="var">r</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">r</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="method">decode_encode</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="cap_machine.addr_reg.html#z_to_addr"><span class="id" title="definition">z_to_addr</span></a>. <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="instance">Z_le_dec</span> <span class="id" title="var">z</span> <a class="idref" href="cap_machine.addr_reg.html#MemNum"><span class="id" title="definition">MemNum</span></a>),(<span class="id" title="instance">Z_le_dec</span> 0 <span class="id" title="var">z</span>).<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">repeat</span> <span class="id" title="tactic">f_equal</span>; <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Logic.Eqdep_dec.html#eq_proofs_unicity"><span class="id" title="lemma">eq_proofs_unicity</span></a>; <span class="id" title="var">decide</span> <span class="id" title="var">equality</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">exfalso</span>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.ZArith.BinInt.html#Z.leb_le"><span class="id" title="lemma">Z.leb_le</span></a> 0 <span class="id" title="var">z</span>) <span class="id" title="tactic">in</span> <span class="id" title="var">pos</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">exfalso</span>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.ZArith.BinInt.html#Z.leb_le"><span class="id" title="lemma">Z.leb_le</span></a> <span class="id" title="var">z</span> <a class="idref" href="cap_machine.addr_reg.html#MemNum"><span class="id" title="definition">MemNum</span></a>) <span class="id" title="tactic">in</span> <span class="id" title="var">fin</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">exfalso</span>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.ZArith.BinInt.html#Z.leb_le"><span class="id" title="lemma">Z.leb_le</span></a> <span class="id" title="var">z</span> <a class="idref" href="cap_machine.addr_reg.html#MemNum"><span class="id" title="definition">MemNum</span></a>) <span class="id" title="tactic">in</span> <span class="id" title="var">fin</span>.<br/>
<span class="id" title="keyword">Defined</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="le_lt_addr" class="idref" href="#le_lt_addr"><span class="id" title="definition">le_lt_addr</span></a> : <a class="idref" href="cap_machine.addr_reg.html#Addr"><span class="id" title="inductive">Addr</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="cap_machine.addr_reg.html#Addr"><span class="id" title="inductive">Addr</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="cap_machine.addr_reg.html#Addr"><span class="id" title="inductive">Addr</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <span class="id" title="keyword">Prop</span> :=<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="a1:60" class="idref" href="#a1:60"><span class="id" title="binder">a1</span></a> <a id="a2:61" class="idref" href="#a2:61"><span class="id" title="binder">a2</span></a> <a id="a3:62" class="idref" href="#a3:62"><span class="id" title="binder">a3</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> (<a class="idref" href="cap_machine.addr_reg.html#a1:60"><span class="id" title="variable">a1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.ZArith.BinInt.html#bdb3edde5f841a282ce8fc1b00e3d211"><span class="id" title="notation">&lt;=</span></a> <a class="idref" href="cap_machine.addr_reg.html#a2:61"><span class="id" title="variable">a2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.ZArith.BinInt.html#bdb3edde5f841a282ce8fc1b00e3d211"><span class="id" title="notation">&lt;</span></a> <a class="idref" href="cap_machine.addr_reg.html#a3:62"><span class="id" title="variable">a3</span></a>)%<span class="id" title="var">Z</span>.<br/>
<span class="id" title="keyword">Definition</span> <a id="le_addr" class="idref" href="#le_addr"><span class="id" title="definition">le_addr</span></a> : <a class="idref" href="cap_machine.addr_reg.html#Addr"><span class="id" title="inductive">Addr</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="cap_machine.addr_reg.html#Addr"><span class="id" title="inductive">Addr</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <span class="id" title="keyword">Prop</span> :=<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="a1:63" class="idref" href="#a1:63"><span class="id" title="binder">a1</span></a> <a id="a2:64" class="idref" href="#a2:64"><span class="id" title="binder">a2</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> (<a class="idref" href="cap_machine.addr_reg.html#a1:63"><span class="id" title="variable">a1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.ZArith.BinInt.html#306329b0eca7a2b86c198702f594ad8e"><span class="id" title="notation">&lt;=</span></a> <a class="idref" href="cap_machine.addr_reg.html#a2:64"><span class="id" title="variable">a2</span></a>)%<span class="id" title="var">Z</span>.<br/>
<span class="id" title="keyword">Definition</span> <a id="lt_addr" class="idref" href="#lt_addr"><span class="id" title="definition">lt_addr</span></a> : <a class="idref" href="cap_machine.addr_reg.html#Addr"><span class="id" title="inductive">Addr</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="cap_machine.addr_reg.html#Addr"><span class="id" title="inductive">Addr</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <span class="id" title="keyword">Prop</span> :=<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="a1:65" class="idref" href="#a1:65"><span class="id" title="binder">a1</span></a> <a id="a2:66" class="idref" href="#a2:66"><span class="id" title="binder">a2</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> (<a class="idref" href="cap_machine.addr_reg.html#a1:65"><span class="id" title="variable">a1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.ZArith.BinInt.html#::Z_scope:x_'&lt;'_x"><span class="id" title="notation">&lt;</span></a> <a class="idref" href="cap_machine.addr_reg.html#a2:66"><span class="id" title="variable">a2</span></a>)%<span class="id" title="var">Z</span>.<br/>
<span class="id" title="keyword">Definition</span> <a id="leb_addr" class="idref" href="#leb_addr"><span class="id" title="definition">leb_addr</span></a> : <a class="idref" href="cap_machine.addr_reg.html#Addr"><span class="id" title="inductive">Addr</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="cap_machine.addr_reg.html#Addr"><span class="id" title="inductive">Addr</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Datatypes.html#bool"><span class="id" title="inductive">bool</span></a> :=<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="a1:67" class="idref" href="#a1:67"><span class="id" title="binder">a1</span></a> <a id="a2:68" class="idref" href="#a2:68"><span class="id" title="binder">a2</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.ZArith.BinInt.html#Z.leb"><span class="id" title="definition">Z.leb</span></a> <a class="idref" href="cap_machine.addr_reg.html#a1:67"><span class="id" title="variable">a1</span></a> <a class="idref" href="cap_machine.addr_reg.html#a2:68"><span class="id" title="variable">a2</span></a>.<br/>
<span class="id" title="keyword">Definition</span> <a id="ltb_addr" class="idref" href="#ltb_addr"><span class="id" title="definition">ltb_addr</span></a> : <a class="idref" href="cap_machine.addr_reg.html#Addr"><span class="id" title="inductive">Addr</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="cap_machine.addr_reg.html#Addr"><span class="id" title="inductive">Addr</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Datatypes.html#bool"><span class="id" title="inductive">bool</span></a> :=<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="a1:69" class="idref" href="#a1:69"><span class="id" title="binder">a1</span></a> <a id="a2:70" class="idref" href="#a2:70"><span class="id" title="binder">a2</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.ZArith.BinInt.html#Z.ltb"><span class="id" title="definition">Z.ltb</span></a> <a class="idref" href="cap_machine.addr_reg.html#a1:69"><span class="id" title="variable">a1</span></a> <a class="idref" href="cap_machine.addr_reg.html#a2:70"><span class="id" title="variable">a2</span></a>.<br/>
<span class="id" title="keyword">Definition</span> <a id="eqb_addr" class="idref" href="#eqb_addr"><span class="id" title="definition">eqb_addr</span></a> : <a class="idref" href="cap_machine.addr_reg.html#Addr"><span class="id" title="inductive">Addr</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="cap_machine.addr_reg.html#Addr"><span class="id" title="inductive">Addr</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Datatypes.html#bool"><span class="id" title="inductive">bool</span></a> :=<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="a1:71" class="idref" href="#a1:71"><span class="id" title="binder">a1</span></a> <a id="a2:72" class="idref" href="#a2:72"><span class="id" title="binder">a2</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.ZArith.BinInt.html#Z.eqb"><span class="id" title="definition">Z.eqb</span></a> <a class="idref" href="cap_machine.addr_reg.html#a1:71"><span class="id" title="variable">a1</span></a> <a class="idref" href="cap_machine.addr_reg.html#a2:72"><span class="id" title="variable">a2</span></a>.<br/>
<span class="id" title="keyword">Definition</span> <a id="za" class="idref" href="#za"><span class="id" title="definition">za</span></a> : <a class="idref" href="cap_machine.addr_reg.html#Addr"><span class="id" title="inductive">Addr</span></a> := <a class="idref" href="cap_machine.addr_reg.html#A"><span class="id" title="constructor">A</span></a> 0%<span class="id" title="var">Z</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#eq_refl"><span class="id" title="constructor">eq_refl</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#eq_refl"><span class="id" title="constructor">eq_refl</span></a>.<br/>
<span class="id" title="keyword">Definition</span> <a id="top" class="idref" href="#top"><span class="id" title="definition">top</span></a> : <a class="idref" href="cap_machine.addr_reg.html#Addr"><span class="id" title="inductive">Addr</span></a> := <a class="idref" href="cap_machine.addr_reg.html#A"><span class="id" title="constructor">A</span></a> <a class="idref" href="cap_machine.addr_reg.html#MemNum"><span class="id" title="definition">MemNum</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#eq_refl"><span class="id" title="constructor">eq_refl</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#eq_refl"><span class="id" title="constructor">eq_refl</span></a>.<br/>
<span class="id" title="var">Declare</span> <span class="id" title="keyword">Scope</span> <span class="id" title="var">Addr_scope</span>.<br/>
<span class="id" title="keyword">Delimit</span> <span class="id" title="keyword">Scope</span> <span class="id" title="var">Addr_scope</span> <span class="id" title="keyword">with</span> <span class="id" title="var">a</span>.<br/>
<span class="id" title="keyword">Notation</span> <a id="ecb49afb136c57143f8ddd1e3e9a03fe" class="idref" href="#ecb49afb136c57143f8ddd1e3e9a03fe"><span class="id" title="notation">&quot;</span></a>a1 &lt;= a2 &lt; a3" := (<a class="idref" href="cap_machine.addr_reg.html#le_lt_addr"><span class="id" title="definition">le_lt_addr</span></a> <span class="id" title="var">a1</span> <span class="id" title="var">a2</span> <span class="id" title="var">a3</span>): <span class="id" title="var">Addr_scope</span>.<br/>
<span class="id" title="keyword">Notation</span> <a id="8ccc7a9bb9ba1c27ed0dba9945a4cbb0" class="idref" href="#8ccc7a9bb9ba1c27ed0dba9945a4cbb0"><span class="id" title="notation">&quot;</span></a>a1 &lt;= a2" := (<a class="idref" href="cap_machine.addr_reg.html#le_addr"><span class="id" title="definition">le_addr</span></a> <span class="id" title="var">a1</span> <span class="id" title="var">a2</span>): <span class="id" title="var">Addr_scope</span>.<br/>
<span class="id" title="keyword">Notation</span> <a id="0d5f63436be37e7acb16042877c8bbac" class="idref" href="#0d5f63436be37e7acb16042877c8bbac"><span class="id" title="notation">&quot;</span></a>a1 &lt;=? a2" := (<a class="idref" href="cap_machine.addr_reg.html#leb_addr"><span class="id" title="definition">leb_addr</span></a> <span class="id" title="var">a1</span> <span class="id" title="var">a2</span>): <span class="id" title="var">Addr_scope</span>.<br/>
<span class="id" title="keyword">Notation</span> <a id="::Addr_scope:x_'&lt;'_x" class="idref" href="#::Addr_scope:x_'&lt;'_x"><span class="id" title="notation">&quot;</span></a>a1 &lt; a2" := (<a class="idref" href="cap_machine.addr_reg.html#lt_addr"><span class="id" title="definition">lt_addr</span></a> <span class="id" title="var">a1</span> <span class="id" title="var">a2</span>): <span class="id" title="var">Addr_scope</span>.<br/>
<span class="id" title="keyword">Notation</span> <a id="f9f0bbf7338c04b048aba7393b183966" class="idref" href="#f9f0bbf7338c04b048aba7393b183966"><span class="id" title="notation">&quot;</span></a>a1 &lt;? a2" := (<a class="idref" href="cap_machine.addr_reg.html#ltb_addr"><span class="id" title="definition">ltb_addr</span></a> <span class="id" title="var">a1</span> <span class="id" title="var">a2</span>): <span class="id" title="var">Addr_scope</span>.<br/>
<span class="id" title="keyword">Notation</span> <a id="78f5fa8e2bcce93d56bc8dcc902b0827" class="idref" href="#78f5fa8e2bcce93d56bc8dcc902b0827"><span class="id" title="notation">&quot;</span></a>a1 =? a2" := (<a class="idref" href="cap_machine.addr_reg.html#eqb_addr"><span class="id" title="definition">eqb_addr</span></a> <span class="id" title="var">a1</span> <span class="id" title="var">a2</span>): <span class="id" title="var">Addr_scope</span>.<br/>
<span class="id" title="keyword">Notation</span> <a id="::Addr_scope:'0'" class="idref" href="#::Addr_scope:'0'"><span class="id" title="notation">&quot;</span></a>0" := (<a class="idref" href="cap_machine.addr_reg.html#za"><span class="id" title="definition">za</span></a>) : <span class="id" title="var">Addr_scope</span>.<br/>

<br/>
<span class="id" title="keyword">Global Instance</span> <a id="Addr_le_dec" class="idref" href="#Addr_le_dec"><span class="id" title="instance">Addr_le_dec</span></a> : <span class="id" title="class">RelDecision</span> <a class="idref" href="cap_machine.addr_reg.html#le_addr"><span class="id" title="definition">le_addr</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">intros</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">x</span>,<span class="id" title="var">y</span>. <span class="id" title="tactic">destruct</span> (<span class="id" title="instance">Z_le_dec</span> <span class="id" title="var">z</span> <span class="id" title="var">z0</span>); [<span class="id" title="tactic">by</span> <span class="id" title="tactic">left</span>|<span class="id" title="tactic">by</span> <span class="id" title="tactic">right</span>]. <span class="id" title="keyword">Defined</span>.<br/>
<span class="id" title="keyword">Global Instance</span> <a id="Addr_lt_dec" class="idref" href="#Addr_lt_dec"><span class="id" title="instance">Addr_lt_dec</span></a> : <span class="id" title="class">RelDecision</span> <a class="idref" href="cap_machine.addr_reg.html#lt_addr"><span class="id" title="definition">lt_addr</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">intros</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">x</span>,<span class="id" title="var">y</span>. <span class="id" title="tactic">destruct</span> (<span class="id" title="instance">Z_lt_dec</span> <span class="id" title="var">z</span> <span class="id" title="var">z0</span>); [<span class="id" title="tactic">by</span> <span class="id" title="tactic">left</span>|<span class="id" title="tactic">by</span> <span class="id" title="tactic">right</span>]. <span class="id" title="keyword">Defined</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="leb_addr_spec" class="idref" href="#leb_addr_spec"><span class="id" title="lemma">leb_addr_spec</span></a>:<br/>
&nbsp;&nbsp;<span class="id" title="notation">forall</span> <a id="a1:73" class="idref" href="#a1:73"><span class="id" title="binder">a1</span></a> <a id="a2:74" class="idref" href="#a2:74"><span class="id" title="binder">a2</span></a><span class="id" title="notation">,</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Bool.Bool.html#reflect"><span class="id" title="inductive">reflect</span></a> (<a class="idref" href="cap_machine.addr_reg.html#le_addr"><span class="id" title="definition">le_addr</span></a> <a class="idref" href="cap_machine.addr_reg.html#a1:73"><span class="id" title="variable">a1</span></a> <a class="idref" href="cap_machine.addr_reg.html#a2:74"><span class="id" title="variable">a2</span></a>) (<a class="idref" href="cap_machine.addr_reg.html#leb_addr"><span class="id" title="definition">leb_addr</span></a> <a class="idref" href="cap_machine.addr_reg.html#a1:73"><span class="id" title="variable">a1</span></a> <a class="idref" href="cap_machine.addr_reg.html#a2:74"><span class="id" title="variable">a2</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="tactic">unfold</span> <a class="idref" href="cap_machine.addr_reg.html#leb_addr"><span class="id" title="definition">leb_addr</span></a>, <a class="idref" href="cap_machine.addr_reg.html#le_addr"><span class="id" title="definition">le_addr</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.ZArith.BinInt.html#Z.leb_spec0"><span class="id" title="lemma">Z.leb_spec0</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Program Definition</span> <a id="incr_addr" class="idref" href="#incr_addr"><span class="id" title="definition">incr_addr</span></a> (<a id="a:75" class="idref" href="#a:75"><span class="id" title="binder">a</span></a>: <a class="idref" href="cap_machine.addr_reg.html#Addr"><span class="id" title="inductive">Addr</span></a>) (<a id="z:76" class="idref" href="#z:76"><span class="id" title="binder">z</span></a>: <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Numbers.BinNums.html#Z"><span class="id" title="inductive">Z</span></a>): <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Datatypes.html#option"><span class="id" title="inductive">option</span></a> <a class="idref" href="cap_machine.addr_reg.html#Addr"><span class="id" title="inductive">Addr</span></a> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> (<span class="id" title="instance">Z_le_dec</span> (<a class="idref" href="cap_machine.addr_reg.html#a:75"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.ZArith.BinInt.html#46584eddd5fdb16176a10a2843177d3a"><span class="id" title="notation">+</span></a> <a class="idref" href="cap_machine.addr_reg.html#z:76"><span class="id" title="variable">z</span></a>)%<span class="id" title="var">Z</span> <a class="idref" href="cap_machine.addr_reg.html#MemNum"><span class="id" title="definition">MemNum</span></a>) <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Specif.html#left"><span class="id" title="constructor">left</span></a> <span class="id" title="var">_</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> (<span class="id" title="instance">Z_le_dec</span> 0 (<a class="idref" href="cap_machine.addr_reg.html#a:75"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.ZArith.BinInt.html#46584eddd5fdb16176a10a2843177d3a"><span class="id" title="notation">+</span></a> <a class="idref" href="cap_machine.addr_reg.html#z:76"><span class="id" title="variable">z</span></a>)%<span class="id" title="var">Z</span>) <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Specif.html#left"><span class="id" title="constructor">left</span></a> <span class="id" title="var">_</span> =&gt; <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> (<a class="idref" href="cap_machine.addr_reg.html#A"><span class="id" title="constructor">A</span></a> (<a class="idref" href="cap_machine.addr_reg.html#a:75"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.ZArith.BinInt.html#46584eddd5fdb16176a10a2843177d3a"><span class="id" title="notation">+</span></a> <a class="idref" href="cap_machine.addr_reg.html#z:76"><span class="id" title="variable">z</span></a>)%<span class="id" title="var">Z</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Specif.html#right"><span class="id" title="constructor">right</span></a> <span class="id" title="var">_</span> =&gt; <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span><br/>
&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Specif.html#right"><span class="id" title="constructor">right</span></a> <span class="id" title="var">_</span> =&gt; <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a><br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>
<span class="id" title="keyword">Next</span> <span class="id" title="keyword">Obligation</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.ZArith.BinInt.html#Z.leb_le"><span class="id" title="lemma">Z.leb_le</span></a>; <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="keyword">Defined</span>.<br/>
<span class="id" title="keyword">Next</span> <span class="id" title="keyword">Obligation</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.ZArith.BinInt.html#Z.leb_le"><span class="id" title="lemma">Z.leb_le</span></a>; <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="keyword">Defined</span>.<br/>
<span class="id" title="keyword">Notation</span> <a id="83f9bcf2054d3d441d475f25e3e951c6" class="idref" href="#83f9bcf2054d3d441d475f25e3e951c6"><span class="id" title="notation">&quot;</span></a>a1 + z" := (<a class="idref" href="cap_machine.addr_reg.html#incr_addr"><span class="id" title="definition">incr_addr</span></a> <span class="id" title="var">a1</span> <span class="id" title="var">z</span>): <span class="id" title="var">Addr_scope</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="max" class="idref" href="#max"><span class="id" title="definition">max</span></a> (<a id="a1:77" class="idref" href="#a1:77"><span class="id" title="binder">a1</span></a> <a id="a2:78" class="idref" href="#a2:78"><span class="id" title="binder">a2</span></a>: <a class="idref" href="cap_machine.addr_reg.html#Addr"><span class="id" title="inductive">Addr</span></a>): <a class="idref" href="cap_machine.addr_reg.html#Addr"><span class="id" title="inductive">Addr</span></a> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="cap_machine.addr_reg.html#Addr_le_dec"><span class="id" title="instance">Addr_le_dec</span></a> <a class="idref" href="cap_machine.addr_reg.html#a1:77"><span class="id" title="variable">a1</span></a> <a class="idref" href="cap_machine.addr_reg.html#a2:78"><span class="id" title="variable">a2</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Specif.html#left"><span class="id" title="constructor">left</span></a> <span class="id" title="var">_</span> =&gt; <a class="idref" href="cap_machine.addr_reg.html#a2:78"><span class="id" title="variable">a2</span></a><br/>
&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Specif.html#right"><span class="id" title="constructor">right</span></a> <span class="id" title="var">_</span> =&gt; <a class="idref" href="cap_machine.addr_reg.html#a1:77"><span class="id" title="variable">a1</span></a><br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="min" class="idref" href="#min"><span class="id" title="definition">min</span></a> (<a id="a1:79" class="idref" href="#a1:79"><span class="id" title="binder">a1</span></a> <a id="a2:80" class="idref" href="#a2:80"><span class="id" title="binder">a2</span></a>: <a class="idref" href="cap_machine.addr_reg.html#Addr"><span class="id" title="inductive">Addr</span></a>): <a class="idref" href="cap_machine.addr_reg.html#Addr"><span class="id" title="inductive">Addr</span></a> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="cap_machine.addr_reg.html#Addr_le_dec"><span class="id" title="instance">Addr_le_dec</span></a> <a class="idref" href="cap_machine.addr_reg.html#a1:79"><span class="id" title="variable">a1</span></a> <a class="idref" href="cap_machine.addr_reg.html#a2:80"><span class="id" title="variable">a2</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Specif.html#left"><span class="id" title="constructor">left</span></a> <span class="id" title="var">_</span> =&gt; <a class="idref" href="cap_machine.addr_reg.html#a1:79"><span class="id" title="variable">a1</span></a><br/>
&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Specif.html#right"><span class="id" title="constructor">right</span></a> <span class="id" title="var">_</span> =&gt; <a class="idref" href="cap_machine.addr_reg.html#a2:80"><span class="id" title="variable">a2</span></a><br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="min_addr_spec" class="idref" href="#min_addr_spec"><span class="id" title="lemma">min_addr_spec</span></a> (<a id="a1:81" class="idref" href="#a1:81"><span class="id" title="binder">a1</span></a> <a id="a2:82" class="idref" href="#a2:82"><span class="id" title="binder">a2</span></a>: <a class="idref" href="cap_machine.addr_reg.html#Addr"><span class="id" title="inductive">Addr</span></a>):<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">exists</span></a> <a id="a:83" class="idref" href="#a:83"><span class="id" title="binder">a</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">,</span></a> <a class="idref" href="cap_machine.addr_reg.html#min"><span class="id" title="definition">min</span></a> <a class="idref" href="cap_machine.addr_reg.html#a1:81"><span class="id" title="variable">a1</span></a> <a class="idref" href="cap_machine.addr_reg.html#a2:82"><span class="id" title="variable">a2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="cap_machine.addr_reg.html#a:83"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">(</span></a><a class="idref" href="cap_machine.addr_reg.html#a:83"><span class="id" title="variable">a</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.ssr.ssreflect.html#::core_scope:x_':'_x"><span class="id" title="notation">:</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Numbers.BinNums.html#Z"><span class="id" title="inductive">Z</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.ZArith.BinInt.html#Z.min"><span class="id" title="definition">Z.min</span></a> (<a class="idref" href="cap_machine.addr_reg.html#a1:81"><span class="id" title="variable">a1</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.ssr.ssreflect.html#::core_scope:x_':'_x"><span class="id" title="notation">:</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Numbers.BinNums.html#Z"><span class="id" title="inductive">Z</span></a>) (<a class="idref" href="cap_machine.addr_reg.html#a2:82"><span class="id" title="variable">a2</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.ssr.ssreflect.html#::core_scope:x_':'_x"><span class="id" title="notation">:</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Numbers.BinNums.html#Z"><span class="id" title="inductive">Z</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">exists</span> (<a class="idref" href="cap_machine.addr_reg.html#min"><span class="id" title="definition">min</span></a> <span class="id" title="var">a1</span> <span class="id" title="var">a2</span>); <span class="id" title="tactic">split</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="cap_machine.addr_reg.html#min"><span class="id" title="definition">min</span></a>. <span class="id" title="tactic">destruct</span> (<a class="idref" href="cap_machine.addr_reg.html#Addr_le_dec"><span class="id" title="instance">Addr_le_dec</span></a> <span class="id" title="var">a1</span> <span class="id" title="var">a2</span>); <span class="id" title="tactic">unfold</span> <a class="idref" href="cap_machine.addr_reg.html#le_addr"><span class="id" title="definition">le_addr</span></a> <span class="id" title="tactic">in</span> *; <span class="id" title="var">lia</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Ltac</span> <span class="id" title="var">min_addr_as_spec</span> <span class="id" title="var">a1</span> <span class="id" title="var">a2</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="tactic">generalize</span> (<a class="idref" href="cap_machine.addr_reg.html#min_addr_spec"><span class="id" title="lemma">min_addr_spec</span></a> <span class="id" title="var">a1</span> <span class="id" title="var">a2</span>); <span class="id" title="tactic">intros</span> [? [? ?]];<br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">ax</span> := <span class="id" title="tactic">fresh</span> "ax" <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;<span class="id" title="tactic">set</span> (<span class="id" title="var">ax</span> := (<a class="idref" href="cap_machine.addr_reg.html#min"><span class="id" title="definition">min</span></a> <span class="id" title="var">a1</span> <span class="id" title="var">a2</span>)) <span class="id" title="tactic">in</span> *;<br/>
&nbsp;&nbsp;<span class="id" title="var">clearbody</span> <span class="id" title="var">ax</span>; <span class="id" title="tactic">subst</span> <span class="id" title="var">ax</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="max_addr_spec" class="idref" href="#max_addr_spec"><span class="id" title="lemma">max_addr_spec</span></a> (<a id="a1:84" class="idref" href="#a1:84"><span class="id" title="binder">a1</span></a> <a id="a2:85" class="idref" href="#a2:85"><span class="id" title="binder">a2</span></a>: <a class="idref" href="cap_machine.addr_reg.html#Addr"><span class="id" title="inductive">Addr</span></a>):<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">exists</span></a> <a id="a:86" class="idref" href="#a:86"><span class="id" title="binder">a</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">,</span></a> <a class="idref" href="cap_machine.addr_reg.html#max"><span class="id" title="definition">max</span></a> <a class="idref" href="cap_machine.addr_reg.html#a1:84"><span class="id" title="variable">a1</span></a> <a class="idref" href="cap_machine.addr_reg.html#a2:85"><span class="id" title="variable">a2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="cap_machine.addr_reg.html#a:86"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">(</span></a><a class="idref" href="cap_machine.addr_reg.html#a:86"><span class="id" title="variable">a</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.ssr.ssreflect.html#::core_scope:x_':'_x"><span class="id" title="notation">:</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Numbers.BinNums.html#Z"><span class="id" title="inductive">Z</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.ZArith.BinInt.html#Z.max"><span class="id" title="definition">Z.max</span></a> (<a class="idref" href="cap_machine.addr_reg.html#a1:84"><span class="id" title="variable">a1</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.ssr.ssreflect.html#::core_scope:x_':'_x"><span class="id" title="notation">:</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Numbers.BinNums.html#Z"><span class="id" title="inductive">Z</span></a>) (<a class="idref" href="cap_machine.addr_reg.html#a2:85"><span class="id" title="variable">a2</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.ssr.ssreflect.html#::core_scope:x_':'_x"><span class="id" title="notation">:</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Numbers.BinNums.html#Z"><span class="id" title="inductive">Z</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">exists</span> (<a class="idref" href="cap_machine.addr_reg.html#max"><span class="id" title="definition">max</span></a> <span class="id" title="var">a1</span> <span class="id" title="var">a2</span>); <span class="id" title="tactic">split</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="cap_machine.addr_reg.html#max"><span class="id" title="definition">max</span></a>. <span class="id" title="tactic">destruct</span> (<a class="idref" href="cap_machine.addr_reg.html#Addr_le_dec"><span class="id" title="instance">Addr_le_dec</span></a> <span class="id" title="var">a1</span> <span class="id" title="var">a2</span>); <span class="id" title="tactic">unfold</span> <a class="idref" href="cap_machine.addr_reg.html#le_addr"><span class="id" title="definition">le_addr</span></a> <span class="id" title="tactic">in</span> *; <span class="id" title="var">lia</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Ltac</span> <span class="id" title="var">max_addr_as_spec</span> <span class="id" title="var">a1</span> <span class="id" title="var">a2</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="tactic">generalize</span> (<a class="idref" href="cap_machine.addr_reg.html#max_addr_spec"><span class="id" title="lemma">max_addr_spec</span></a> <span class="id" title="var">a1</span> <span class="id" title="var">a2</span>); <span class="id" title="tactic">intros</span> [? [? ?]];<br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">ax</span> := <span class="id" title="tactic">fresh</span> "ax" <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;<span class="id" title="tactic">set</span> (<span class="id" title="var">ax</span> := (<a class="idref" href="cap_machine.addr_reg.html#max"><span class="id" title="definition">max</span></a> <span class="id" title="var">a1</span> <span class="id" title="var">a2</span>)) <span class="id" title="tactic">in</span> *;<br/>
&nbsp;&nbsp;<span class="id" title="var">clearbody</span> <span class="id" title="var">ax</span>; <span class="id" title="tactic">subst</span> <span class="id" title="var">ax</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="get_addr_from_option_addr" class="idref" href="#get_addr_from_option_addr"><span class="id" title="definition">get_addr_from_option_addr</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Datatypes.html#option"><span class="id" title="inductive">option</span></a> <a class="idref" href="cap_machine.addr_reg.html#Addr"><span class="id" title="inductive">Addr</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="cap_machine.addr_reg.html#Addr"><span class="id" title="inductive">Addr</span></a> :=<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="e_opt:87" class="idref" href="#e_opt:87"><span class="id" title="binder">e_opt</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <span class="id" title="keyword">match</span> <a class="idref" href="cap_machine.addr_reg.html#e_opt:87"><span class="id" title="variable">e_opt</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <span class="id" title="var">e</span> =&gt; <span class="id" title="var">e</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a> =&gt; <a class="idref" href="cap_machine.addr_reg.html#top"><span class="id" title="definition">top</span></a>%<span class="id" title="var">a</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="id" title="keyword">Notation</span> <a id="1d48f14c43e86dff2b7280147a285103" class="idref" href="#1d48f14c43e86dff2b7280147a285103"><span class="id" title="notation">&quot;</span></a>^ a" := (<a class="idref" href="cap_machine.addr_reg.html#get_addr_from_option_addr"><span class="id" title="definition">get_addr_from_option_addr</span></a> <span class="id" title="var">a</span>) (<span class="id" title="var">format</span> "^ a", <span class="id" title="tactic">at</span> <span class="id" title="keyword">level</span> 1) : <span class="id" title="var">Addr_scope</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="incr_addr_default" class="idref" href="#incr_addr_default"><span class="id" title="definition">incr_addr_default</span></a> (<a id="a:89" class="idref" href="#a:89"><span class="id" title="binder">a</span></a>: <a class="idref" href="cap_machine.addr_reg.html#Addr"><span class="id" title="inductive">Addr</span></a>) (<a id="z:90" class="idref" href="#z:90"><span class="id" title="binder">z</span></a>: <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Numbers.BinNums.html#Z"><span class="id" title="inductive">Z</span></a>): <a class="idref" href="cap_machine.addr_reg.html#Addr"><span class="id" title="inductive">Addr</span></a> := (<a class="idref" href="cap_machine.addr_reg.html#1d48f14c43e86dff2b7280147a285103"><span class="id" title="notation">^</span></a> <a class="idref" href="cap_machine.addr_reg.html#1d48f14c43e86dff2b7280147a285103"><span class="id" title="notation">(</span></a><a class="idref" href="cap_machine.addr_reg.html#a:89"><span class="id" title="variable">a</span></a> <a class="idref" href="cap_machine.addr_reg.html#83f9bcf2054d3d441d475f25e3e951c6"><span class="id" title="notation">+</span></a> <a class="idref" href="cap_machine.addr_reg.html#z:90"><span class="id" title="variable">z</span></a><a class="idref" href="cap_machine.addr_reg.html#1d48f14c43e86dff2b7280147a285103"><span class="id" title="notation">)</span></a>)%<span class="id" title="var">a</span>.<br/>
<span class="id" title="keyword">Notation</span> <a id="58e53c8acf01fb8822eb5bae448055ec" class="idref" href="#58e53c8acf01fb8822eb5bae448055ec"><span class="id" title="notation">&quot;</span></a>a ^+ z" := (<a class="idref" href="cap_machine.addr_reg.html#incr_addr_default"><span class="id" title="definition">incr_addr_default</span></a> <span class="id" title="var">a</span> <span class="id" title="var">z</span>) (<span class="id" title="tactic">at</span> <span class="id" title="keyword">level</span> 50) : <span class="id" title="var">Addr_scope</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="addr_unique" class="idref" href="#addr_unique"><span class="id" title="lemma">addr_unique</span></a> <a id="a:91" class="idref" href="#a:91"><span class="id" title="binder">a</span></a> <a id="a':92" class="idref" href="#a':92"><span class="id" title="binder">a'</span></a> <a id="fin:93" class="idref" href="#fin:93"><span class="id" title="binder">fin</span></a> <a id="fin':94" class="idref" href="#fin':94"><span class="id" title="binder">fin'</span></a> <a id="pos:95" class="idref" href="#pos:95"><span class="id" title="binder">pos</span></a> <a id="pos':96" class="idref" href="#pos':96"><span class="id" title="binder">pos'</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.addr_reg.html#a:91"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="cap_machine.addr_reg.html#a':92"><span class="id" title="variable">a'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="cap_machine.addr_reg.html#A"><span class="id" title="constructor">A</span></a> <a class="idref" href="cap_machine.addr_reg.html#a:91"><span class="id" title="variable">a</span></a> <a class="idref" href="cap_machine.addr_reg.html#fin:93"><span class="id" title="variable">fin</span></a> <a class="idref" href="cap_machine.addr_reg.html#pos:95"><span class="id" title="variable">pos</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="cap_machine.addr_reg.html#A"><span class="id" title="constructor">A</span></a> <a class="idref" href="cap_machine.addr_reg.html#a':92"><span class="id" title="variable">a'</span></a> <a class="idref" href="cap_machine.addr_reg.html#fin':94"><span class="id" title="variable">fin'</span></a> <a class="idref" href="cap_machine.addr_reg.html#pos':96"><span class="id" title="variable">pos'</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> -&gt;. <span class="id" title="tactic">repeat</span> <span class="id" title="tactic">f_equal</span>; <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Logic.Eqdep_dec.html#eq_proofs_unicity"><span class="id" title="lemma">eq_proofs_unicity</span></a>; <span class="id" title="var">decide</span> <span class="id" title="var">equality</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>
</div>
<div id="footer">
  Generated by <a href="http://coq.inria.fr/">coqdoc</a> and improved with <a href="https://github.com/tebbi/coqdocjs">CoqdocJS</a>
</div>
</div>
</body>

</html>
